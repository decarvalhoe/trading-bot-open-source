var eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h_={exports:{}},Uf={},m_={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),fE=Symbol.for("react.portal"),dE=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),hE=Symbol.for("react.profiler"),mE=Symbol.for("react.provider"),gE=Symbol.for("react.context"),yE=Symbol.for("react.forward_ref"),vE=Symbol.for("react.suspense"),bE=Symbol.for("react.memo"),wE=Symbol.for("react.lazy"),Tb=Symbol.iterator;function xE(e){return e===null||typeof e!="object"?null:(e=Tb&&e[Tb]||e["@@iterator"],typeof e=="function"?e:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y_=Object.assign,v_={};function go(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||g_}go.prototype.isReactComponent={};go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b_(){}b_.prototype=go.prototype;function ly(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||g_}var uy=ly.prototype=new b_;uy.constructor=ly;y_(uy,go.prototype);uy.isPureReactComponent=!0;var Nb=Array.isArray,w_=Object.prototype.hasOwnProperty,cy={current:null},x_={key:!0,ref:!0,__self:!0,__source:!0};function S_(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)w_.call(t,r)&&!x_.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Cl,type:e,key:a,ref:o,props:i,_owner:cy.current}}function SE(e,t){return{$$typeof:Cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cl}function _E(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cb=/\/+/g;function sp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_E(""+e.key):t.toString(36)}function Hu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cl:case fE:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+sp(o,0):r,Nb(i)?(n="",e!=null&&(n=e.replace(Cb,"$&/")+"/"),Hu(i,t,n,"",function(u){return u})):i!=null&&(fy(i)&&(i=SE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Nb(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+sp(a,s);o+=Hu(a,t,n,l,i)}else if(l=xE(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+sp(a,s++),o+=Hu(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function tu(e,t,n){if(e==null)return e;var r=[],i=0;return Hu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function OE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},Gu={transition:null},jE={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:cy};function __(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:tu,forEach:function(e,t,n){tu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tu(e,function(){t++}),t},toArray:function(e){return tu(e,function(t){return t})||[]},only:function(e){if(!fy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=go;fe.Fragment=dE;fe.Profiler=hE;fe.PureComponent=ly;fe.StrictMode=pE;fe.Suspense=vE;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE;fe.act=__;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=y_({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=cy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)w_.call(t,l)&&!x_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Cl,type:e.type,key:i,ref:a,props:r,_owner:o}};fe.createContext=function(e){return e={$$typeof:gE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mE,_context:e},e.Consumer=e};fe.createElement=S_;fe.createFactory=function(e){var t=S_.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:yE,render:e}};fe.isValidElement=fy;fe.lazy=function(e){return{$$typeof:wE,_payload:{_status:-1,_result:e},_init:OE}};fe.memo=function(e,t){return{$$typeof:bE,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Gu.transition;Gu.transition={};try{e()}finally{Gu.transition=t}};fe.unstable_act=__;fe.useCallback=function(e,t){return Tt.current.useCallback(e,t)};fe.useContext=function(e){return Tt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Tt.current.useEffect(e,t)};fe.useId=function(){return Tt.current.useId()};fe.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Tt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};fe.useRef=function(e){return Tt.current.useRef(e)};fe.useState=function(e){return Tt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return Tt.current.useTransition()};fe.version="18.3.1";m_.exports=fe;var $=m_.exports;const R=Pe($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=$,PE=Symbol.for("react.element"),kE=Symbol.for("react.fragment"),$E=Object.prototype.hasOwnProperty,EE=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TE={key:!0,ref:!0,__self:!0,__source:!0};function O_(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$E.call(t,r)&&!TE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:PE,type:e,key:a,ref:o,props:i,_owner:EE.current}}Uf.Fragment=kE;Uf.jsx=O_;Uf.jsxs=O_;h_.exports=Uf;var h=h_.exports,j_={exports:{}},Jt={},A_={exports:{}},P_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,D){var B=C.length;C.push(D);e:for(;0<B;){var K=B-1>>>1,z=C[K];if(0<i(z,D))C[K]=D,C[B]=z,B=K;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var D=C[0],B=C.pop();if(B!==D){C[0]=B;e:for(var K=0,z=C.length,Y=z>>>1;K<Y;){var ee=2*(K+1)-1,ue=C[ee],ke=ee+1,Je=C[ke];if(0>i(ue,B))ke<z&&0>i(Je,ue)?(C[K]=Je,C[ke]=B,K=ke):(C[K]=ue,C[ee]=B,K=ee);else if(ke<z&&0>i(Je,B))C[K]=Je,C[ke]=B,K=ke;else break e}}return D}function i(C,D){var B=C.sortIndex-D.sortIndex;return B!==0?B:C.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,c=null,d=3,p=!1,y=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=C)r(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(u)}}function _(C){if(m=!1,x(C),!y)if(n(l)!==null)y=!0,M(v);else{var D=n(u);D!==null&&L(_,D.startTime-C)}}function v(C,D){y=!1,m&&(m=!1,w(j),j=-1),p=!0;var B=d;try{for(x(D),c=n(l);c!==null&&(!(c.expirationTime>D)||C&&!T());){var K=c.callback;if(typeof K=="function"){c.callback=null,d=c.priorityLevel;var z=K(c.expirationTime<=D);D=e.unstable_now(),typeof z=="function"?c.callback=z:c===n(l)&&r(l),x(D)}else r(l);c=n(l)}if(c!==null)var Y=!0;else{var ee=n(u);ee!==null&&L(_,ee.startTime-D),Y=!1}return Y}finally{c=null,d=B,p=!1}}var S=!1,O=null,j=-1,A=5,k=-1;function T(){return!(e.unstable_now()-k<A)}function P(){if(O!==null){var C=e.unstable_now();k=C;var D=!0;try{D=O(!0,C)}finally{D?E():(S=!1,O=null)}}else S=!1}var E;if(typeof g=="function")E=function(){g(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,I=N.port2;N.port1.onmessage=P,E=function(){I.postMessage(null)}}else E=function(){b(P,0)};function M(C){O=C,S||(S=!0,E())}function L(C,D){j=b(function(){C(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,M(v))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var B=d;d=D;try{return C()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,D){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=d;d=C;try{return D()}finally{d=B}},e.unstable_scheduleCallback=function(C,D,B){var K=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,C={id:f++,callback:D,priorityLevel:C,startTime:B,expirationTime:z,sortIndex:-1},B>K?(C.sortIndex=B,t(u,C),n(l)===null&&C===n(u)&&(m?(w(j),j=-1):m=!0,L(_,B-K))):(C.sortIndex=z,t(l,C),y||p||(y=!0,M(v))),C},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(C){var D=d;return function(){var B=d;d=D;try{return C.apply(this,arguments)}finally{d=B}}}})(P_);A_.exports=P_;var NE=A_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE=$,Xt=NE;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k_=new Set,$s={};function zi(e,t){Ba(e,t),Ba(e+"Capture",t)}function Ba(e,t){for($s[e]=t,e=0;e<t.length;e++)k_.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$h=Object.prototype.hasOwnProperty,IE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ib={},Mb={};function ME(e){return $h.call(Mb,e)?!0:$h.call(Ib,e)?!1:IE.test(e)?Mb[e]=!0:(Ib[e]=!0,!1)}function LE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DE(e,t,n,r){if(t===null||typeof t>"u"||LE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function py(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dy,py);yt[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dy,py);yt[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dy,py);yt[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function hy(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DE(t,n,i,r)&&(n=null),r||i===null?ME(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wr=CE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nu=Symbol.for("react.element"),oa=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),Eh=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),E_=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),Th=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),yy=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),T_=Symbol.for("react.offscreen"),Lb=Symbol.iterator;function Fo(e){return e===null||typeof e!="object"?null:(e=Lb&&e[Lb]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,lp;function os(e){if(lp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lp=t&&t[1]||""}return`
`+lp+e}var up=!1;function cp(e,t){if(!e||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{up=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?os(e):""}function RE(e){switch(e.tag){case 5:return os(e.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return e=cp(e.type,!1),e;case 11:return e=cp(e.type.render,!1),e;case 1:return e=cp(e.type,!0),e;default:return""}}function Ch(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sa:return"Fragment";case oa:return"Portal";case Eh:return"Profiler";case my:return"StrictMode";case Th:return"Suspense";case Nh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E_:return(e.displayName||"Context")+".Consumer";case $_:return(e._context.displayName||"Context")+".Provider";case gy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yy:return t=e.displayName||null,t!==null?t:Ch(e.type)||"Memo";case Ar:t=e._payload,e=e._init;try{return Ch(e(t))}catch{}}return null}function BE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(t);case 8:return t===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FE(e){var t=N_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ru(e){e._valueTracker||(e._valueTracker=FE(e))}function C_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=N_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ih(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Db(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function I_(e,t){t=t.checked,t!=null&&hy(e,"checked",t,!1)}function Mh(e,t){I_(e,t);var n=Hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,Hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lh(e,t,n){(t!=="number"||fc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ss=Array.isArray;function Pa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Dh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(ss(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hr(n)}}function M_(e,t){var n=Hr(t.value),r=Hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,D_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zE=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(e){zE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ds[t]=ds[e]})});function R_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ds.hasOwnProperty(e)&&ds[e]?(""+t).trim():t+"px"}function B_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=R_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var UE=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(e,t){if(t){if(UE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Fh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=null;function vy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uh=null,ka=null,$a=null;function zb(e){if(e=Ll(e)){if(typeof Uh!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Hf(t),Uh(e.stateNode,e.type,t))}}function F_(e){ka?$a?$a.push(e):$a=[e]:ka=e}function z_(){if(ka){var e=ka,t=$a;if($a=ka=null,zb(e),t)for(e=0;e<t.length;e++)zb(t[e])}}function U_(e,t){return e(t)}function K_(){}var fp=!1;function V_(e,t,n){if(fp)return e(t,n);fp=!0;try{return U_(e,t,n)}finally{fp=!1,(ka!==null||$a!==null)&&(K_(),z_())}}function Ts(e,t){var n=e.stateNode;if(n===null)return null;var r=Hf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Kh=!1;if(dr)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Kh=!1}function KE(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ps=!1,dc=null,pc=!1,Vh=null,VE={onError:function(e){ps=!0,dc=e}};function qE(e,t,n,r,i,a,o,s,l){ps=!1,dc=null,KE.apply(VE,arguments)}function WE(e,t,n,r,i,a,o,s,l){if(qE.apply(this,arguments),ps){if(ps){var u=dc;ps=!1,dc=null}else throw Error(W(198));pc||(pc=!0,Vh=u)}}function Ui(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function q_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ub(e){if(Ui(e)!==e)throw Error(W(188))}function HE(e){var t=e.alternate;if(!t){if(t=Ui(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ub(i),e;if(a===r)return Ub(i),t;a=a.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function W_(e){return e=HE(e),e!==null?H_(e):null}function H_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H_(e);if(t!==null)return t;e=e.sibling}return null}var G_=Xt.unstable_scheduleCallback,Kb=Xt.unstable_cancelCallback,GE=Xt.unstable_shouldYield,YE=Xt.unstable_requestPaint,We=Xt.unstable_now,XE=Xt.unstable_getCurrentPriorityLevel,by=Xt.unstable_ImmediatePriority,Y_=Xt.unstable_UserBlockingPriority,hc=Xt.unstable_NormalPriority,QE=Xt.unstable_LowPriority,X_=Xt.unstable_IdlePriority,Kf=null,Un=null;function JE(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Kf,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:tT,ZE=Math.log,eT=Math.LN2;function tT(e){return e>>>=0,e===0?32:31-(ZE(e)/eT|0)|0}var au=64,ou=4194304;function ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=ls(s):(a&=o,a!==0&&(r=ls(a)))}else o=n&~i,o!==0?r=ls(o):a!==0&&(r=ls(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),i=1<<n,r|=e[n],t&=~i;return r}function nT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Tn(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=nT(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function qh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q_(){var e=au;return au<<=1,!(au&4194240)&&(au=64),e}function dp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Il(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function iT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Tn(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function wy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function J_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Z_,xy,eO,tO,nO,Wh=!1,su=[],Lr=null,Dr=null,Rr=null,Ns=new Map,Cs=new Map,Er=[],aT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vb(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Uo(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ll(t),t!==null&&xy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oT(e,t,n,r,i){switch(t){case"focusin":return Lr=Uo(Lr,e,t,n,r,i),!0;case"dragenter":return Dr=Uo(Dr,e,t,n,r,i),!0;case"mouseover":return Rr=Uo(Rr,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ns.set(a,Uo(Ns.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Cs.set(a,Uo(Cs.get(a)||null,e,t,n,r,i)),!0}return!1}function rO(e){var t=pi(e.target);if(t!==null){var n=Ui(t);if(n!==null){if(t=n.tag,t===13){if(t=q_(n),t!==null){e.blockedOn=t,nO(e.priority,function(){eO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zh=r,n.target.dispatchEvent(r),zh=null}else return t=Ll(n),t!==null&&xy(t),e.blockedOn=n,!1;t.shift()}return!0}function qb(e,t,n){Yu(e)&&n.delete(t)}function sT(){Wh=!1,Lr!==null&&Yu(Lr)&&(Lr=null),Dr!==null&&Yu(Dr)&&(Dr=null),Rr!==null&&Yu(Rr)&&(Rr=null),Ns.forEach(qb),Cs.forEach(qb)}function Ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Wh||(Wh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,sT)))}function Is(e){function t(i){return Ko(i,e)}if(0<su.length){Ko(su[0],e);for(var n=1;n<su.length;n++){var r=su[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lr!==null&&Ko(Lr,e),Dr!==null&&Ko(Dr,e),Rr!==null&&Ko(Rr,e),Ns.forEach(t),Cs.forEach(t),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)rO(n),n.blockedOn===null&&Er.shift()}var Ea=wr.ReactCurrentBatchConfig,gc=!0;function lT(e,t,n,r){var i=Se,a=Ea.transition;Ea.transition=null;try{Se=1,Sy(e,t,n,r)}finally{Se=i,Ea.transition=a}}function uT(e,t,n,r){var i=Se,a=Ea.transition;Ea.transition=null;try{Se=4,Sy(e,t,n,r)}finally{Se=i,Ea.transition=a}}function Sy(e,t,n,r){if(gc){var i=Hh(e,t,n,r);if(i===null)Sp(e,t,r,yc,n),Vb(e,r);else if(oT(i,e,t,n,r))r.stopPropagation();else if(Vb(e,r),t&4&&-1<aT.indexOf(e)){for(;i!==null;){var a=Ll(i);if(a!==null&&Z_(a),a=Hh(e,t,n,r),a===null&&Sp(e,t,r,yc,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Sp(e,t,r,null,n)}}var yc=null;function Hh(e,t,n,r){if(yc=null,e=vy(r),e=pi(e),e!==null)if(t=Ui(e),t===null)e=null;else if(n=t.tag,n===13){if(e=q_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yc=e,null}function iO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XE()){case by:return 1;case Y_:return 4;case hc:case QE:return 16;case X_:return 536870912;default:return 16}default:return 16}}var Cr=null,_y=null,Xu=null;function aO(){if(Xu)return Xu;var e,t=_y,n=t.length,r,i="value"in Cr?Cr.value:Cr.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Xu=i.slice(e,1<r?1-r:void 0)}function Qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lu(){return!0}function Wb(){return!1}function Zt(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?lu:Wb,this.isPropagationStopped=Wb,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),t}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oy=Zt(yo),Ml=Ke({},yo,{view:0,detail:0}),cT=Zt(Ml),pp,hp,Vo,Vf=Ke({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vo&&(Vo&&e.type==="mousemove"?(pp=e.screenX-Vo.screenX,hp=e.screenY-Vo.screenY):hp=pp=0,Vo=e),pp)},movementY:function(e){return"movementY"in e?e.movementY:hp}}),Hb=Zt(Vf),fT=Ke({},Vf,{dataTransfer:0}),dT=Zt(fT),pT=Ke({},Ml,{relatedTarget:0}),mp=Zt(pT),hT=Ke({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),mT=Zt(hT),gT=Ke({},yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yT=Zt(gT),vT=Ke({},yo,{data:0}),Gb=Zt(vT),bT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ST(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xT[e])?!!t[e]:!1}function jy(){return ST}var _T=Ke({},Ml,{key:function(e){if(e.key){var t=bT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jy,charCode:function(e){return e.type==="keypress"?Qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OT=Zt(_T),jT=Ke({},Vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yb=Zt(jT),AT=Ke({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jy}),PT=Zt(AT),kT=Ke({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$T=Zt(kT),ET=Ke({},Vf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TT=Zt(ET),NT=[9,13,27,32],Ay=dr&&"CompositionEvent"in window,hs=null;dr&&"documentMode"in document&&(hs=document.documentMode);var CT=dr&&"TextEvent"in window&&!hs,oO=dr&&(!Ay||hs&&8<hs&&11>=hs),Xb=" ",Qb=!1;function sO(e,t){switch(e){case"keyup":return NT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function IT(e,t){switch(e){case"compositionend":return lO(t);case"keypress":return t.which!==32?null:(Qb=!0,Xb);case"textInput":return e=t.data,e===Xb&&Qb?null:e;default:return null}}function MT(e,t){if(la)return e==="compositionend"||!Ay&&sO(e,t)?(e=aO(),Xu=_y=Cr=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oO&&t.locale!=="ko"?null:t.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LT[e.type]:t==="textarea"}function uO(e,t,n,r){F_(r),t=vc(t,"onChange"),0<t.length&&(n=new Oy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ms=null,Ms=null;function DT(e){wO(e,0)}function qf(e){var t=fa(e);if(C_(t))return e}function RT(e,t){if(e==="change")return t}var cO=!1;if(dr){var gp;if(dr){var yp="oninput"in document;if(!yp){var Zb=document.createElement("div");Zb.setAttribute("oninput","return;"),yp=typeof Zb.oninput=="function"}gp=yp}else gp=!1;cO=gp&&(!document.documentMode||9<document.documentMode)}function e0(){ms&&(ms.detachEvent("onpropertychange",fO),Ms=ms=null)}function fO(e){if(e.propertyName==="value"&&qf(Ms)){var t=[];uO(t,Ms,e,vy(e)),V_(DT,t)}}function BT(e,t,n){e==="focusin"?(e0(),ms=t,Ms=n,ms.attachEvent("onpropertychange",fO)):e==="focusout"&&e0()}function FT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qf(Ms)}function zT(e,t){if(e==="click")return qf(t)}function UT(e,t){if(e==="input"||e==="change")return qf(t)}function KT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:KT;function Ls(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$h.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function t0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n0(e,t){var n=t0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=t0(n)}}function dO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pO(){for(var e=window,t=fc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fc(e.document)}return t}function Py(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VT(e){var t=pO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dO(n.ownerDocument.documentElement,n)){if(r!==null&&Py(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=n0(n,a);var o=n0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qT=dr&&"documentMode"in document&&11>=document.documentMode,ua=null,Gh=null,gs=null,Yh=!1;function r0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||ua==null||ua!==fc(r)||(r=ua,"selectionStart"in r&&Py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&Ls(gs,r)||(gs=r,r=vc(Gh,"onSelect"),0<r.length&&(t=new Oy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ua)))}function uu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ca={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},vp={},hO={};dr&&(hO=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Wf(e){if(vp[e])return vp[e];if(!ca[e])return e;var t=ca[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hO)return vp[e]=t[n];return e}var mO=Wf("animationend"),gO=Wf("animationiteration"),yO=Wf("animationstart"),vO=Wf("transitionend"),bO=new Map,i0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){bO.set(e,t),zi(t,[e])}for(var bp=0;bp<i0.length;bp++){var wp=i0[bp],WT=wp.toLowerCase(),HT=wp[0].toUpperCase()+wp.slice(1);Xr(WT,"on"+HT)}Xr(mO,"onAnimationEnd");Xr(gO,"onAnimationIteration");Xr(yO,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(vO,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function a0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,WE(r,t,void 0,e),e.currentTarget=null}function wO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a0(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a0(i,s,u),a=l}}}if(pc)throw e=Vh,pc=!1,Vh=null,e}function Ne(e,t){var n=t[em];n===void 0&&(n=t[em]=new Set);var r=e+"__bubble";n.has(r)||(xO(t,e,2,!1),n.add(r))}function xp(e,t,n){var r=0;t&&(r|=4),xO(n,e,r,t)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Ds(e){if(!e[cu]){e[cu]=!0,k_.forEach(function(n){n!=="selectionchange"&&(GT.has(n)||xp(n,!1,e),xp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cu]||(t[cu]=!0,xp("selectionchange",!1,t))}}function xO(e,t,n,r){switch(iO(t)){case 1:var i=lT;break;case 4:i=uT;break;default:i=Sy}n=i.bind(null,t,n,e),i=void 0,!Kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Sp(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=pi(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}V_(function(){var u=a,f=vy(n),c=[];e:{var d=bO.get(e);if(d!==void 0){var p=Oy,y=e;switch(e){case"keypress":if(Qu(n)===0)break e;case"keydown":case"keyup":p=OT;break;case"focusin":y="focus",p=mp;break;case"focusout":y="blur",p=mp;break;case"beforeblur":case"afterblur":p=mp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PT;break;case mO:case gO:case yO:p=mT;break;case vO:p=$T;break;case"scroll":p=cT;break;case"wheel":p=TT;break;case"copy":case"cut":case"paste":p=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Yb}var m=(t&4)!==0,b=!m&&e==="scroll",w=m?d!==null?d+"Capture":null:d;m=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,w!==null&&(_=Ts(g,w),_!=null&&m.push(Rs(g,_,x)))),b)break;g=g.return}0<m.length&&(d=new p(d,y,null,n,f),c.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==zh&&(y=n.relatedTarget||n.fromElement)&&(pi(y)||y[pr]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?pi(y):null,y!==null&&(b=Ui(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=Hb,_="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=Yb,_="onPointerLeave",w="onPointerEnter",g="pointer"),b=p==null?d:fa(p),x=y==null?d:fa(y),d=new m(_,g+"leave",p,n,f),d.target=b,d.relatedTarget=x,_=null,pi(f)===u&&(m=new m(w,g+"enter",y,n,f),m.target=x,m.relatedTarget=b,_=m),b=_,p&&y)t:{for(m=p,w=y,g=0,x=m;x;x=Xi(x))g++;for(x=0,_=w;_;_=Xi(_))x++;for(;0<g-x;)m=Xi(m),g--;for(;0<x-g;)w=Xi(w),x--;for(;g--;){if(m===w||w!==null&&m===w.alternate)break t;m=Xi(m),w=Xi(w)}m=null}else m=null;p!==null&&o0(c,d,p,m,!1),y!==null&&b!==null&&o0(c,b,y,m,!0)}}e:{if(d=u?fa(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var v=RT;else if(Jb(d))if(cO)v=UT;else{v=FT;var S=BT}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(v=zT);if(v&&(v=v(e,u))){uO(c,v,n,f);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Lh(d,"number",d.value)}switch(S=u?fa(u):window,e){case"focusin":(Jb(S)||S.contentEditable==="true")&&(ua=S,Gh=u,gs=null);break;case"focusout":gs=Gh=ua=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,r0(c,n,f);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":r0(c,n,f)}var O;if(Ay)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else la?sO(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(oO&&n.locale!=="ko"&&(la||j!=="onCompositionStart"?j==="onCompositionEnd"&&la&&(O=aO()):(Cr=f,_y="value"in Cr?Cr.value:Cr.textContent,la=!0)),S=vc(u,j),0<S.length&&(j=new Gb(j,e,null,n,f),c.push({event:j,listeners:S}),O?j.data=O:(O=lO(n),O!==null&&(j.data=O)))),(O=CT?IT(e,n):MT(e,n))&&(u=vc(u,"onBeforeInput"),0<u.length&&(f=new Gb("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=O))}wO(c,t)})}function Rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ts(e,n),a!=null&&r.unshift(Rs(e,a,i)),a=Ts(e,t),a!=null&&r.push(Rs(e,a,i))),e=e.return}return r}function Xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o0(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Ts(n,a),l!=null&&o.unshift(Rs(n,l,s))):i||(l=Ts(n,a),l!=null&&o.push(Rs(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function s0(e){return(typeof e=="string"?e:""+e).replace(YT,`
`).replace(XT,"")}function fu(e,t,n){if(t=s0(t),s0(e)!==t&&n)throw Error(W(425))}function bc(){}var Xh=null,Qh=null;function Jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(e){return l0.resolve(null).then(e).catch(ZT)}:Zh;function ZT(e){setTimeout(function(){throw e})}function _p(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Is(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Is(t)}function Br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+vo,Bs="__reactProps$"+vo,pr="__reactContainer$"+vo,em="__reactEvents$"+vo,eN="__reactListeners$"+vo,tN="__reactHandles$"+vo;function pi(e){var t=e[Bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[Bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=u0(e);e!==null;){if(n=e[Bn])return n;e=u0(e)}return t}e=n,n=e.parentNode}return null}function Ll(e){return e=e[Bn]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Hf(e){return e[Bs]||null}var tm=[],da=-1;function Qr(e){return{current:e}}function Me(e){0>da||(e.current=tm[da],tm[da]=null,da--)}function Te(e,t){da++,tm[da]=e.current,e.current=t}var Gr={},At=Qr(Gr),Rt=Qr(!1),$i=Gr;function Fa(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(e){return e=e.childContextTypes,e!=null}function wc(){Me(Rt),Me(At)}function c0(e,t,n){if(At.current!==Gr)throw Error(W(168));Te(At,t),Te(Rt,n)}function SO(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,BE(e)||"Unknown",i));return Ke({},n,r)}function xc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,$i=At.current,Te(At,e),Te(Rt,Rt.current),!0}function f0(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=SO(e,t,$i),r.__reactInternalMemoizedMergedChildContext=e,Me(Rt),Me(At),Te(At,e)):Me(Rt),Te(Rt,n)}var er=null,Gf=!1,Op=!1;function _O(e){er===null?er=[e]:er.push(e)}function nN(e){Gf=!0,_O(e)}function Jr(){if(!Op&&er!==null){Op=!0;var e=0,t=Se;try{var n=er;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}er=null,Gf=!1}catch(i){throw er!==null&&(er=er.slice(e+1)),G_(by,Jr),i}finally{Se=t,Op=!1}}return null}var pa=[],ha=0,Sc=null,_c=0,rn=[],an=0,Ei=null,tr=1,nr="";function si(e,t){pa[ha++]=_c,pa[ha++]=Sc,Sc=e,_c=t}function OO(e,t,n){rn[an++]=tr,rn[an++]=nr,rn[an++]=Ei,Ei=e;var r=tr;e=nr;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var a=32-Tn(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,tr=1<<32-Tn(t)+i|n<<i|r,nr=a+e}else tr=1<<a|n<<i|r,nr=e}function ky(e){e.return!==null&&(si(e,1),OO(e,1,0))}function $y(e){for(;e===Sc;)Sc=pa[--ha],pa[ha]=null,_c=pa[--ha],pa[ha]=null;for(;e===Ei;)Ei=rn[--an],rn[an]=null,nr=rn[--an],rn[an]=null,tr=rn[--an],rn[an]=null}var Yt=null,Gt=null,Le=!1,Pn=null;function jO(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function d0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Gt=Br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ei!==null?{id:tr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Gt=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rm(e){if(Le){var t=Gt;if(t){var n=t;if(!d0(e,t)){if(nm(e))throw Error(W(418));t=Br(n.nextSibling);var r=Yt;t&&d0(e,t)?jO(r,n):(e.flags=e.flags&-4097|2,Le=!1,Yt=e)}}else{if(nm(e))throw Error(W(418));e.flags=e.flags&-4097|2,Le=!1,Yt=e}}}function p0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function du(e){if(e!==Yt)return!1;if(!Le)return p0(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jh(e.type,e.memoizedProps)),t&&(t=Gt)){if(nm(e))throw AO(),Error(W(418));for(;t;)jO(e,t),t=Br(t.nextSibling)}if(p0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gt=Br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Yt?Br(e.stateNode.nextSibling):null;return!0}function AO(){for(var e=Gt;e;)e=Br(e.nextSibling)}function za(){Gt=Yt=null,Le=!1}function Ey(e){Pn===null?Pn=[e]:Pn.push(e)}var rN=wr.ReactCurrentBatchConfig;function qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function pu(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function h0(e){var t=e._init;return t(e._payload)}function PO(e){function t(w,g){if(e){var x=w.deletions;x===null?(w.deletions=[g],w.flags|=16):x.push(g)}}function n(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function i(w,g){return w=Kr(w,g),w.index=0,w.sibling=null,w}function a(w,g,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<g?(w.flags|=2,g):x):(w.flags|=2,g)):(w.flags|=1048576,g)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function s(w,g,x,_){return g===null||g.tag!==6?(g=Tp(x,w.mode,_),g.return=w,g):(g=i(g,x),g.return=w,g)}function l(w,g,x,_){var v=x.type;return v===sa?f(w,g,x.props.children,_,x.key):g!==null&&(g.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Ar&&h0(v)===g.type)?(_=i(g,x.props),_.ref=qo(w,g,x),_.return=w,_):(_=ic(x.type,x.key,x.props,null,w.mode,_),_.ref=qo(w,g,x),_.return=w,_)}function u(w,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Np(x,w.mode,_),g.return=w,g):(g=i(g,x.children||[]),g.return=w,g)}function f(w,g,x,_,v){return g===null||g.tag!==7?(g=Oi(x,w.mode,_,v),g.return=w,g):(g=i(g,x),g.return=w,g)}function c(w,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Tp(""+g,w.mode,x),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nu:return x=ic(g.type,g.key,g.props,null,w.mode,x),x.ref=qo(w,null,g),x.return=w,x;case oa:return g=Np(g,w.mode,x),g.return=w,g;case Ar:var _=g._init;return c(w,_(g._payload),x)}if(ss(g)||Fo(g))return g=Oi(g,w.mode,x,null),g.return=w,g;pu(w,g)}return null}function d(w,g,x,_){var v=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return v!==null?null:s(w,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nu:return x.key===v?l(w,g,x,_):null;case oa:return x.key===v?u(w,g,x,_):null;case Ar:return v=x._init,d(w,g,v(x._payload),_)}if(ss(x)||Fo(x))return v!==null?null:f(w,g,x,_,null);pu(w,x)}return null}function p(w,g,x,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(x)||null,s(g,w,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nu:return w=w.get(_.key===null?x:_.key)||null,l(g,w,_,v);case oa:return w=w.get(_.key===null?x:_.key)||null,u(g,w,_,v);case Ar:var S=_._init;return p(w,g,x,S(_._payload),v)}if(ss(_)||Fo(_))return w=w.get(x)||null,f(g,w,_,v,null);pu(g,_)}return null}function y(w,g,x,_){for(var v=null,S=null,O=g,j=g=0,A=null;O!==null&&j<x.length;j++){O.index>j?(A=O,O=null):A=O.sibling;var k=d(w,O,x[j],_);if(k===null){O===null&&(O=A);break}e&&O&&k.alternate===null&&t(w,O),g=a(k,g,j),S===null?v=k:S.sibling=k,S=k,O=A}if(j===x.length)return n(w,O),Le&&si(w,j),v;if(O===null){for(;j<x.length;j++)O=c(w,x[j],_),O!==null&&(g=a(O,g,j),S===null?v=O:S.sibling=O,S=O);return Le&&si(w,j),v}for(O=r(w,O);j<x.length;j++)A=p(O,w,j,x[j],_),A!==null&&(e&&A.alternate!==null&&O.delete(A.key===null?j:A.key),g=a(A,g,j),S===null?v=A:S.sibling=A,S=A);return e&&O.forEach(function(T){return t(w,T)}),Le&&si(w,j),v}function m(w,g,x,_){var v=Fo(x);if(typeof v!="function")throw Error(W(150));if(x=v.call(x),x==null)throw Error(W(151));for(var S=v=null,O=g,j=g=0,A=null,k=x.next();O!==null&&!k.done;j++,k=x.next()){O.index>j?(A=O,O=null):A=O.sibling;var T=d(w,O,k.value,_);if(T===null){O===null&&(O=A);break}e&&O&&T.alternate===null&&t(w,O),g=a(T,g,j),S===null?v=T:S.sibling=T,S=T,O=A}if(k.done)return n(w,O),Le&&si(w,j),v;if(O===null){for(;!k.done;j++,k=x.next())k=c(w,k.value,_),k!==null&&(g=a(k,g,j),S===null?v=k:S.sibling=k,S=k);return Le&&si(w,j),v}for(O=r(w,O);!k.done;j++,k=x.next())k=p(O,w,j,k.value,_),k!==null&&(e&&k.alternate!==null&&O.delete(k.key===null?j:k.key),g=a(k,g,j),S===null?v=k:S.sibling=k,S=k);return e&&O.forEach(function(P){return t(w,P)}),Le&&si(w,j),v}function b(w,g,x,_){if(typeof x=="object"&&x!==null&&x.type===sa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case nu:e:{for(var v=x.key,S=g;S!==null;){if(S.key===v){if(v=x.type,v===sa){if(S.tag===7){n(w,S.sibling),g=i(S,x.props.children),g.return=w,w=g;break e}}else if(S.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Ar&&h0(v)===S.type){n(w,S.sibling),g=i(S,x.props),g.ref=qo(w,S,x),g.return=w,w=g;break e}n(w,S);break}else t(w,S);S=S.sibling}x.type===sa?(g=Oi(x.props.children,w.mode,_,x.key),g.return=w,w=g):(_=ic(x.type,x.key,x.props,null,w.mode,_),_.ref=qo(w,g,x),_.return=w,w=_)}return o(w);case oa:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(w,g.sibling),g=i(g,x.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else t(w,g);g=g.sibling}g=Np(x,w.mode,_),g.return=w,w=g}return o(w);case Ar:return S=x._init,b(w,g,S(x._payload),_)}if(ss(x))return y(w,g,x,_);if(Fo(x))return m(w,g,x,_);pu(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(w,g.sibling),g=i(g,x),g.return=w,w=g):(n(w,g),g=Tp(x,w.mode,_),g.return=w,w=g),o(w)):n(w,g)}return b}var Ua=PO(!0),kO=PO(!1),Oc=Qr(null),jc=null,ma=null,Ty=null;function Ny(){Ty=ma=jc=null}function Cy(e){var t=Oc.current;Me(Oc),e._currentValue=t}function im(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){jc=e,Ty=ma=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(Ty!==e)if(e={context:e,memoizedValue:t,next:null},ma===null){if(jc===null)throw Error(W(308));ma=e,jc.dependencies={lanes:0,firstContext:e}}else ma=ma.next=e;return t}var hi=null;function Iy(e){hi===null?hi=[e]:hi.push(e)}function $O(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Iy(t)):(n.next=i.next,i.next=n),t.interleaved=n,hr(e,r)}function hr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pr=!1;function My(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hr(e,n)}return i=r.interleaved,i===null?(t.next=t,Iy(r)):(t.next=i.next,i.next=t),r.interleaved=t,hr(e,n)}function Ju(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wy(e,n)}}function m0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ac(e,t,n,r){var i=e.updateQueue;Pr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(a!==null){var c=i.baseState;o=0,f=u=l=null,s=a;do{var d=s.lane,p=s.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,m=s;switch(d=t,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){c=y.call(p,c,d);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,d=typeof y=="function"?y.call(p,c,d):y,d==null)break e;c=Ke({},c,d);break e;case 2:Pr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,l=c):f=f.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ni|=o,e.lanes=o,e.memoizedState=c}}function g0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Dl={},Kn=Qr(Dl),Fs=Qr(Dl),zs=Qr(Dl);function mi(e){if(e===Dl)throw Error(W(174));return e}function Ly(e,t){switch(Te(zs,t),Te(Fs,e),Te(Kn,Dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rh(t,e)}Me(Kn),Te(Kn,t)}function Ka(){Me(Kn),Me(Fs),Me(zs)}function TO(e){mi(zs.current);var t=mi(Kn.current),n=Rh(t,e.type);t!==n&&(Te(Fs,e),Te(Kn,n))}function Dy(e){Fs.current===e&&(Me(Kn),Me(Fs))}var Be=Qr(0);function Pc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jp=[];function Ry(){for(var e=0;e<jp.length;e++)jp[e]._workInProgressVersionPrimary=null;jp.length=0}var Zu=wr.ReactCurrentDispatcher,Ap=wr.ReactCurrentBatchConfig,Ti=0,ze=null,nt=null,lt=null,kc=!1,ys=!1,Us=0,iN=0;function bt(){throw Error(W(321))}function By(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function Fy(e,t,n,r,i,a){if(Ti=a,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zu.current=e===null||e.memoizedState===null?lN:uN,e=n(r,i),ys){a=0;do{if(ys=!1,Us=0,25<=a)throw Error(W(301));a+=1,lt=nt=null,t.updateQueue=null,Zu.current=cN,e=n(r,i)}while(ys)}if(Zu.current=$c,t=nt!==null&&nt.next!==null,Ti=0,lt=nt=ze=null,kc=!1,t)throw Error(W(300));return e}function zy(){var e=Us!==0;return Us=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ze.memoizedState=lt=e:lt=lt.next=e,lt}function pn(){if(nt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=lt===null?ze.memoizedState:lt.next;if(t!==null)lt=t,nt=e;else{if(e===null)throw Error(W(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?ze.memoizedState=lt=e:lt=lt.next=e}return lt}function Ks(e,t){return typeof t=="function"?t(e):t}function Pp(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=nt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var f=u.lane;if((Ti&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,o=r):l=l.next=c,ze.lanes|=f,Ni|=f}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Cn(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,ze.lanes|=a,Ni|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kp(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Cn(a,t.memoizedState)||(Lt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function NO(){}function CO(e,t){var n=ze,r=pn(),i=t(),a=!Cn(r.memoizedState,i);if(a&&(r.memoizedState=i,Lt=!0),r=r.queue,Uy(LO.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Vs(9,MO.bind(null,n,r,i,t),void 0,null),ut===null)throw Error(W(349));Ti&30||IO(n,t,i)}return i}function IO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MO(e,t,n,r){t.value=n,t.getSnapshot=r,DO(t)&&RO(e)}function LO(e,t,n){return n(function(){DO(t)&&RO(e)})}function DO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function RO(e){var t=hr(e,1);t!==null&&Nn(t,e,1,-1)}function y0(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:e},t.queue=e,e=e.dispatch=sN.bind(null,ze,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function BO(){return pn().memoizedState}function ec(e,t,n,r){var i=Rn();ze.flags|=e,i.memoizedState=Vs(1|t,n,void 0,r===void 0?null:r)}function Yf(e,t,n,r){var i=pn();r=r===void 0?null:r;var a=void 0;if(nt!==null){var o=nt.memoizedState;if(a=o.destroy,r!==null&&By(r,o.deps)){i.memoizedState=Vs(t,n,a,r);return}}ze.flags|=e,i.memoizedState=Vs(1|t,n,a,r)}function v0(e,t){return ec(8390656,8,e,t)}function Uy(e,t){return Yf(2048,8,e,t)}function FO(e,t){return Yf(4,2,e,t)}function zO(e,t){return Yf(4,4,e,t)}function UO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KO(e,t,n){return n=n!=null?n.concat([e]):null,Yf(4,4,UO.bind(null,t,e),n)}function Ky(){}function VO(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&By(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qO(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&By(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function WO(e,t,n){return Ti&21?(Cn(n,t)||(n=Q_(),ze.lanes|=n,Ni|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=n)}function aN(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=Ap.transition;Ap.transition={};try{e(!1),t()}finally{Se=n,Ap.transition=r}}function HO(){return pn().memoizedState}function oN(e,t,n){var r=Ur(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GO(e))YO(t,n);else if(n=$O(e,t,n,r),n!==null){var i=Et();Nn(n,e,r,i),XO(n,t,r)}}function sN(e,t,n){var r=Ur(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GO(e))YO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Cn(s,o)){var l=t.interleaved;l===null?(i.next=i,Iy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=$O(e,t,i,r),n!==null&&(i=Et(),Nn(n,e,r,i),XO(n,t,r))}}function GO(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function YO(e,t){ys=kc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function XO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wy(e,n)}}var $c={readContext:dn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},lN={readContext:dn,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:v0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ec(4194308,4,UO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return ec(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oN.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:y0,useDebugValue:Ky,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=y0(!1),t=e[0];return e=aN.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=Rn();if(Le){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),ut===null)throw Error(W(349));Ti&30||IO(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,v0(LO.bind(null,r,a,e),[e]),r.flags|=2048,Vs(9,MO.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Rn(),t=ut.identifierPrefix;if(Le){var n=nr,r=tr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uN={readContext:dn,useCallback:VO,useContext:dn,useEffect:Uy,useImperativeHandle:KO,useInsertionEffect:FO,useLayoutEffect:zO,useMemo:qO,useReducer:Pp,useRef:BO,useState:function(){return Pp(Ks)},useDebugValue:Ky,useDeferredValue:function(e){var t=pn();return WO(t,nt.memoizedState,e)},useTransition:function(){var e=Pp(Ks)[0],t=pn().memoizedState;return[e,t]},useMutableSource:NO,useSyncExternalStore:CO,useId:HO,unstable_isNewReconciler:!1},cN={readContext:dn,useCallback:VO,useContext:dn,useEffect:Uy,useImperativeHandle:KO,useInsertionEffect:FO,useLayoutEffect:zO,useMemo:qO,useReducer:kp,useRef:BO,useState:function(){return kp(Ks)},useDebugValue:Ky,useDeferredValue:function(e){var t=pn();return nt===null?t.memoizedState=e:WO(t,nt.memoizedState,e)},useTransition:function(){var e=kp(Ks)[0],t=pn().memoizedState;return[e,t]},useMutableSource:NO,useSyncExternalStore:CO,useId:HO,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function am(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xf={isMounted:function(e){return(e=e._reactInternals)?Ui(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Et(),i=Ur(e),a=sr(r,i);a.payload=t,n!=null&&(a.callback=n),t=Fr(e,a,i),t!==null&&(Nn(t,e,i,r),Ju(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Et(),i=Ur(e),a=sr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Fr(e,a,i),t!==null&&(Nn(t,e,i,r),Ju(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),r=Ur(e),i=sr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fr(e,i,r),t!==null&&(Nn(t,e,r,n),Ju(t,e,r))}};function b0(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ls(n,r)||!Ls(i,a):!0}function QO(e,t,n){var r=!1,i=Gr,a=t.contextType;return typeof a=="object"&&a!==null?a=dn(a):(i=Bt(t)?$i:At.current,r=t.contextTypes,a=(r=r!=null)?Fa(e,i):Gr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function w0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xf.enqueueReplaceState(t,t.state,null)}function om(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},My(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=dn(a):(a=Bt(t)?$i:At.current,i.context=Fa(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(am(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Xf.enqueueReplaceState(i,i.state,null),Ac(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Va(e,t){try{var n="",r=t;do n+=RE(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function $p(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fN=typeof WeakMap=="function"?WeakMap:Map;function JO(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tc||(Tc=!0,ym=r),sm(e,t)},n}function ZO(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){sm(e,t),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function x0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jN.bind(null,e,t,n),t.then(e,e))}function S0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Fr(n,t,1))),n.lanes|=1),e)}var dN=wr.ReactCurrentOwner,Lt=!1;function Pt(e,t,n,r){t.child=e===null?kO(t,null,n,r):Ua(t,e.child,n,r)}function O0(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=Fy(e,t,n,r,a,i),n=zy(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mr(e,t,i)):(Le&&n&&ky(t),t.flags|=1,Pt(e,t,r,i),t.child)}function j0(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Qy(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ej(e,t,a,r,i)):(e=ic(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(o,r)&&e.ref===t.ref)return mr(e,t,i)}return t.flags|=1,e=Kr(a,r),e.ref=t.ref,e.return=t,t.child=e}function ej(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ls(a,r)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,mr(e,t,i)}return lm(e,t,n,r,i)}function tj(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ya,Vt),Vt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(ya,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Te(ya,Vt),Vt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Te(ya,Vt),Vt|=r;return Pt(e,t,i,n),t.child}function nj(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lm(e,t,n,r,i){var a=Bt(n)?$i:At.current;return a=Fa(t,a),Ta(t,i),n=Fy(e,t,n,r,a,i),r=zy(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mr(e,t,i)):(Le&&r&&ky(t),t.flags|=1,Pt(e,t,n,i),t.child)}function A0(e,t,n,r,i){if(Bt(n)){var a=!0;xc(t)}else a=!1;if(Ta(t,i),t.stateNode===null)tc(e,t),QO(t,n,r),om(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=Bt(n)?$i:At.current,u=Fa(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&w0(t,o,r,u),Pr=!1;var d=t.memoizedState;o.state=d,Ac(t,r,o,i),l=t.memoizedState,s!==r||d!==l||Rt.current||Pr?(typeof f=="function"&&(am(t,n,f,r),l=t.memoizedState),(s=Pr||b0(t,n,s,r,d,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,EO(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Sn(t.type,s),o.props=u,c=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Bt(n)?$i:At.current,l=Fa(t,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==c||d!==l)&&w0(t,o,r,l),Pr=!1,d=t.memoizedState,o.state=d,Ac(t,r,o,i);var y=t.memoizedState;s!==c||d!==y||Rt.current||Pr?(typeof p=="function"&&(am(t,n,p,r),y=t.memoizedState),(u=Pr||b0(t,n,u,r,d,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return um(e,t,n,r,a,i)}function um(e,t,n,r,i,a){nj(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&f0(t,n,!1),mr(e,t,a);r=t.stateNode,dN.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ua(t,e.child,null,a),t.child=Ua(t,null,s,a)):Pt(e,t,s,a),t.memoizedState=r.state,i&&f0(t,n,!0),t.child}function rj(e){var t=e.stateNode;t.pendingContext?c0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&c0(e,t.context,!1),Ly(e,t.containerInfo)}function P0(e,t,n,r,i){return za(),Ey(i),t.flags|=256,Pt(e,t,n,r),t.child}var cm={dehydrated:null,treeContext:null,retryLane:0};function fm(e){return{baseLanes:e,cachePool:null,transitions:null}}function ij(e,t,n){var r=t.pendingProps,i=Be.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Te(Be,i&1),e===null)return rm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Zf(o,r,0,null),e=Oi(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fm(n),t.memoizedState=cm,e):Vy(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pN(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Kr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Kr(s,a):(a=Oi(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?fm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cm,r}return a=e.child,e=a.sibling,r=Kr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vy(e,t){return t=Zf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hu(e,t,n,r){return r!==null&&Ey(r),Ua(t,e.child,null,n),e=Vy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pN(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=$p(Error(W(422))),hu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Zf({mode:"visible",children:r.children},i,0,null),a=Oi(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ua(t,e.child,null,o),t.child.memoizedState=fm(o),t.memoizedState=cm,a);if(!(t.mode&1))return hu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(W(419)),r=$p(a,r,void 0),hu(e,t,o,r)}if(s=(o&e.childLanes)!==0,Lt||s){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,hr(e,i),Nn(r,e,i,-1))}return Xy(),r=$p(Error(W(421))),hu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Gt=Br(i.nextSibling),Yt=t,Le=!0,Pn=null,e!==null&&(rn[an++]=tr,rn[an++]=nr,rn[an++]=Ei,tr=e.id,nr=e.overflow,Ei=t),t=Vy(t,r.children),t.flags|=4096,t)}function k0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),im(e.return,t,n)}function Ep(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function aj(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Pt(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k0(e,n,t);else if(e.tag===19)k0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Be,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Pc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ep(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ep(t,!0,n,null,a);break;case"together":Ep(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ni|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Kr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hN(e,t,n){switch(t.tag){case 3:rj(t),za();break;case 5:TO(t);break;case 1:Bt(t.type)&&xc(t);break;case 4:Ly(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Te(Oc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?ij(e,t,n):(Te(Be,Be.current&1),e=mr(e,t,n),e!==null?e.sibling:null);Te(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aj(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,tj(e,t,n)}return mr(e,t,n)}var oj,dm,sj,lj;oj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dm=function(){};sj=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mi(Kn.current);var a=null;switch(n){case"input":i=Ih(e,i),r=Ih(e,r),a=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),a=[];break;case"textarea":i=Dh(e,i),r=Dh(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bc)}Bh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($s.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};lj=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mN(e,t,n){var r=t.pendingProps;switch($y(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Bt(t.type)&&wc(),wt(t),null;case 3:return r=t.stateNode,Ka(),Me(Rt),Me(At),Ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(du(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(wm(Pn),Pn=null))),dm(e,t),wt(t),null;case 5:Dy(t);var i=mi(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)sj(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return wt(t),null}if(e=mi(Kn.current),du(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Bn]=t,r[Bs]=a,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<us.length;i++)Ne(us[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Db(r,a),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",r);break;case"textarea":Bb(r,a),Ne("invalid",r)}Bh(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&fu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&fu(r.textContent,s,e),i=["children",""+s]):$s.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":ru(r),Rb(r,a,!0);break;case"textarea":ru(r),Fb(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Bn]=t,e[Bs]=r,oj(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fh(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<us.length;i++)Ne(us[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":Db(e,r),i=Ih(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":Bb(e,r),i=Dh(e,r),Ne("invalid",e);break;default:i=r}Bh(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?B_(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D_(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Es(e,l):typeof l=="number"&&Es(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($s.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ne("scroll",e):l!=null&&hy(e,a,l,o))}switch(n){case"input":ru(e),Rb(e,r,!1);break;case"textarea":ru(e),Fb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Pa(e,!!r.multiple,a,!1):r.defaultValue!=null&&Pa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)lj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=mi(zs.current),mi(Kn.current),du(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bn]=t,(a=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:fu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=t,t.stateNode=r}return wt(t),null;case 13:if(Me(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Gt!==null&&t.mode&1&&!(t.flags&128))AO(),za(),t.flags|=98560,a=!1;else if(a=du(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Bn]=t}else za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),a=!1}else Pn!==null&&(wm(Pn),Pn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?rt===0&&(rt=3):Xy())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Ka(),dm(e,t),e===null&&Ds(t.stateNode.containerInfo),wt(t),null;case 10:return Cy(t.type._context),wt(t),null;case 17:return Bt(t.type)&&wc(),wt(t),null;case 19:if(Me(Be),a=t.memoizedState,a===null)return wt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Wo(a,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pc(e),o!==null){for(t.flags|=128,Wo(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Be,Be.current&1|2),t.child}e=e.sibling}a.tail!==null&&We()>qa&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Pc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Le)return wt(t),null}else 2*We()-a.renderingStartTime>qa&&n!==1073741824&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=We(),t.sibling=null,n=Be.current,Te(Be,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return Yy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function gN(e,t){switch($y(t),t.tag){case 1:return Bt(t.type)&&wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ka(),Me(Rt),Me(At),Ry(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dy(t),null;case 13:if(Me(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Be),null;case 4:return Ka(),null;case 10:return Cy(t.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var mu=!1,St=!1,yN=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ga(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function pm(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var $0=!1;function vN(e,t){if(Xh=gc,e=pO(),Py(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(s=o+i),c!==a||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===e)break t;if(d===n&&++u===i&&(s=o),d===a&&++f===r&&(l=o),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qh={focusedElem:e,selectionRange:n},gc=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,b=y.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?m:Sn(t.type,m),b);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(_){Ve(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return y=$0,$0=!1,y}function vs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&pm(t,n,a)}i=i.next}while(i!==r)}}function Qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uj(e){var t=e.alternate;t!==null&&(e.alternate=null,uj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[Bs],delete t[em],delete t[eN],delete t[tN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cj(e){return e.tag===5||e.tag===3||e.tag===4}function E0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bc));else if(r!==4&&(e=e.child,e!==null))for(mm(e,t,n),e=e.sibling;e!==null;)mm(e,t,n),e=e.sibling}function gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gm(e,t,n),e=e.sibling;e!==null;)gm(e,t,n),e=e.sibling}var dt=null,_n=!1;function jr(e,t,n){for(n=n.child;n!==null;)fj(e,t,n),n=n.sibling}function fj(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Kf,n)}catch{}switch(n.tag){case 5:St||ga(n,t);case 6:var r=dt,i=_n;dt=null,jr(e,t,n),dt=r,_n=i,dt!==null&&(_n?(e=dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(_n?(e=dt,n=n.stateNode,e.nodeType===8?_p(e.parentNode,n):e.nodeType===1&&_p(e,n),Is(e)):_p(dt,n.stateNode));break;case 4:r=dt,i=_n,dt=n.stateNode.containerInfo,_n=!0,jr(e,t,n),dt=r,_n=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&pm(n,t,o),i=i.next}while(i!==r)}jr(e,t,n);break;case 1:if(!St&&(ga(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ve(n,t,s)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,jr(e,t,n),St=r):jr(e,t,n);break;default:jr(e,t,n)}}function T0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yN),t.forEach(function(r){var i=PN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:dt=s.stateNode,_n=!1;break e;case 3:dt=s.stateNode.containerInfo,_n=!0;break e;case 4:dt=s.stateNode.containerInfo,_n=!0;break e}s=s.return}if(dt===null)throw Error(W(160));fj(a,o,i),dt=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dj(t,e),t=t.sibling}function dj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Dn(e),r&4){try{vs(3,e,e.return),Qf(3,e)}catch(m){Ve(e,e.return,m)}try{vs(5,e,e.return)}catch(m){Ve(e,e.return,m)}}break;case 1:bn(t,e),Dn(e),r&512&&n!==null&&ga(n,n.return);break;case 5:if(bn(t,e),Dn(e),r&512&&n!==null&&ga(n,n.return),e.flags&32){var i=e.stateNode;try{Es(i,"")}catch(m){Ve(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&I_(i,a),Fh(s,o);var u=Fh(s,a);for(o=0;o<l.length;o+=2){var f=l[o],c=l[o+1];f==="style"?B_(i,c):f==="dangerouslySetInnerHTML"?D_(i,c):f==="children"?Es(i,c):hy(i,f,c,u)}switch(s){case"input":Mh(i,a);break;case"textarea":M_(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Pa(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?Pa(i,!!a.multiple,a.defaultValue,!0):Pa(i,!!a.multiple,a.multiple?[]:"",!1))}i[Bs]=a}catch(m){Ve(e,e.return,m)}}break;case 6:if(bn(t,e),Dn(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ve(e,e.return,m)}}break;case 3:if(bn(t,e),Dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(m){Ve(e,e.return,m)}break;case 4:bn(t,e),Dn(e);break;case 13:bn(t,e),Dn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Hy=We())),r&4&&T0(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(St=(u=St)||f,bn(t,e),St=u):bn(t,e),Dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Q=e,f=e.child;f!==null;){for(c=Q=f;Q!==null;){switch(d=Q,p=d.child,d.tag){case 0:case 11:case 14:case 15:vs(4,d,d.return);break;case 1:ga(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Ve(r,n,m)}}break;case 5:ga(d,d.return);break;case 22:if(d.memoizedState!==null){C0(c);continue}}p!==null?(p.return=d,Q=p):C0(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=R_("display",o))}catch(m){Ve(e,e.return,m)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(m){Ve(e,e.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:bn(t,e),Dn(e),r&4&&T0(e);break;case 21:break;default:bn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cj(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Es(i,""),r.flags&=-33);var a=E0(e);gm(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=E0(e);mm(e,s,o);break;default:throw Error(W(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bN(e,t,n){Q=e,pj(e)}function pj(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||St;s=mu;var u=St;if(mu=o,(St=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?I0(i):l!==null?(l.return=o,Q=l):I0(i);for(;a!==null;)Q=a,pj(a),a=a.sibling;Q=i,mu=s,St=u}N0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Q=a):N0(e)}}function N0(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||Qf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Sn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&g0(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}g0(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Is(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}St||t.flags&512&&hm(t)}catch(d){Ve(t,t.return,d)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function C0(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function I0(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qf(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ve(t,i,l)}}var a=t.return;try{hm(t)}catch(l){Ve(t,a,l)}break;case 5:var o=t.return;try{hm(t)}catch(l){Ve(t,o,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){Q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Q=s;break}Q=t.return}}var wN=Math.ceil,Ec=wr.ReactCurrentDispatcher,qy=wr.ReactCurrentOwner,ln=wr.ReactCurrentBatchConfig,he=0,ut=null,Xe=null,gt=0,Vt=0,ya=Qr(0),rt=0,qs=null,Ni=0,Jf=0,Wy=0,bs=null,It=null,Hy=0,qa=1/0,Zn=null,Tc=!1,ym=null,zr=null,gu=!1,Ir=null,Nc=0,ws=0,vm=null,nc=-1,rc=0;function Et(){return he&6?We():nc!==-1?nc:nc=We()}function Ur(e){return e.mode&1?he&2&&gt!==0?gt&-gt:rN.transition!==null?(rc===0&&(rc=Q_()),rc):(e=Se,e!==0||(e=window.event,e=e===void 0?16:iO(e.type)),e):1}function Nn(e,t,n,r){if(50<ws)throw ws=0,vm=null,Error(W(185));Il(e,n,r),(!(he&2)||e!==ut)&&(e===ut&&(!(he&2)&&(Jf|=n),rt===4&&Tr(e,gt)),Ft(e,r),n===1&&he===0&&!(t.mode&1)&&(qa=We()+500,Gf&&Jr()))}function Ft(e,t){var n=e.callbackNode;rT(e,t);var r=mc(e,e===ut?gt:0);if(r===0)n!==null&&Kb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Kb(n),t===1)e.tag===0?nN(M0.bind(null,e)):_O(M0.bind(null,e)),JT(function(){!(he&6)&&Jr()}),n=null;else{switch(J_(r)){case 1:n=by;break;case 4:n=Y_;break;case 16:n=hc;break;case 536870912:n=X_;break;default:n=hc}n=xj(n,hj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hj(e,t){if(nc=-1,rc=0,he&6)throw Error(W(327));var n=e.callbackNode;if(Na()&&e.callbackNode!==n)return null;var r=mc(e,e===ut?gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cc(e,r);else{t=r;var i=he;he|=2;var a=gj();(ut!==e||gt!==t)&&(Zn=null,qa=We()+500,_i(e,t));do try{_N();break}catch(s){mj(e,s)}while(!0);Ny(),Ec.current=a,he=i,Xe!==null?t=0:(ut=null,gt=0,t=rt)}if(t!==0){if(t===2&&(i=qh(e),i!==0&&(r=i,t=bm(e,i))),t===1)throw n=qs,_i(e,0),Tr(e,r),Ft(e,We()),n;if(t===6)Tr(e,r);else{if(i=e.current.alternate,!(r&30)&&!xN(i)&&(t=Cc(e,r),t===2&&(a=qh(e),a!==0&&(r=a,t=bm(e,a))),t===1))throw n=qs,_i(e,0),Tr(e,r),Ft(e,We()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:li(e,It,Zn);break;case 3:if(Tr(e,r),(r&130023424)===r&&(t=Hy+500-We(),10<t)){if(mc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Et(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zh(li.bind(null,e,It,Zn),t);break}li(e,It,Zn);break;case 4:if(Tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Tn(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wN(r/1960))-r,10<r){e.timeoutHandle=Zh(li.bind(null,e,It,Zn),r);break}li(e,It,Zn);break;case 5:li(e,It,Zn);break;default:throw Error(W(329))}}}return Ft(e,We()),e.callbackNode===n?hj.bind(null,e):null}function bm(e,t){var n=bs;return e.current.memoizedState.isDehydrated&&(_i(e,t).flags|=256),e=Cc(e,t),e!==2&&(t=It,It=n,t!==null&&wm(t)),e}function wm(e){It===null?It=e:It.push.apply(It,e)}function xN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Cn(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~Wy,t&=~Jf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function M0(e){if(he&6)throw Error(W(327));Na();var t=mc(e,0);if(!(t&1))return Ft(e,We()),null;var n=Cc(e,t);if(e.tag!==0&&n===2){var r=qh(e);r!==0&&(t=r,n=bm(e,r))}if(n===1)throw n=qs,_i(e,0),Tr(e,t),Ft(e,We()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,li(e,It,Zn),Ft(e,We()),null}function Gy(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(qa=We()+500,Gf&&Jr())}}function Ci(e){Ir!==null&&Ir.tag===0&&!(he&6)&&Na();var t=he;he|=1;var n=ln.transition,r=Se;try{if(ln.transition=null,Se=1,e)return e()}finally{Se=r,ln.transition=n,he=t,!(he&6)&&Jr()}}function Yy(){Vt=ya.current,Me(ya)}function _i(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QT(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch($y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wc();break;case 3:Ka(),Me(Rt),Me(At),Ry();break;case 5:Dy(r);break;case 4:Ka();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:Cy(r.type._context);break;case 22:case 23:Yy()}n=n.return}if(ut=e,Xe=e=Kr(e.current,null),gt=Vt=t,rt=0,qs=null,Wy=Jf=Ni=0,It=bs=null,hi!==null){for(t=0;t<hi.length;t++)if(n=hi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}hi=null}return e}function mj(e,t){do{var n=Xe;try{if(Ny(),Zu.current=$c,kc){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kc=!1}if(Ti=0,lt=nt=ze=null,ys=!1,Us=0,qy.current=null,n===null||n.return===null){rt=1,qs=t,Xe=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=gt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=S0(o);if(p!==null){p.flags&=-257,_0(p,o,s,a,t),p.mode&1&&x0(a,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(l),t.updateQueue=m}else y.add(l);break e}else{if(!(t&1)){x0(a,u,t),Xy();break e}l=Error(W(426))}}else if(Le&&s.mode&1){var b=S0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_0(b,o,s,a,t),Ey(Va(l,s));break e}}a=l=Va(l,s),rt!==4&&(rt=2),bs===null?bs=[a]:bs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=JO(a,l,t);m0(a,w);break e;case 1:s=l;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zr===null||!zr.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=ZO(a,s,t);m0(a,_);break e}}a=a.return}while(a!==null)}vj(n)}catch(v){t=v,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function gj(){var e=Ec.current;return Ec.current=$c,e===null?$c:e}function Xy(){(rt===0||rt===3||rt===2)&&(rt=4),ut===null||!(Ni&268435455)&&!(Jf&268435455)||Tr(ut,gt)}function Cc(e,t){var n=he;he|=2;var r=gj();(ut!==e||gt!==t)&&(Zn=null,_i(e,t));do try{SN();break}catch(i){mj(e,i)}while(!0);if(Ny(),he=n,Ec.current=r,Xe!==null)throw Error(W(261));return ut=null,gt=0,rt}function SN(){for(;Xe!==null;)yj(Xe)}function _N(){for(;Xe!==null&&!GE();)yj(Xe)}function yj(e){var t=wj(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?vj(e):Xe=t,qy.current=null}function vj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gN(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Xe=null;return}}else if(n=mN(n,t,Vt),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);rt===0&&(rt=5)}function li(e,t,n){var r=Se,i=ln.transition;try{ln.transition=null,Se=1,ON(e,t,n,r)}finally{ln.transition=i,Se=r}return null}function ON(e,t,n,r){do Na();while(Ir!==null);if(he&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(iT(e,a),e===ut&&(Xe=ut=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gu||(gu=!0,xj(hc,function(){return Na(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ln.transition,ln.transition=null;var o=Se;Se=1;var s=he;he|=4,qy.current=null,vN(e,n),dj(n,e),VT(Qh),gc=!!Xh,Qh=Xh=null,e.current=n,bN(n),YE(),he=s,Se=o,ln.transition=a}else e.current=n;if(gu&&(gu=!1,Ir=e,Nc=i),a=e.pendingLanes,a===0&&(zr=null),JE(n.stateNode),Ft(e,We()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tc)throw Tc=!1,e=ym,ym=null,e;return Nc&1&&e.tag!==0&&Na(),a=e.pendingLanes,a&1?e===vm?ws++:(ws=0,vm=e):ws=0,Jr(),null}function Na(){if(Ir!==null){var e=J_(Nc),t=ln.transition,n=Se;try{if(ln.transition=null,Se=16>e?16:e,Ir===null)var r=!1;else{if(e=Ir,Ir=null,Nc=0,he&6)throw Error(W(331));var i=he;for(he|=4,Q=e.current;Q!==null;){var a=Q,o=a.child;if(Q.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Q=u;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:vs(8,f,a)}var c=f.child;if(c!==null)c.return=f,Q=c;else for(;Q!==null;){f=Q;var d=f.sibling,p=f.return;if(uj(f),f===u){Q=null;break}if(d!==null){d.return=p,Q=d;break}Q=p}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Q=o;else e:for(;Q!==null;){if(a=Q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vs(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Q=w;break e}Q=a.return}}var g=e.current;for(Q=g;Q!==null;){o=Q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Q=x;else e:for(o=g;Q!==null;){if(s=Q,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Qf(9,s)}}catch(v){Ve(s,s.return,v)}if(s===o){Q=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}if(he=i,Jr(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Kf,e)}catch{}r=!0}return r}finally{Se=n,ln.transition=t}}return!1}function L0(e,t,n){t=Va(n,t),t=JO(e,t,1),e=Fr(e,t,1),t=Et(),e!==null&&(Il(e,1,t),Ft(e,t))}function Ve(e,t,n){if(e.tag===3)L0(e,e,n);else for(;t!==null;){if(t.tag===3){L0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){e=Va(n,e),e=ZO(t,e,1),t=Fr(t,e,1),e=Et(),t!==null&&(Il(t,1,e),Ft(t,e));break}}t=t.return}}function jN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&n,ut===e&&(gt&n)===n&&(rt===4||rt===3&&(gt&130023424)===gt&&500>We()-Hy?_i(e,0):Wy|=n),Ft(e,t)}function bj(e,t){t===0&&(e.mode&1?(t=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):t=1);var n=Et();e=hr(e,t),e!==null&&(Il(e,t,n),Ft(e,n))}function AN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bj(e,n)}function PN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),bj(e,n)}var wj;wj=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)Lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lt=!1,hN(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,Le&&t.flags&1048576&&OO(t,_c,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tc(e,t),e=t.pendingProps;var i=Fa(t,At.current);Ta(t,n),i=Fy(null,t,r,e,i,n);var a=zy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(a=!0,xc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,My(t),i.updater=Xf,t.stateNode=i,i._reactInternals=t,om(t,r,e,n),t=um(null,t,r,!0,a,n)):(t.tag=0,Le&&a&&ky(t),Pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$N(r),e=Sn(r,e),i){case 0:t=lm(null,t,r,e,n);break e;case 1:t=A0(null,t,r,e,n);break e;case 11:t=O0(null,t,r,e,n);break e;case 14:t=j0(null,t,r,Sn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),lm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),A0(e,t,r,i,n);case 3:e:{if(rj(t),e===null)throw Error(W(387));r=t.pendingProps,a=t.memoizedState,i=a.element,EO(e,t),Ac(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Va(Error(W(423)),t),t=P0(e,t,r,n,i);break e}else if(r!==i){i=Va(Error(W(424)),t),t=P0(e,t,r,n,i);break e}else for(Gt=Br(t.stateNode.containerInfo.firstChild),Yt=t,Le=!0,Pn=null,n=kO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),r===i){t=mr(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return TO(t),e===null&&rm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Jh(r,i)?o=null:a!==null&&Jh(r,a)&&(t.flags|=32),nj(e,t),Pt(e,t,o,n),t.child;case 6:return e===null&&rm(t),null;case 13:return ij(e,t,n);case 4:return Ly(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ua(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),O0(e,t,r,i,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Te(Oc,r._currentValue),r._currentValue=o,a!==null)if(Cn(a.value,o)){if(a.children===i.children&&!Rt.current){t=mr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=sr(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),im(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),im(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),i=dn(i),r=r(i),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,i=Sn(r,t.pendingProps),i=Sn(r.type,i),j0(e,t,r,i,n);case 15:return ej(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),tc(e,t),t.tag=1,Bt(r)?(e=!0,xc(t)):e=!1,Ta(t,n),QO(t,r,i),om(t,r,i,n),um(null,t,r,!0,e,n);case 19:return aj(e,t,n);case 22:return tj(e,t,n)}throw Error(W(156,t.tag))};function xj(e,t){return G_(e,t)}function kN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new kN(e,t,n,r)}function Qy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $N(e){if(typeof e=="function")return Qy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gy)return 11;if(e===yy)return 14}return 2}function Kr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ic(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Qy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sa:return Oi(n.children,i,a,t);case my:o=8,i|=8;break;case Eh:return e=on(12,n,t,i|2),e.elementType=Eh,e.lanes=a,e;case Th:return e=on(13,n,t,i),e.elementType=Th,e.lanes=a,e;case Nh:return e=on(19,n,t,i),e.elementType=Nh,e.lanes=a,e;case T_:return Zf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $_:o=10;break e;case E_:o=9;break e;case gy:o=11;break e;case yy:o=14;break e;case Ar:o=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=on(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Oi(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function Zf(e,t,n,r){return e=on(22,e,r,t),e.elementType=T_,e.lanes=n,e.stateNode={isHidden:!1},e}function Tp(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Np(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dp(0),this.expirationTimes=dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jy(e,t,n,r,i,a,o,s,l){return e=new EN(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=on(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},My(a),e}function TN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sj(e){if(!e)return Gr;e=e._reactInternals;e:{if(Ui(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Bt(n))return SO(e,n,t)}return t}function _j(e,t,n,r,i,a,o,s,l){return e=Jy(n,r,!0,e,i,a,o,s,l),e.context=Sj(null),n=e.current,r=Et(),i=Ur(n),a=sr(r,i),a.callback=t??null,Fr(n,a,i),e.current.lanes=i,Il(e,i,r),Ft(e,r),e}function ed(e,t,n,r){var i=t.current,a=Et(),o=Ur(i);return n=Sj(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fr(i,t,o),e!==null&&(Nn(e,i,o,a),Ju(e,i,o)),o}function Ic(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zy(e,t){D0(e,t),(e=e.alternate)&&D0(e,t)}function NN(){return null}var Oj=typeof reportError=="function"?reportError:function(e){console.error(e)};function ev(e){this._internalRoot=e}td.prototype.render=ev.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));ed(e,t,null,null)};td.prototype.unmount=ev.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ci(function(){ed(null,e,null,null)}),t[pr]=null}};function td(e){this._internalRoot=e}td.prototype.unstable_scheduleHydration=function(e){if(e){var t=tO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Er.length&&t!==0&&t<Er[n].priority;n++);Er.splice(n,0,e),n===0&&rO(e)}};function tv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R0(){}function CN(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Ic(o);a.call(u)}}var o=_j(t,r,e,0,null,!1,!1,"",R0);return e._reactRootContainer=o,e[pr]=o.current,Ds(e.nodeType===8?e.parentNode:e),Ci(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ic(l);s.call(u)}}var l=Jy(e,0,!1,null,null,!1,!1,"",R0);return e._reactRootContainer=l,e[pr]=l.current,Ds(e.nodeType===8?e.parentNode:e),Ci(function(){ed(t,l,n,r)}),l}function rd(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Ic(o);s.call(l)}}ed(t,o,e,i)}else o=CN(n,t,e,i,r);return Ic(o)}Z_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ls(t.pendingLanes);n!==0&&(wy(t,n|1),Ft(t,We()),!(he&6)&&(qa=We()+500,Jr()))}break;case 13:Ci(function(){var r=hr(e,1);if(r!==null){var i=Et();Nn(r,e,1,i)}}),Zy(e,1)}};xy=function(e){if(e.tag===13){var t=hr(e,134217728);if(t!==null){var n=Et();Nn(t,e,134217728,n)}Zy(e,134217728)}};eO=function(e){if(e.tag===13){var t=Ur(e),n=hr(e,t);if(n!==null){var r=Et();Nn(n,e,t,r)}Zy(e,t)}};tO=function(){return Se};nO=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Uh=function(e,t,n){switch(t){case"input":if(Mh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hf(r);if(!i)throw Error(W(90));C_(r),Mh(r,i)}}}break;case"textarea":M_(e,n);break;case"select":t=n.value,t!=null&&Pa(e,!!n.multiple,t,!1)}};U_=Gy;K_=Ci;var IN={usingClientEntryPoint:!1,Events:[Ll,fa,Hf,F_,z_,Gy]},Ho={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MN={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||NN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Kf=yu.inject(MN),Un=yu}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IN;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(t))throw Error(W(200));return TN(e,t,null,n)};Jt.createRoot=function(e,t){if(!tv(e))throw Error(W(299));var n=!1,r="",i=Oj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Jy(e,1,!1,null,null,n,!1,r,i),e[pr]=t.current,Ds(e.nodeType===8?e.parentNode:e),new ev(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=W_(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return Ci(e)};Jt.hydrate=function(e,t,n){if(!nd(t))throw Error(W(200));return rd(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!tv(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=Oj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_j(t,null,e,1,n??null,i,!1,a,o),e[pr]=t.current,Ds(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new td(t)};Jt.render=function(e,t,n){if(!nd(t))throw Error(W(200));return rd(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!nd(e))throw Error(W(40));return e._reactRootContainer?(Ci(function(){rd(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Gy;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nd(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return rd(e,t,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function jj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jj)}catch(e){console.error(e)}}jj(),j_.exports=Jt;var LN=j_.exports,Xn,B0=LN;Xn=B0.createRoot,B0.hydrateRoot;function Aj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Aj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function me(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Aj(e))&&(r&&(r+=" "),r+=t);return r}var DN=Array.isArray,zt=DN,RN=typeof eu=="object"&&eu&&eu.Object===Object&&eu,Pj=RN,BN=Pj,FN=typeof self=="object"&&self&&self.Object===Object&&self,zN=BN||FN||Function("return this")(),Qn=zN,UN=Qn,KN=UN.Symbol,Rl=KN,F0=Rl,kj=Object.prototype,VN=kj.hasOwnProperty,qN=kj.toString,Go=F0?F0.toStringTag:void 0;function WN(e){var t=VN.call(e,Go),n=e[Go];try{e[Go]=void 0;var r=!0}catch{}var i=qN.call(e);return r&&(t?e[Go]=n:delete e[Go]),i}var HN=WN,GN=Object.prototype,YN=GN.toString;function XN(e){return YN.call(e)}var QN=XN,z0=Rl,JN=HN,ZN=QN,eC="[object Null]",tC="[object Undefined]",U0=z0?z0.toStringTag:void 0;function nC(e){return e==null?e===void 0?tC:eC:U0&&U0 in Object(e)?JN(e):ZN(e)}var xr=nC;function rC(e){return e!=null&&typeof e=="object"}var Sr=rC,iC=xr,aC=Sr,oC="[object Symbol]";function sC(e){return typeof e=="symbol"||aC(e)&&iC(e)==oC}var bo=sC,lC=zt,uC=bo,cC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fC=/^\w*$/;function dC(e,t){if(lC(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||uC(e)?!0:fC.test(e)||!cC.test(e)||t!=null&&e in Object(t)}var nv=dC;function pC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zr=pC;const wo=Pe(Zr);var hC=xr,mC=Zr,gC="[object AsyncFunction]",yC="[object Function]",vC="[object GeneratorFunction]",bC="[object Proxy]";function wC(e){if(!mC(e))return!1;var t=hC(e);return t==yC||t==vC||t==gC||t==bC}var rv=wC;const le=Pe(rv);var xC=Qn,SC=xC["__core-js_shared__"],_C=SC,Cp=_C,K0=function(){var e=/[^.]+$/.exec(Cp&&Cp.keys&&Cp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function OC(e){return!!K0&&K0 in e}var jC=OC,AC=Function.prototype,PC=AC.toString;function kC(e){if(e!=null){try{return PC.call(e)}catch{}try{return e+""}catch{}}return""}var $j=kC,$C=rv,EC=jC,TC=Zr,NC=$j,CC=/[\\^$.*+?()[\]{}|]/g,IC=/^\[object .+?Constructor\]$/,MC=Function.prototype,LC=Object.prototype,DC=MC.toString,RC=LC.hasOwnProperty,BC=RegExp("^"+DC.call(RC).replace(CC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FC(e){if(!TC(e)||EC(e))return!1;var t=$C(e)?BC:IC;return t.test(NC(e))}var zC=FC;function UC(e,t){return e==null?void 0:e[t]}var KC=UC,VC=zC,qC=KC;function WC(e,t){var n=qC(e,t);return VC(n)?n:void 0}var Ki=WC,HC=Ki,GC=HC(Object,"create"),id=GC,V0=id;function YC(){this.__data__=V0?V0(null):{},this.size=0}var XC=YC;function QC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var JC=QC,ZC=id,eI="__lodash_hash_undefined__",tI=Object.prototype,nI=tI.hasOwnProperty;function rI(e){var t=this.__data__;if(ZC){var n=t[e];return n===eI?void 0:n}return nI.call(t,e)?t[e]:void 0}var iI=rI,aI=id,oI=Object.prototype,sI=oI.hasOwnProperty;function lI(e){var t=this.__data__;return aI?t[e]!==void 0:sI.call(t,e)}var uI=lI,cI=id,fI="__lodash_hash_undefined__";function dI(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=cI&&t===void 0?fI:t,this}var pI=dI,hI=XC,mI=JC,gI=iI,yI=uI,vI=pI;function xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xo.prototype.clear=hI;xo.prototype.delete=mI;xo.prototype.get=gI;xo.prototype.has=yI;xo.prototype.set=vI;var bI=xo;function wI(){this.__data__=[],this.size=0}var xI=wI;function SI(e,t){return e===t||e!==e&&t!==t}var iv=SI,_I=iv;function OI(e,t){for(var n=e.length;n--;)if(_I(e[n][0],t))return n;return-1}var ad=OI,jI=ad,AI=Array.prototype,PI=AI.splice;function kI(e){var t=this.__data__,n=jI(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():PI.call(t,n,1),--this.size,!0}var $I=kI,EI=ad;function TI(e){var t=this.__data__,n=EI(t,e);return n<0?void 0:t[n][1]}var NI=TI,CI=ad;function II(e){return CI(this.__data__,e)>-1}var MI=II,LI=ad;function DI(e,t){var n=this.__data__,r=LI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var RI=DI,BI=xI,FI=$I,zI=NI,UI=MI,KI=RI;function So(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}So.prototype.clear=BI;So.prototype.delete=FI;So.prototype.get=zI;So.prototype.has=UI;So.prototype.set=KI;var od=So,VI=Ki,qI=Qn,WI=VI(qI,"Map"),av=WI,q0=bI,HI=od,GI=av;function YI(){this.size=0,this.__data__={hash:new q0,map:new(GI||HI),string:new q0}}var XI=YI;function QI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var JI=QI,ZI=JI;function e2(e,t){var n=e.__data__;return ZI(t)?n[typeof t=="string"?"string":"hash"]:n.map}var sd=e2,t2=sd;function n2(e){var t=t2(this,e).delete(e);return this.size-=t?1:0,t}var r2=n2,i2=sd;function a2(e){return i2(this,e).get(e)}var o2=a2,s2=sd;function l2(e){return s2(this,e).has(e)}var u2=l2,c2=sd;function f2(e,t){var n=c2(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var d2=f2,p2=XI,h2=r2,m2=o2,g2=u2,y2=d2;function _o(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_o.prototype.clear=p2;_o.prototype.delete=h2;_o.prototype.get=m2;_o.prototype.has=g2;_o.prototype.set=y2;var ov=_o,Ej=ov,v2="Expected a function";function sv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(v2);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(sv.Cache||Ej),n}sv.Cache=Ej;var Tj=sv;const b2=Pe(Tj);var w2=Tj,x2=500;function S2(e){var t=w2(e,function(r){return n.size===x2&&n.clear(),r}),n=t.cache;return t}var _2=S2,O2=_2,j2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A2=/\\(\\)?/g,P2=O2(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(j2,function(n,r,i,a){t.push(i?a.replace(A2,"$1"):r||n)}),t}),k2=P2;function $2(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var lv=$2,W0=Rl,E2=lv,T2=zt,N2=bo,H0=W0?W0.prototype:void 0,G0=H0?H0.toString:void 0;function Nj(e){if(typeof e=="string")return e;if(T2(e))return E2(e,Nj)+"";if(N2(e))return G0?G0.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var C2=Nj,I2=C2;function M2(e){return e==null?"":I2(e)}var Cj=M2,L2=zt,D2=nv,R2=k2,B2=Cj;function F2(e,t){return L2(e)?e:D2(e,t)?[e]:R2(B2(e))}var Ij=F2,z2=bo;function U2(e){if(typeof e=="string"||z2(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ld=U2,K2=Ij,V2=ld;function q2(e,t){t=K2(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[V2(t[n++])];return n&&n==r?e:void 0}var uv=q2,W2=uv;function H2(e,t,n){var r=e==null?void 0:W2(e,t);return r===void 0?n:r}var Mj=H2;const un=Pe(Mj);function G2(e){return e==null}var Y2=G2;const ce=Pe(Y2);var X2=xr,Q2=zt,J2=Sr,Z2="[object String]";function eM(e){return typeof e=="string"||!Q2(e)&&J2(e)&&X2(e)==Z2}var tM=eM;const Ii=Pe(tM);var Lj={exports:{}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv=Symbol.for("react.element"),fv=Symbol.for("react.portal"),ud=Symbol.for("react.fragment"),cd=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),dd=Symbol.for("react.provider"),pd=Symbol.for("react.context"),nM=Symbol.for("react.server_context"),hd=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),gd=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),vd=Symbol.for("react.lazy"),rM=Symbol.for("react.offscreen"),Dj;Dj=Symbol.for("react.module.reference");function gn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cv:switch(e=e.type,e){case ud:case fd:case cd:case md:case gd:return e;default:switch(e=e&&e.$$typeof,e){case nM:case pd:case hd:case vd:case yd:case dd:return e;default:return t}}case fv:return t}}}_e.ContextConsumer=pd;_e.ContextProvider=dd;_e.Element=cv;_e.ForwardRef=hd;_e.Fragment=ud;_e.Lazy=vd;_e.Memo=yd;_e.Portal=fv;_e.Profiler=fd;_e.StrictMode=cd;_e.Suspense=md;_e.SuspenseList=gd;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(e){return gn(e)===pd};_e.isContextProvider=function(e){return gn(e)===dd};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cv};_e.isForwardRef=function(e){return gn(e)===hd};_e.isFragment=function(e){return gn(e)===ud};_e.isLazy=function(e){return gn(e)===vd};_e.isMemo=function(e){return gn(e)===yd};_e.isPortal=function(e){return gn(e)===fv};_e.isProfiler=function(e){return gn(e)===fd};_e.isStrictMode=function(e){return gn(e)===cd};_e.isSuspense=function(e){return gn(e)===md};_e.isSuspenseList=function(e){return gn(e)===gd};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ud||e===fd||e===cd||e===md||e===gd||e===rM||typeof e=="object"&&e!==null&&(e.$$typeof===vd||e.$$typeof===yd||e.$$typeof===dd||e.$$typeof===pd||e.$$typeof===hd||e.$$typeof===Dj||e.getModuleId!==void 0)};_e.typeOf=gn;Lj.exports=_e;var iM=Lj.exports,aM=xr,oM=Sr,sM="[object Number]";function lM(e){return typeof e=="number"||oM(e)&&aM(e)==sM}var Rj=lM;const uM=Pe(Rj);var cM=Rj;function fM(e){return cM(e)&&e!=+e}var dM=fM;const Bl=Pe(dM);var En=function(t){return t===0?0:t>0?1:-1},gi=function(t){return Ii(t)&&t.indexOf("%")===t.length-1},H=function(t){return uM(t)&&!Bl(t)},pM=function(t){return ce(t)},it=function(t){return H(t)||Ii(t)},hM=0,Fl=function(t){var n=++hM;return"".concat(t||"").concat(n)},Mi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(t)&&!Ii(t))return r;var a;if(gi(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Bl(a)&&(a=r),i&&a>n&&(a=n),a},Nr=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},mM=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},kn=function(t,n){return H(t)&&H(n)?function(r){return t+r*(n-t)}:function(){return n}};function Mc(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):un(r,t))===n})}var gM=function(t,n){return H(t)&&H(n)?t-n:Ii(t)&&Ii(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Ca(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}var yM=["viewBox","children"],vM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y0=["points","pathLength"],Ip={svg:yM,polygon:Y0,polyline:Y0},dv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lc=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if($.isValidElement(t)&&(r=t.props),!wo(r))return null;var i={};return Object.keys(r).forEach(function(a){dv.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},bM=function(t,n,r){return function(i){return t(n,r,i),null}},Dc=function(t,n,r){if(!wo(t)||xm(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];dv.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=bM(o,n,r))}),i},wM=["children"],xM=["children"];function X0(e,t){if(e==null)return{};var n=SM(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SM(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}var Q0={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},J0=null,Mp=null,pv=function e(t){if(t===J0&&Array.isArray(Mp))return Mp;var n=[];return $.Children.forEach(t,function(r){ce(r)||(iM.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Mp=n,J0=t,n};function cn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return lr(i)}):r=[lr(t)],pv(e).forEach(function(i){var a=un(i,"type.displayName")||un(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function qt(e,t){var n=cn(e,t);return n&&n[0]}var Z0=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!H(r)||r<=0||!H(i)||i<=0)},_M=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OM=function(t){return t&&t.type&&Ii(t.type)&&_M.indexOf(t.type)>=0},jM=function(t){return t&&Sm(t)==="object"&&"clipDot"in t},AM=function(t,n,r,i){var a,o=(a=Ip==null?void 0:Ip[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!le(t)&&(i&&o.includes(n)||vM.includes(n))||r&&dv.includes(n)},de=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if($.isValidElement(t)&&(i=t.props),!wo(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;AM((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},_m=function e(t,n){if(t===n)return!0;var r=$.Children.count(t);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ew(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!ew(a,o))return!1}return!0},ew=function(t,n){if(ce(t)&&ce(n))return!0;if(!ce(t)&&!ce(n)){var r=t.props||{},i=r.children,a=X0(r,wM),o=n.props||{},s=o.children,l=X0(o,xM);return i&&s?Ca(a,l)&&_m(i,s):!i&&!s?Ca(a,l):!1}return!1},tw=function(t,n){var r=[],i={};return pv(t).forEach(function(a,o){if(OM(a))r.push(a);else if(a){var s=lr(a.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var c=u(a,s,o);r.push(c),i[s]=!0}}}),r},PM=function(t){var n=t&&t.type;return n&&Q0[n]?Q0[n]:null},kM=function(t,n){return pv(n).indexOf(t)},$M=["children","width","height","viewBox","className","style","title","desc"];function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Om.apply(this,arguments)}function EM(e,t){if(e==null)return{};var n=TM(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TM(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jm(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,u=EM(e,$M),f=i||{width:n,height:r,x:0,y:0},c=me("recharts-surface",a);return R.createElement("svg",Om({},de(u,!0,"svg"),{className:c,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),R.createElement("title",null,s),R.createElement("desc",null,l),t)}var NM=["children","className"];function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(this,arguments)}function CM(e,t){if(e==null)return{};var n=IM(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IM(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var He=R.forwardRef(function(e,t){var n=e.children,r=e.className,i=CM(e,NM),a=me("recharts-layer",r);return R.createElement("g",Am({className:a},de(i,!0),{ref:t}),n)}),ur=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function MM(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var LM=MM,DM=LM;function RM(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:DM(e,t,n)}var BM=RM,FM="\\ud800-\\udfff",zM="\\u0300-\\u036f",UM="\\ufe20-\\ufe2f",KM="\\u20d0-\\u20ff",VM=zM+UM+KM,qM="\\ufe0e\\ufe0f",WM="\\u200d",HM=RegExp("["+WM+FM+VM+qM+"]");function GM(e){return HM.test(e)}var Bj=GM;function YM(e){return e.split("")}var XM=YM,Fj="\\ud800-\\udfff",QM="\\u0300-\\u036f",JM="\\ufe20-\\ufe2f",ZM="\\u20d0-\\u20ff",eL=QM+JM+ZM,tL="\\ufe0e\\ufe0f",nL="["+Fj+"]",Pm="["+eL+"]",km="\\ud83c[\\udffb-\\udfff]",rL="(?:"+Pm+"|"+km+")",zj="[^"+Fj+"]",Uj="(?:\\ud83c[\\udde6-\\uddff]){2}",Kj="[\\ud800-\\udbff][\\udc00-\\udfff]",iL="\\u200d",Vj=rL+"?",qj="["+tL+"]?",aL="(?:"+iL+"(?:"+[zj,Uj,Kj].join("|")+")"+qj+Vj+")*",oL=qj+Vj+aL,sL="(?:"+[zj+Pm+"?",Pm,Uj,Kj,nL].join("|")+")",lL=RegExp(km+"(?="+km+")|"+sL+oL,"g");function uL(e){return e.match(lL)||[]}var cL=uL,fL=XM,dL=Bj,pL=cL;function hL(e){return dL(e)?pL(e):fL(e)}var mL=hL,gL=BM,yL=Bj,vL=mL,bL=Cj;function wL(e){return function(t){t=bL(t);var n=yL(t)?vL(t):void 0,r=n?n[0]:t.charAt(0),i=n?gL(n,1).join(""):t.slice(1);return r[e]()+i}}var xL=wL,SL=xL,_L=SL("toUpperCase"),OL=_L;const bd=Pe(OL);function Ee(e){return function(){return e}}const Wj=Math.cos,Rc=Math.sin,In=Math.sqrt,Bc=Math.PI,wd=2*Bc,$m=Math.PI,Em=2*$m,ui=1e-6,jL=Em-ui;function Hj(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function AL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Hj;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class PL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Hj:AL(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,u=i-n,f=o-t,c=s-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>ui)if(!(Math.abs(c*l-u*f)>ui)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,y=i-s,m=l*l+u*u,b=p*p+y*y,w=Math.sqrt(m),g=Math.sqrt(d),x=a*Math.tan(($m-Math.acos((m+d-b)/(2*w*g)))/2),_=x/g,v=x/w;Math.abs(_-1)>ui&&this._append`L${t+_*f},${n+_*c}`,this._append`A${a},${a},0,0,${+(c*p>f*y)},${this._x1=t+v*l},${this._y1=n+v*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,f=n+l,c=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ui||Math.abs(this._y1-f)>ui)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%Em+Em),d>jL?this._append`A${r},${r},0,1,${c},${t-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:d>ui&&this._append`A${r},${r},0,${+(d>=$m)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new PL(t)}function mv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gj(e){this._context=e}Gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xd(e){return new Gj(e)}function Yj(e){return e[0]}function Xj(e){return e[1]}function Qj(e,t){var n=Ee(!0),r=null,i=xd,a=null,o=hv(s);e=typeof e=="function"?e:e===void 0?Yj:Ee(e),t=typeof t=="function"?t:t===void 0?Xj:Ee(t);function s(l){var u,f=(l=mv(l)).length,c,d=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,u,l),+t(c,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ee(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ee(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ee(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function vu(e,t,n){var r=null,i=Ee(!0),a=null,o=xd,s=null,l=hv(u);e=typeof e=="function"?e:e===void 0?Yj:Ee(+e),t=typeof t=="function"?t:Ee(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Xj:Ee(+n);function u(c){var d,p,y,m=(c=mv(c)).length,b,w=!1,g,x=new Array(m),_=new Array(m);for(a==null&&(s=o(g=l())),d=0;d<=m;++d){if(!(d<m&&i(b=c[d],d,c))===w)if(w=!w)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=d-1;y>=p;--y)s.point(x[y],_[y]);s.lineEnd(),s.areaEnd()}w&&(x[d]=+e(b,d,c),_[d]=+t(b,d,c),s.point(r?+r(b,d,c):x[d],n?+n(b,d,c):_[d]))}if(g)return s=null,g+""||null}function f(){return Qj().defined(i).curve(o).context(a)}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ee(+c),r=null,u):e},u.x0=function(c){return arguments.length?(e=typeof c=="function"?c:Ee(+c),u):e},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ee(+c),u):r},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ee(+c),n=null,u):t},u.y0=function(c){return arguments.length?(t=typeof c=="function"?c:Ee(+c),u):t},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Ee(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Ee(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}class Jj{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kL(e){return new Jj(e,!0)}function $L(e){return new Jj(e,!1)}const gv={draw(e,t){const n=In(t/Bc);e.moveTo(n,0),e.arc(0,0,n,0,wd)}},EL={draw(e,t){const n=In(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Zj=In(1/3),TL=Zj*2,NL={draw(e,t){const n=In(t/TL),r=n*Zj;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},CL={draw(e,t){const n=In(t),r=-n/2;e.rect(r,r,n,n)}},IL=.8908130915292852,eA=Rc(Bc/10)/Rc(7*Bc/10),ML=Rc(wd/10)*eA,LL=-Wj(wd/10)*eA,DL={draw(e,t){const n=In(t*IL),r=ML*n,i=LL*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=wd*a/5,s=Wj(o),l=Rc(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Lp=In(3),RL={draw(e,t){const n=-In(t/(Lp*3));e.moveTo(0,n*2),e.lineTo(-Lp*n,-n),e.lineTo(Lp*n,-n),e.closePath()}},en=-.5,tn=In(3)/2,Tm=1/In(12),BL=(Tm/2+1)*3,FL={draw(e,t){const n=In(t/BL),r=n/2,i=n*Tm,a=r,o=n*Tm+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(en*r-tn*i,tn*r+en*i),e.lineTo(en*a-tn*o,tn*a+en*o),e.lineTo(en*s-tn*l,tn*s+en*l),e.lineTo(en*r+tn*i,en*i-tn*r),e.lineTo(en*a+tn*o,en*o-tn*a),e.lineTo(en*s+tn*l,en*l-tn*s),e.closePath()}};function zL(e,t){let n=null,r=hv(i);e=typeof e=="function"?e:Ee(e||gv),t=typeof t=="function"?t:Ee(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ee(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ee(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Fc(){}function zc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tA(e){this._context=e}tA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UL(e){return new tA(e)}function nA(e){this._context=e}nA.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KL(e){return new nA(e)}function rA(e){this._context=e}rA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VL(e){return new rA(e)}function iA(e){this._context=e}iA.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qL(e){return new iA(e)}function nw(e){return e<0?-1:1}function rw(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(nw(a)+nw(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function iw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Dp(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Uc(e){this._context=e}Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dp(this,this._t0,iw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Dp(this,iw(this,n=rw(this,e,t)),n);break;default:Dp(this,this._t0,n=rw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function aA(e){this._context=new oA(e)}(aA.prototype=Object.create(Uc.prototype)).point=function(e,t){Uc.prototype.point.call(this,t,e)};function oA(e){this._context=e}oA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function WL(e){return new Uc(e)}function HL(e){return new aA(e)}function sA(e){this._context=e}sA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=aw(e),i=aw(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aw(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function GL(e){return new sA(e)}function Sd(e,t){this._context=e,this._t=t}Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function YL(e){return new Sd(e,.5)}function XL(e){return new Sd(e,0)}function QL(e){return new Sd(e,1)}function Wa(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Nm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function JL(e,t){return e[t]}function ZL(e){const t=[];return t.key=e,t}function eD(){var e=Ee([]),t=Nm,n=Wa,r=JL;function i(a){var o=Array.from(e.apply(this,arguments),ZL),s,l=o.length,u=-1,f;for(const c of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(c,o[s].key,u,a)]).data=c;for(s=0,f=mv(t(o));s<l;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ee(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ee(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Nm:typeof a=="function"?a:Ee(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Wa,i):n},i}function tD(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Wa(e,t)}}function nD(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Wa(e,t)}}function rD(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var f=e[t[s]],c=f[r][1]||0,d=f[r-1][1]||0,p=(c-d)/2,y=0;y<s;++y){var m=e[t[y]],b=m[r][1]||0,w=m[r-1][1]||0;p+=b-w}l+=c,u+=p*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Wa(e,t)}}function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}var iD=["type","size","sizeType"];function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(this,arguments)}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(r){aD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aD(e,t,n){return t=oD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oD(e){var t=sD(e,"string");return Ws(t)=="symbol"?t:t+""}function sD(e,t){if(Ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lD(e,t){if(e==null)return{};var n=uD(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uD(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var lA={symbolCircle:gv,symbolCross:EL,symbolDiamond:NL,symbolSquare:CL,symbolStar:DL,symbolTriangle:RL,symbolWye:FL},cD=Math.PI/180,fD=function(t){var n="symbol".concat(bd(t));return lA[n]||gv},dD=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*cD;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},pD=function(t,n){lA["symbol".concat(bd(t))]=n},yv=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=lD(t,iD),u=sw(sw({},l),{},{type:r,size:a,sizeType:s}),f=function(){var b=fD(r),w=zL().type(b).size(dD(a,s,r));return w()},c=u.className,d=u.cx,p=u.cy,y=de(u,!0);return d===+d&&p===+p&&a===+a?R.createElement("path",Cm({},y,{className:me("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(p,")"),d:f()})):null};yv.registerSymbol=pD;function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Im.apply(this,arguments)}function lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(n),!0).forEach(function(r){Hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cA(r.key),r)}}function yD(e,t,n){return t&&gD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vD(e,t,n){return t=Kc(t),bD(e,uA()?Reflect.construct(t,n||[],Kc(e).constructor):t.apply(e,n))}function bD(e,t){if(t&&(Ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wD(e)}function wD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uA=function(){return!!e})()}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kc(e)}function xD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mm(e,t)}function Hs(e,t,n){return t=cA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cA(e){var t=SD(e,"string");return Ha(t)=="symbol"?t:t+""}function SD(e,t){if(Ha(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nn=32,vv=function(e){function t(){return mD(this,t),vD(this,t,arguments)}return xD(t,e),yD(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=nn/2,o=nn/6,s=nn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:nn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(nn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return R.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nn/8,"h").concat(nn,"v").concat(nn*3/4,"h").concat(-nn,"z"),className:"recharts-legend-icon"});if(R.isValidElement(r.legendIcon)){var u=hD({},r);return delete u.legendIcon,R.cloneElement(r.legendIcon,u)}return R.createElement(yv,{fill:l,cx:a,cy:a,size:nn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:nn,height:nn},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var m=p.formatter||l,b=me(Hs(Hs({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=le(p.value)?null:p.value;ur(!le(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return R.createElement("li",Im({className:b,style:c,key:"legend-item-".concat(y)},Dc(r.props,p,y)),R.createElement(jm,{width:o,height:o,viewBox:f,style:d},r.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(w,p,y):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);Hs(vv,"displayName","Legend");Hs(vv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _D=od;function OD(){this.__data__=new _D,this.size=0}var jD=OD;function AD(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var PD=AD;function kD(e){return this.__data__.get(e)}var $D=kD;function ED(e){return this.__data__.has(e)}var TD=ED,ND=od,CD=av,ID=ov,MD=200;function LD(e,t){var n=this.__data__;if(n instanceof ND){var r=n.__data__;if(!CD||r.length<MD-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ID(r)}return n.set(e,t),this.size=n.size,this}var DD=LD,RD=od,BD=jD,FD=PD,zD=$D,UD=TD,KD=DD;function Oo(e){var t=this.__data__=new RD(e);this.size=t.size}Oo.prototype.clear=BD;Oo.prototype.delete=FD;Oo.prototype.get=zD;Oo.prototype.has=UD;Oo.prototype.set=KD;var fA=Oo,VD="__lodash_hash_undefined__";function qD(e){return this.__data__.set(e,VD),this}var WD=qD;function HD(e){return this.__data__.has(e)}var GD=HD,YD=ov,XD=WD,QD=GD;function Vc(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new YD;++t<n;)this.add(e[t])}Vc.prototype.add=Vc.prototype.push=XD;Vc.prototype.has=QD;var dA=Vc;function JD(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var pA=JD;function ZD(e,t){return e.has(t)}var hA=ZD,eR=dA,tR=pA,nR=hA,rR=1,iR=2;function aR(e,t,n,r,i,a){var o=n&rR,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var c=-1,d=!0,p=n&iR?new eR:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var y=e[c],m=t[c];if(r)var b=o?r(m,y,c,t,e,a):r(y,m,c,e,t,a);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!tR(t,function(w,g){if(!nR(p,g)&&(y===w||i(y,w,n,r,a)))return p.push(g)})){d=!1;break}}else if(!(y===m||i(y,m,n,r,a))){d=!1;break}}return a.delete(e),a.delete(t),d}var mA=aR,oR=Qn,sR=oR.Uint8Array,lR=sR;function uR(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var cR=uR;function fR(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var bv=fR,uw=Rl,cw=lR,dR=iv,pR=mA,hR=cR,mR=bv,gR=1,yR=2,vR="[object Boolean]",bR="[object Date]",wR="[object Error]",xR="[object Map]",SR="[object Number]",_R="[object RegExp]",OR="[object Set]",jR="[object String]",AR="[object Symbol]",PR="[object ArrayBuffer]",kR="[object DataView]",fw=uw?uw.prototype:void 0,Rp=fw?fw.valueOf:void 0;function $R(e,t,n,r,i,a,o){switch(n){case kR:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case PR:return!(e.byteLength!=t.byteLength||!a(new cw(e),new cw(t)));case vR:case bR:case SR:return dR(+e,+t);case wR:return e.name==t.name&&e.message==t.message;case _R:case jR:return e==t+"";case xR:var s=hR;case OR:var l=r&gR;if(s||(s=mR),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=yR,o.set(e,t);var f=pR(s(e),s(t),r,i,a,o);return o.delete(e),f;case AR:if(Rp)return Rp.call(e)==Rp.call(t)}return!1}var ER=$R;function TR(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var gA=TR,NR=gA,CR=zt;function IR(e,t,n){var r=t(e);return CR(e)?r:NR(r,n(e))}var MR=IR;function LR(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var DR=LR;function RR(){return[]}var BR=RR,FR=DR,zR=BR,UR=Object.prototype,KR=UR.propertyIsEnumerable,dw=Object.getOwnPropertySymbols,VR=dw?function(e){return e==null?[]:(e=Object(e),FR(dw(e),function(t){return KR.call(e,t)}))}:zR,qR=VR;function WR(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var HR=WR,GR=xr,YR=Sr,XR="[object Arguments]";function QR(e){return YR(e)&&GR(e)==XR}var JR=QR,pw=JR,ZR=Sr,yA=Object.prototype,eB=yA.hasOwnProperty,tB=yA.propertyIsEnumerable,nB=pw(function(){return arguments}())?pw:function(e){return ZR(e)&&eB.call(e,"callee")&&!tB.call(e,"callee")},wv=nB,qc={exports:{}};function rB(){return!1}var iB=rB;qc.exports;(function(e,t){var n=Qn,r=iB,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(qc,qc.exports);var vA=qc.exports,aB=9007199254740991,oB=/^(?:0|[1-9]\d*)$/;function sB(e,t){var n=typeof e;return t=t??aB,!!t&&(n=="number"||n!="symbol"&&oB.test(e))&&e>-1&&e%1==0&&e<t}var xv=sB,lB=9007199254740991;function uB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lB}var Sv=uB,cB=xr,fB=Sv,dB=Sr,pB="[object Arguments]",hB="[object Array]",mB="[object Boolean]",gB="[object Date]",yB="[object Error]",vB="[object Function]",bB="[object Map]",wB="[object Number]",xB="[object Object]",SB="[object RegExp]",_B="[object Set]",OB="[object String]",jB="[object WeakMap]",AB="[object ArrayBuffer]",PB="[object DataView]",kB="[object Float32Array]",$B="[object Float64Array]",EB="[object Int8Array]",TB="[object Int16Array]",NB="[object Int32Array]",CB="[object Uint8Array]",IB="[object Uint8ClampedArray]",MB="[object Uint16Array]",LB="[object Uint32Array]",Ce={};Ce[kB]=Ce[$B]=Ce[EB]=Ce[TB]=Ce[NB]=Ce[CB]=Ce[IB]=Ce[MB]=Ce[LB]=!0;Ce[pB]=Ce[hB]=Ce[AB]=Ce[mB]=Ce[PB]=Ce[gB]=Ce[yB]=Ce[vB]=Ce[bB]=Ce[wB]=Ce[xB]=Ce[SB]=Ce[_B]=Ce[OB]=Ce[jB]=!1;function DB(e){return dB(e)&&fB(e.length)&&!!Ce[cB(e)]}var RB=DB;function BB(e){return function(t){return e(t)}}var bA=BB,Wc={exports:{}};Wc.exports;(function(e,t){var n=Pj,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Wc,Wc.exports);var FB=Wc.exports,zB=RB,UB=bA,hw=FB,mw=hw&&hw.isTypedArray,KB=mw?UB(mw):zB,wA=KB,VB=HR,qB=wv,WB=zt,HB=vA,GB=xv,YB=wA,XB=Object.prototype,QB=XB.hasOwnProperty;function JB(e,t){var n=WB(e),r=!n&&qB(e),i=!n&&!r&&HB(e),a=!n&&!r&&!i&&YB(e),o=n||r||i||a,s=o?VB(e.length,String):[],l=s.length;for(var u in e)(t||QB.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||GB(u,l)))&&s.push(u);return s}var ZB=JB,eF=Object.prototype;function tF(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||eF;return e===n}var nF=tF;function rF(e,t){return function(n){return e(t(n))}}var xA=rF,iF=xA,aF=iF(Object.keys,Object),oF=aF,sF=nF,lF=oF,uF=Object.prototype,cF=uF.hasOwnProperty;function fF(e){if(!sF(e))return lF(e);var t=[];for(var n in Object(e))cF.call(e,n)&&n!="constructor"&&t.push(n);return t}var dF=fF,pF=rv,hF=Sv;function mF(e){return e!=null&&hF(e.length)&&!pF(e)}var zl=mF,gF=ZB,yF=dF,vF=zl;function bF(e){return vF(e)?gF(e):yF(e)}var _d=bF,wF=MR,xF=qR,SF=_d;function _F(e){return wF(e,SF,xF)}var OF=_F,gw=OF,jF=1,AF=Object.prototype,PF=AF.hasOwnProperty;function kF(e,t,n,r,i,a){var o=n&jF,s=gw(e),l=s.length,u=gw(t),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var d=s[c];if(!(o?d in t:PF.call(t,d)))return!1}var p=a.get(e),y=a.get(t);if(p&&y)return p==t&&y==e;var m=!0;a.set(e,t),a.set(t,e);for(var b=o;++c<l;){d=s[c];var w=e[d],g=t[d];if(r)var x=o?r(g,w,d,t,e,a):r(w,g,d,e,t,a);if(!(x===void 0?w===g||i(w,g,n,r,a):x)){m=!1;break}b||(b=d=="constructor")}if(m&&!b){var _=e.constructor,v=t.constructor;_!=v&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof v=="function"&&v instanceof v)&&(m=!1)}return a.delete(e),a.delete(t),m}var $F=kF,EF=Ki,TF=Qn,NF=EF(TF,"DataView"),CF=NF,IF=Ki,MF=Qn,LF=IF(MF,"Promise"),DF=LF,RF=Ki,BF=Qn,FF=RF(BF,"Set"),SA=FF,zF=Ki,UF=Qn,KF=zF(UF,"WeakMap"),VF=KF,Lm=CF,Dm=av,Rm=DF,Bm=SA,Fm=VF,_A=xr,jo=$j,yw="[object Map]",qF="[object Object]",vw="[object Promise]",bw="[object Set]",ww="[object WeakMap]",xw="[object DataView]",WF=jo(Lm),HF=jo(Dm),GF=jo(Rm),YF=jo(Bm),XF=jo(Fm),ci=_A;(Lm&&ci(new Lm(new ArrayBuffer(1)))!=xw||Dm&&ci(new Dm)!=yw||Rm&&ci(Rm.resolve())!=vw||Bm&&ci(new Bm)!=bw||Fm&&ci(new Fm)!=ww)&&(ci=function(e){var t=_A(e),n=t==qF?e.constructor:void 0,r=n?jo(n):"";if(r)switch(r){case WF:return xw;case HF:return yw;case GF:return vw;case YF:return bw;case XF:return ww}return t});var QF=ci,Bp=fA,JF=mA,ZF=ER,e3=$F,Sw=QF,_w=zt,Ow=vA,t3=wA,n3=1,jw="[object Arguments]",Aw="[object Array]",bu="[object Object]",r3=Object.prototype,Pw=r3.hasOwnProperty;function i3(e,t,n,r,i,a){var o=_w(e),s=_w(t),l=o?Aw:Sw(e),u=s?Aw:Sw(t);l=l==jw?bu:l,u=u==jw?bu:u;var f=l==bu,c=u==bu,d=l==u;if(d&&Ow(e)){if(!Ow(t))return!1;o=!0,f=!1}if(d&&!f)return a||(a=new Bp),o||t3(e)?JF(e,t,n,r,i,a):ZF(e,t,l,n,r,i,a);if(!(n&n3)){var p=f&&Pw.call(e,"__wrapped__"),y=c&&Pw.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,b=y?t.value():t;return a||(a=new Bp),i(m,b,n,r,a)}}return d?(a||(a=new Bp),e3(e,t,n,r,i,a)):!1}var a3=i3,o3=a3,kw=Sr;function OA(e,t,n,r,i){return e===t?!0:e==null||t==null||!kw(e)&&!kw(t)?e!==e&&t!==t:o3(e,t,n,r,OA,i)}var _v=OA,s3=fA,l3=_v,u3=1,c3=2;function f3(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],u=e[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var c=new s3;if(r)var d=r(u,f,l,e,t,c);if(!(d===void 0?l3(f,u,u3|c3,r,c):d))return!1}}return!0}var d3=f3,p3=Zr;function h3(e){return e===e&&!p3(e)}var jA=h3,m3=jA,g3=_d;function y3(e){for(var t=g3(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,m3(i)]}return t}var v3=y3;function b3(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var AA=b3,w3=d3,x3=v3,S3=AA;function _3(e){var t=x3(e);return t.length==1&&t[0][2]?S3(t[0][0],t[0][1]):function(n){return n===e||w3(n,e,t)}}var O3=_3;function j3(e,t){return e!=null&&t in Object(e)}var A3=j3,P3=Ij,k3=wv,$3=zt,E3=xv,T3=Sv,N3=ld;function C3(e,t,n){t=P3(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=N3(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&T3(i)&&E3(o,i)&&($3(e)||k3(e)))}var I3=C3,M3=A3,L3=I3;function D3(e,t){return e!=null&&L3(e,t,M3)}var R3=D3,B3=_v,F3=Mj,z3=R3,U3=nv,K3=jA,V3=AA,q3=ld,W3=1,H3=2;function G3(e,t){return U3(e)&&K3(t)?V3(q3(e),t):function(n){var r=F3(n,e);return r===void 0&&r===t?z3(n,e):B3(t,r,W3|H3)}}var Y3=G3;function X3(e){return e}var Ao=X3;function Q3(e){return function(t){return t==null?void 0:t[e]}}var J3=Q3,Z3=uv;function ez(e){return function(t){return Z3(t,e)}}var tz=ez,nz=J3,rz=tz,iz=nv,az=ld;function oz(e){return iz(e)?nz(az(e)):rz(e)}var sz=oz,lz=O3,uz=Y3,cz=Ao,fz=zt,dz=sz;function pz(e){return typeof e=="function"?e:e==null?cz:typeof e=="object"?fz(e)?uz(e[0],e[1]):lz(e):dz(e)}var ei=pz;function hz(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var PA=hz;function mz(e){return e!==e}var gz=mz;function yz(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var vz=yz,bz=PA,wz=gz,xz=vz;function Sz(e,t,n){return t===t?xz(e,t,n):bz(e,wz,n)}var _z=Sz,Oz=_z;function jz(e,t){var n=e==null?0:e.length;return!!n&&Oz(e,t,0)>-1}var Az=jz;function Pz(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var kz=Pz;function $z(){}var Ez=$z,Fp=SA,Tz=Ez,Nz=bv,Cz=1/0,Iz=Fp&&1/Nz(new Fp([,-0]))[1]==Cz?function(e){return new Fp(e)}:Tz,Mz=Iz,Lz=dA,Dz=Az,Rz=kz,Bz=hA,Fz=Mz,zz=bv,Uz=200;function Kz(e,t,n){var r=-1,i=Dz,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Rz;else if(a>=Uz){var u=t?null:Fz(e);if(u)return zz(u);o=!1,i=Bz,l=new Lz}else l=t?[]:s;e:for(;++r<a;){var f=e[r],c=t?t(f):f;if(f=n||f!==0?f:0,o&&c===c){for(var d=l.length;d--;)if(l[d]===c)continue e;t&&l.push(c),s.push(f)}else i(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var Vz=Kz,qz=ei,Wz=Vz;function Hz(e,t){return e&&e.length?Wz(e,qz(t)):[]}var Gz=Hz;const $w=Pe(Gz);function kA(e,t,n){return t===!0?$w(e,n):le(t)?$w(e,t):e}function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}var Yz=["ref"];function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(r){Od(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EA(r.key),r)}}function Qz(e,t,n){return t&&Tw(e.prototype,t),n&&Tw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jz(e,t,n){return t=Hc(t),Zz(e,$A()?Reflect.construct(t,n||[],Hc(e).constructor):t.apply(e,n))}function Zz(e,t){if(t&&(Ga(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eU(e)}function eU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($A=function(){return!!e})()}function Hc(e){return Hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hc(e)}function tU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zm(e,t)}function Od(e,t,n){return t=EA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EA(e){var t=nU(e,"string");return Ga(t)=="symbol"?t:t+""}function nU(e,t){if(Ga(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rU(e,t){if(e==null)return{};var n=iU(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function aU(e){return e.value}function oU(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var n=rU(t,Yz);return R.createElement(vv,n)}var Nw=1,ji=function(e){function t(){var n;Xz(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Jz(this,t,[].concat(i)),Od(n,"lastBoundingBox",{width:-1,height:-1}),n}return tU(t,e),Qz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Nw||Math.abs(i.height-this.lastBoundingBox.height)>Nw)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,c,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();c={left:((u||0)-p.width)/2}}else c=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();d={top:((f||0)-y.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Jn(Jn({},c),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,c=Jn(Jn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return R.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(p){r.wrapperNode=p}},oU(a,Jn(Jn({},this.props),{},{payload:kA(f,u,aU)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Jn(Jn({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&H(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Od(ji,"displayName","Legend");Od(ji,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Cw=Rl,sU=wv,lU=zt,Iw=Cw?Cw.isConcatSpreadable:void 0;function uU(e){return lU(e)||sU(e)||!!(Iw&&e&&e[Iw])}var cU=uU,fU=gA,dU=cU;function TA(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=dU),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?TA(s,t-1,n,r,i):fU(i,s):r||(i[i.length]=s)}return i}var NA=TA;function pU(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var hU=pU,mU=hU,gU=mU(),yU=gU,vU=yU,bU=_d;function wU(e,t){return e&&vU(e,t,bU)}var CA=wU,xU=zl;function SU(e,t){return function(n,r){if(n==null)return n;if(!xU(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var _U=SU,OU=CA,jU=_U,AU=jU(OU),Ov=AU,PU=Ov,kU=zl;function $U(e,t){var n=-1,r=kU(e)?Array(e.length):[];return PU(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var IA=$U;function EU(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var TU=EU,Mw=bo;function NU(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=Mw(e),o=t!==void 0,s=t===null,l=t===t,u=Mw(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var CU=NU,IU=CU;function MU(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=IU(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var LU=MU,zp=lv,DU=uv,RU=ei,BU=IA,FU=TU,zU=bA,UU=LU,KU=Ao,VU=zt;function qU(e,t,n){t.length?t=zp(t,function(a){return VU(a)?function(o){return DU(o,a.length===1?a[0]:a)}:a}):t=[KU];var r=-1;t=zp(t,zU(RU));var i=BU(e,function(a,o,s){var l=zp(t,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return FU(i,function(a,o){return UU(a,o,n)})}var WU=qU;function HU(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var GU=HU,YU=GU,Lw=Math.max;function XU(e,t,n){return t=Lw(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Lw(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),YU(e,this,s)}}var QU=XU;function JU(e){return function(){return e}}var ZU=JU,e4=Ki,t4=function(){try{var e=e4(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MA=t4,n4=ZU,Dw=MA,r4=Ao,i4=Dw?function(e,t){return Dw(e,"toString",{configurable:!0,enumerable:!1,value:n4(t),writable:!0})}:r4,a4=i4,o4=800,s4=16,l4=Date.now;function u4(e){var t=0,n=0;return function(){var r=l4(),i=s4-(r-n);if(n=r,i>0){if(++t>=o4)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var c4=u4,f4=a4,d4=c4,p4=d4(f4),h4=p4,m4=Ao,g4=QU,y4=h4;function v4(e,t){return y4(g4(e,t,m4),e+"")}var b4=v4,w4=iv,x4=zl,S4=xv,_4=Zr;function O4(e,t,n){if(!_4(n))return!1;var r=typeof t;return(r=="number"?x4(n)&&S4(t,n.length):r=="string"&&t in n)?w4(n[t],e):!1}var jd=O4,j4=NA,A4=WU,P4=b4,Rw=jd,k4=P4(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Rw(e,t[0],t[1])?t=[]:n>2&&Rw(t[0],t[1],t[2])&&(t=[t[0]]),A4(e,j4(t,1),[])}),$4=k4;const jv=Pe($4);function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}function E4(e,t){return I4(e)||C4(e,t)||N4(e,t)||T4()}function T4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4(e,t){if(e){if(typeof e=="string")return Bw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(e,t)}}function Bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function I4(e){if(Array.isArray(e))return e}function Fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(n),!0).forEach(function(r){M4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M4(e,t,n){return t=L4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L4(e){var t=D4(e,"string");return Gs(t)=="symbol"?t:t+""}function D4(e,t){if(Gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R4(e){return Array.isArray(e)&&it(e[0])&&it(e[1])?e.join(" ~ "):e}var B4=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,f=t.payload,c=t.formatter,d=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,b=t.labelFormatter,w=t.accessibilityLayer,g=w===void 0?!1:w,x=function(){if(f&&f.length){var P={padding:0,margin:0},E=(d?jv(f,d):f).map(function(N,I){if(N.type==="none")return null;var M=Up({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},s),L=N.formatter||c||R4,C=N.value,D=N.name,B=C,K=D;if(L&&B!=null&&K!=null){var z=L(C,D,N,I,f);if(Array.isArray(z)){var Y=E4(z,2);B=Y[0],K=Y[1]}else B=z}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:M},it(K)?R.createElement("span",{className:"recharts-tooltip-item-name"},K):null,it(K)?R.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,R.createElement("span",{className:"recharts-tooltip-item-value"},B),R.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:P},E)}return null},_=Up({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=Up({margin:0},u),S=!ce(m),O=S?m:"",j=me("recharts-default-tooltip",p),A=me("recharts-tooltip-label",y);S&&b&&f!==void 0&&f!==null&&(O=b(m,f));var k=g?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Um({className:j,style:_},k),R.createElement("p",{className:A,style:v},R.isValidElement(O)?O:"".concat(O)),x())};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function wu(e,t,n){return t=F4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F4(e){var t=z4(e,"string");return Ys(t)=="symbol"?t:t+""}function z4(e,t){if(Ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yo="recharts-tooltip-wrapper",U4={visibility:"hidden"};function K4(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return me(Yo,wu(wu(wu(wu({},"".concat(Yo,"-right"),H(n)&&t&&H(t.x)&&n>=t.x),"".concat(Yo,"-left"),H(n)&&t&&H(t.x)&&n<t.x),"".concat(Yo,"-bottom"),H(r)&&t&&H(t.y)&&r>=t.y),"".concat(Yo,"-top"),H(r)&&t&&H(t.y)&&r<t.y))}function zw(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(a&&H(a[r]))return a[r];var f=n[r]-s-i,c=n[r]+i;if(t[r])return o[r]?f:c;if(o[r]){var d=f,p=l[r];return d<p?Math.max(c,l[r]):Math.max(f,l[r])}var y=c+s,m=l[r]+u;return y>m?Math.max(f,l[r]):Math.max(c,l[r])}function V4(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function q4(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,f,c;return o.height>0&&o.width>0&&n?(f=zw({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),c=zw({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=V4({translateX:f,translateY:c,useTranslate3d:s})):u=U4,{cssProperties:u,cssClasses:K4({translateX:f,translateY:c,coordinate:n})}}function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){Vm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DA(r.key),r)}}function G4(e,t,n){return t&&H4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y4(e,t,n){return t=Gc(t),X4(e,LA()?Reflect.construct(t,n||[],Gc(e).constructor):t.apply(e,n))}function X4(e,t){if(t&&(Ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4(e)}function Q4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LA=function(){return!!e})()}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gc(e)}function J4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Km(e,t)}function Vm(e,t,n){return t=DA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DA(e){var t=Z4(e,"string");return Ya(t)=="symbol"?t:t+""}function Z4(e,t){if(Ya(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vw=1,e8=function(e){function t(){var n;W4(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Y4(this,t,[].concat(i)),Vm(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vm(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return J4(t,e),G4(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Vw||Math.abs(r.height-this.state.lastBoundingBox.height)>Vw)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,c=i.hasPayload,d=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,g=i.wrapperStyle,x=q4({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),_=x.cssClasses,v=x.cssProperties,S=Kw(Kw({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return R.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(j){r.wrapperNode=j}},u)}}])}($.PureComponent),t8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Po={isSsr:t8()};function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ww(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){Av(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BA(r.key),r)}}function i8(e,t,n){return t&&r8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a8(e,t,n){return t=Yc(t),o8(e,RA()?Reflect.construct(t,n||[],Yc(e).constructor):t.apply(e,n))}function o8(e,t){if(t&&(Xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s8(e)}function s8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RA=function(){return!!e})()}function Yc(e){return Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yc(e)}function l8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qm(e,t)}function qm(e,t){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qm(e,t)}function Av(e,t,n){return t=BA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BA(e){var t=u8(e,"string");return Xa(t)=="symbol"?t:t+""}function u8(e,t){if(Xa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c8(e){return e.dataKey}function f8(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(B4,t)}var On=function(e){function t(){return n8(this,t),a8(this,t,arguments)}return l8(t,e),i8(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,c=i.filterNull,d=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,b=i.position,w=i.reverseDirection,g=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,v=y??[];c&&v.length&&(v=kA(y.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),m,c8));var S=v.length>0;return R.createElement(e8,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:f,hasPayload:S,offset:p,position:b,reverseDirection:w,useTranslate3d:g,viewBox:x,wrapperStyle:_},f8(u,Ww(Ww({},this.props),{},{payload:v})))}}])}($.PureComponent);Av(On,"displayName","Tooltip");Av(On,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var d8=Qn,p8=function(){return d8.Date.now()},h8=p8,m8=/\s/;function g8(e){for(var t=e.length;t--&&m8.test(e.charAt(t)););return t}var y8=g8,v8=y8,b8=/^\s+/;function w8(e){return e&&e.slice(0,v8(e)+1).replace(b8,"")}var x8=w8,S8=x8,Hw=Zr,_8=bo,Gw=NaN,O8=/^[-+]0x[0-9a-f]+$/i,j8=/^0b[01]+$/i,A8=/^0o[0-7]+$/i,P8=parseInt;function k8(e){if(typeof e=="number")return e;if(_8(e))return Gw;if(Hw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Hw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=S8(e);var n=j8.test(e);return n||A8.test(e)?P8(e.slice(2),n?2:8):O8.test(e)?Gw:+e}var FA=k8,$8=Zr,Kp=h8,Yw=FA,E8="Expected a function",T8=Math.max,N8=Math.min;function C8(e,t,n){var r,i,a,o,s,l,u=0,f=!1,c=!1,d=!0;if(typeof e!="function")throw new TypeError(E8);t=Yw(t)||0,$8(n)&&(f=!!n.leading,c="maxWait"in n,a=c?T8(Yw(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d);function p(S){var O=r,j=i;return r=i=void 0,u=S,o=e.apply(j,O),o}function y(S){return u=S,s=setTimeout(w,t),f?p(S):o}function m(S){var O=S-l,j=S-u,A=t-O;return c?N8(A,a-j):A}function b(S){var O=S-l,j=S-u;return l===void 0||O>=t||O<0||c&&j>=a}function w(){var S=Kp();if(b(S))return g(S);s=setTimeout(w,m(S))}function g(S){return s=void 0,d&&r?p(S):(r=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function _(){return s===void 0?o:g(Kp())}function v(){var S=Kp(),O=b(S);if(r=arguments,i=this,l=S,O){if(s===void 0)return y(l);if(c)return clearTimeout(s),s=setTimeout(w,t),p(l)}return s===void 0&&(s=setTimeout(w,t)),o}return v.cancel=x,v.flush=_,v}var I8=C8,M8=I8,L8=Zr,D8="Expected a function";function R8(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(D8);return L8(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),M8(e,t,{leading:r,maxWait:t,trailing:i})}var B8=R8;const zA=Pe(B8);function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(r){F8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F8(e,t,n){return t=z8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z8(e){var t=U8(e,"string");return Xs(t)=="symbol"?t:t+""}function U8(e,t){if(Xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K8(e,t){return H8(e)||W8(e,t)||q8(e,t)||V8()}function V8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8(e,t){if(e){if(typeof e=="string")return Qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(e,t)}}function Qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function H8(e){if(Array.isArray(e))return e}var UA=$.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,f=u===void 0?0:u,c=e.minHeight,d=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,b=e.id,w=e.className,g=e.onResize,x=e.style,_=x===void 0?{}:x,v=$.useRef(null),S=$.useRef();S.current=g,$.useImperativeHandle(t,function(){return Object.defineProperty(v.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),v.current},configurable:!0})});var O=$.useState({containerWidth:i.width,containerHeight:i.height}),j=K8(O,2),A=j[0],k=j[1],T=$.useCallback(function(E,N){k(function(I){var M=Math.round(E),L=Math.round(N);return I.containerWidth===M&&I.containerHeight===L?I:{containerWidth:M,containerHeight:L}})},[]);$.useEffect(function(){var E=function(D){var B,K=D[0].contentRect,z=K.width,Y=K.height;T(z,Y),(B=S.current)===null||B===void 0||B.call(S,z,Y)};m>0&&(E=zA(E,m,{trailing:!0,leading:!1}));var N=new ResizeObserver(E),I=v.current.getBoundingClientRect(),M=I.width,L=I.height;return T(M,L),N.observe(v.current),function(){N.disconnect()}},[T,m]);var P=$.useMemo(function(){var E=A.containerWidth,N=A.containerHeight;if(E<0||N<0)return null;ur(gi(o)||gi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ur(!n||n>0,"The aspect(%s) must be greater than zero.",n);var I=gi(o)?E:o,M=gi(l)?N:l;n&&n>0&&(I?M=I/n:M&&(I=M*n),d&&M>d&&(M=d)),ur(I>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,M,o,l,f,c,n);var L=!Array.isArray(p)&&lr(p.type).endsWith("Chart");return R.Children.map(p,function(C){return R.isValidElement(C)?$.cloneElement(C,xu({width:I,height:M},L?{style:xu({height:"100%",width:"100%",maxHeight:M,maxWidth:I},C.props.style)}:{})):C})},[n,p,l,d,c,f,A,o]);return R.createElement("div",{id:b?"".concat(b):void 0,className:me("recharts-responsive-container",w),style:xu(xu({},_),{},{width:o,height:l,minWidth:f,minHeight:c,maxHeight:d}),ref:v},P)}),KA=function(t){return null};KA.displayName="Cell";function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(n),!0).forEach(function(r){G8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G8(e,t,n){return t=Y8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y8(e){var t=X8(e,"string");return Qs(t)=="symbol"?t:t+""}function X8(e,t){if(Qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qi={widthCache:{},cacheCount:0},Q8=2e3,J8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Zw="recharts_measurement_span";function Z8(e){var t=Wm({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var xs=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Po.isSsr)return{width:0,height:0};var r=Z8(n),i=JSON.stringify({text:t,copyStyle:r});if(Qi.widthCache[i])return Qi.widthCache[i];try{var a=document.getElementById(Zw);a||(a=document.createElement("span"),a.setAttribute("id",Zw),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Wm(Wm({},J8),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Qi.widthCache[i]=l,++Qi.cacheCount>Q8&&(Qi.cacheCount=0,Qi.widthCache={}),l}catch{return{width:0,height:0}}},e5=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function Xc(e,t){return i5(e)||r5(e,t)||n5(e,t)||t5()}function t5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n5(e,t){if(e){if(typeof e=="string")return ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(e,t)}}function ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function i5(e){if(Array.isArray(e))return e}function a5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s5(r.key),r)}}function o5(e,t,n){return t&&tx(e.prototype,t),n&&tx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s5(e){var t=l5(e,"string");return Js(t)=="symbol"?t:t+""}function l5(e,t){if(Js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u5=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,c5=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},f5=Object.keys(VA),va="NaN";function d5(e,t){return e*VA[t]}var Su=function(){function e(t,n){a5(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!u5.test(n)&&(this.num=NaN,this.unit=""),f5.includes(n)&&(this.num=d5(t,n),this.unit="px")}return o5(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=c5.exec(n))!==null&&r!==void 0?r:[],a=Xc(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function qA(e){if(e.includes(va))return va;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=nx.exec(t))!==null&&n!==void 0?n:[],i=Xc(r,4),a=i[1],o=i[2],s=i[3],l=Su.parse(a??""),u=Su.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return va;t=t.replace(nx,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,d=(c=rx.exec(t))!==null&&c!==void 0?c:[],p=Xc(d,4),y=p[1],m=p[2],b=p[3],w=Su.parse(y??""),g=Su.parse(b??""),x=m==="+"?w.add(g):w.subtract(g);if(x.isNaN())return va;t=t.replace(rx,x.toString())}return t}var ix=/\(([^()]*)\)/;function p5(e){for(var t=e;t.includes("(");){var n=ix.exec(t),r=Xc(n,2),i=r[1];t=t.replace(ix,qA(i))}return t}function h5(e){var t=e.replace(/\s+/g,"");return t=p5(t),t=qA(t),t}function m5(e){try{return h5(e)}catch{return va}}function Vp(e){var t=m5(e.slice(5,-1));return t===va?"":t}var g5=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],y5=["dx","dy","angle","className","breakAll"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hm.apply(this,arguments)}function ax(e,t){if(e==null)return{};var n=v5(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function v5(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ox(e,t){return S5(e)||x5(e,t)||w5(e,t)||b5()}function b5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5(e,t){if(e){if(typeof e=="string")return sx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sx(e,t)}}function sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function S5(e){if(Array.isArray(e))return e}var WA=/[ \f\n\r\t\v\u2028\u2029]+/,HA=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];ce(n)||(r?a=n.toString().split(""):a=n.toString().split(WA));var o=a.map(function(l){return{word:l,width:xs(l,i).width}}),s=r?0:xs(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},_5=function(t,n,r,i,a){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,f=H(o),c=s,d=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(M,L){var C=L.word,D=L.width,B=M[M.length-1];if(B&&(i==null||a||B.width+D+r<Number(i)))B.words.push(C),B.width+=D+r;else{var K={words:[C],width:D};M.push(K)}return M},[])},p=d(n),y=function(I){return I.reduce(function(M,L){return M.width>L.width?M:L})};if(!f)return p;for(var m="…",b=function(I){var M=c.slice(0,I),L=HA({breakAll:u,style:l,children:M+m}).wordsWithComputedWidth,C=d(L),D=C.length>o||y(C).width>Number(i);return[D,C]},w=0,g=c.length-1,x=0,_;w<=g&&x<=c.length-1;){var v=Math.floor((w+g)/2),S=v-1,O=b(S),j=ox(O,2),A=j[0],k=j[1],T=b(v),P=ox(T,1),E=P[0];if(!A&&!E&&(w=v+1),A&&E&&(g=v-1),!A&&E){_=k;break}x++}return _||p},lx=function(t){var n=ce(t)?[]:t.toString().split(WA);return[{words:n}]},O5=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!Po.isSsr){var l,u,f=HA({breakAll:o,children:i,style:a});if(f){var c=f.wordsWithComputedWidth,d=f.spaceWidth;l=c,u=d}else return lx(i);return _5({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return lx(i)},ux="#808080",Qc=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,f=t.scaleToFit,c=f===void 0?!1:f,d=t.textAnchor,p=d===void 0?"start":d,y=t.verticalAnchor,m=y===void 0?"end":y,b=t.fill,w=b===void 0?ux:b,g=ax(t,g5),x=$.useMemo(function(){return O5({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:c,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,c,g.style,g.width]),_=g.dx,v=g.dy,S=g.angle,O=g.className,j=g.breakAll,A=ax(g,y5);if(!it(r)||!it(a))return null;var k=r+(H(_)?_:0),T=a+(H(v)?v:0),P;switch(m){case"start":P=Vp("calc(".concat(u,")"));break;case"middle":P=Vp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=Vp("calc(".concat(x.length-1," * -").concat(s,")"));break}var E=[];if(c){var N=x[0].width,I=g.width;E.push("scale(".concat((H(I)?I/N:1)/N,")"))}return S&&E.push("rotate(".concat(S,", ").concat(k,", ").concat(T,")")),E.length&&(A.transform=E.join(" ")),R.createElement("text",Hm({},de(A,!0),{x:k,y:T,className:me("recharts-text",O),textAnchor:p,fill:w.includes("url")?ux:w}),x.map(function(M,L){var C=M.words.join(j?"":" ");return R.createElement("tspan",{x:k,dy:L===0?P:s,key:"".concat(C,"-").concat(L)},C)}))};function Vr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pv(e){let t,n,r;e.length!==2?(t=Vr,n=(s,l)=>Vr(e(s),l),r=(s,l)=>e(s)-l):(t=e===Vr||e===j5?e:A5,n=e,r=e);function i(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){const c=i(s,l,u,f-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:o,right:a}}function A5(){return 0}function GA(e){return e===null?NaN:+e}function*P5(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const k5=Pv(Vr),Ul=k5.right;Pv(GA).center;class cx extends Map{constructor(t,n=T5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(fx(this,t))}has(t){return super.has(fx(this,t))}set(t,n){return super.set($5(this,t),n)}delete(t){return super.delete(E5(this,t))}}function fx({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function E5({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function T5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N5(e=Vr){if(e===Vr)return YA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function YA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C5=Math.sqrt(50),I5=Math.sqrt(10),M5=Math.sqrt(2);function Jc(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=C5?10:a>=I5?5:a>=M5?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Jc(e,t,n*2):[s,l,u]}function Gm(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Jc(t,e,n):Jc(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Ym(e,t,n){return t=+t,e=+e,n=+n,Jc(e,t,n)[2]}function Xm(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ym(t,e,n):Ym(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function dx(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function px(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function XA(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?YA:N5(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*c/l+d)),y=Math.min(r,Math.floor(t+(l-u)*c/l+d));XA(e,t,p,y,i)}const a=e[t];let o=n,s=r;for(Xo(e,n,t),i(e[r],a)>0&&Xo(e,n,r);o<s;){for(Xo(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Xo(e,n,s):(++s,Xo(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Xo(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function L5(e,t,n){if(e=Float64Array.from(P5(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return px(e);if(t>=1)return dx(e);var r,i=(r-1)*t,a=Math.floor(i),o=dx(XA(e,a).subarray(0,a+1)),s=px(e.subarray(a+1));return o+(s-o)*(i-a)}}function D5(e,t,n=GA){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function R5(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function yn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _r(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qm=Symbol("implicit");function kv(){var e=new cx,t=[],n=[],r=Qm;function i(a){let o=e.get(a);if(o===void 0){if(r!==Qm)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new cx;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kv(t,n).unknown(r)},yn.apply(i,arguments),i}function Zs(){var e=kv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete e.unknown;function c(){var d=t().length,p=i<r,y=p?i:r,m=p?r:i;a=(m-y)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),y+=(m-y-a*(d-l))*f,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var b=R5(d).map(function(w){return y+a*w});return n(p?b.reverse():b)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),c()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),c()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,c()):u},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},e.copy=function(){return Zs(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},yn.apply(c(),arguments)}function QA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QA(t())},e}function Ss(){return QA(Zs.apply(null,arguments).paddingInner(1))}function $v(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function JA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Kl(){}var el=.7,Zc=1/el,Ia="\\s*([+-]?\\d+)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B5=/^#([0-9a-f]{3,8})$/,F5=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),z5=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),U5=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${tl}\\)$`),K5=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${tl}\\)$`),V5=new RegExp(`^hsl\\(${tl},${Vn},${Vn}\\)$`),q5=new RegExp(`^hsla\\(${tl},${Vn},${Vn},${tl}\\)$`),hx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$v(Kl,nl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mx,formatHex:mx,formatHex8:W5,formatHsl:H5,formatRgb:gx,toString:gx});function mx(){return this.rgb().formatHex()}function W5(){return this.rgb().formatHex8()}function H5(){return ZA(this).formatHsl()}function gx(){return this.rgb().formatRgb()}function nl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=B5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yx(t):n===3?new Dt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=F5.exec(e))?new Dt(t[1],t[2],t[3],1):(t=z5.exec(e))?new Dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=U5.exec(e))?_u(t[1],t[2],t[3],t[4]):(t=K5.exec(e))?_u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=V5.exec(e))?wx(t[1],t[2]/100,t[3]/100,1):(t=q5.exec(e))?wx(t[1],t[2]/100,t[3]/100,t[4]):hx.hasOwnProperty(e)?yx(hx[e]):e==="transparent"?new Dt(NaN,NaN,NaN,0):null}function yx(e){return new Dt(e>>16&255,e>>8&255,e&255,1)}function _u(e,t,n,r){return r<=0&&(e=t=n=NaN),new Dt(e,t,n,r)}function G5(e){return e instanceof Kl||(e=nl(e)),e?(e=e.rgb(),new Dt(e.r,e.g,e.b,e.opacity)):new Dt}function Jm(e,t,n,r){return arguments.length===1?G5(e):new Dt(e,t,n,r??1)}function Dt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$v(Dt,Jm,JA(Kl,{brighter(e){return e=e==null?Zc:Math.pow(Zc,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?el:Math.pow(el,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Dt(Ai(this.r),Ai(this.g),Ai(this.b),ef(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vx,formatHex:vx,formatHex8:Y5,formatRgb:bx,toString:bx}));function vx(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}`}function Y5(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}${yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function bx(){const e=ef(this.opacity);return`${e===1?"rgb(":"rgba("}${Ai(this.r)}, ${Ai(this.g)}, ${Ai(this.b)}${e===1?")":`, ${e})`}`}function ef(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ai(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yi(e){return e=Ai(e),(e<16?"0":"")+e.toString(16)}function wx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $n(e,t,n,r)}function ZA(e){if(e instanceof $n)return new $n(e.h,e.s,e.l,e.opacity);if(e instanceof Kl||(e=nl(e)),!e)return new $n;if(e instanceof $n)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new $n(o,s,l,e.opacity)}function X5(e,t,n,r){return arguments.length===1?ZA(e):new $n(e,t,n,r??1)}function $n(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$v($n,X5,JA(Kl,{brighter(e){return e=e==null?Zc:Math.pow(Zc,e),new $n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?el:Math.pow(el,e),new $n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Dt(qp(e>=240?e-240:e+120,i,r),qp(e,i,r),qp(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new $n(xx(this.h),Ou(this.s),Ou(this.l),ef(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ef(this.opacity);return`${e===1?"hsl(":"hsla("}${xx(this.h)}, ${Ou(this.s)*100}%, ${Ou(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xx(e){return e=(e||0)%360,e<0?e+360:e}function Ou(e){return Math.max(0,Math.min(1,e||0))}function qp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ev=e=>()=>e;function Q5(e,t){return function(n){return e+n*t}}function J5(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Z5(e){return(e=+e)==1?eP:function(t,n){return n-t?J5(t,n,e):Ev(isNaN(t)?n:t)}}function eP(e,t){var n=t-e;return n?Q5(e,n):Ev(isNaN(e)?t:e)}const Sx=function e(t){var n=Z5(t);function r(i,a){var o=n((i=Jm(i)).r,(a=Jm(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=eP(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function e6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function t6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function n6(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ko(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function r6(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function tf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function i6(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ko(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Zm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wp=new RegExp(Zm.source,"g");function a6(e){return function(){return e}}function o6(e){return function(t){return e(t)+""}}function s6(e,t){var n=Zm.lastIndex=Wp.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Zm.exec(e))&&(i=Wp.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:tf(r,i)})),n=Wp.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?o6(l[0].x):a6(t):(t=l.length,function(u){for(var f=0,c;f<t;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function ko(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ev(t):(n==="number"?tf:n==="string"?(r=nl(t))?(t=r,Sx):s6:t instanceof nl?Sx:t instanceof Date?r6:t6(t)?e6:Array.isArray(t)?n6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?i6:tf)(e,t)}function Tv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function l6(e,t){t===void 0&&(t=e,e=ko);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function u6(e){return function(){return e}}function nf(e){return+e}var _x=[0,1];function $t(e){return e}function eg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:u6(isNaN(t)?NaN:.5)}function c6(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function f6(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=eg(i,r),a=n(o,a)):(r=eg(r,i),a=n(a,o)),function(s){return a(r(s))}}function d6(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=eg(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=Ul(e,s,1,r)-1;return a[l](i[l](s))}}function Vl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ad(){var e=_x,t=_x,n=ko,r,i,a,o=$t,s,l,u;function f(){var d=Math.min(e.length,t.length);return o!==$t&&(o=c6(e[0],e[d-1])),s=d>2?d6:f6,l=u=null,c}function c(d){return d==null||isNaN(d=+d)?a:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return c.invert=function(d){return o(i((u||(u=s(t,e.map(r),tf)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,nf),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),n=Tv,f()},c.clamp=function(d){return arguments.length?(o=d?!0:$t,f()):o!==$t},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,p){return r=d,i=p,f()}}function Nv(){return Ad()($t,$t)}function p6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qa(e){return e=rf(Math.abs(e)),e?e[1]:NaN}function h6(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function m6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var g6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rl(e){if(!(t=g6.exec(e)))throw new Error("invalid format: "+e);var t;return new Cv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rl.prototype=Cv.prototype;function Cv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tP;function v6(e,t){var n=rf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(tP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+rf(e,Math.max(0,t+a-1))[0]}function Ox(e,t){var n=rf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jx={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:p6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ox(e*100,t),r:Ox,s:v6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ax(e){return e}var Px=Array.prototype.map,kx=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b6(e){var t=e.grouping===void 0||e.thousands===void 0?Ax:h6(Px.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ax:m6(Px.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(c){c=rl(c);var d=c.fill,p=c.align,y=c.sign,m=c.symbol,b=c.zero,w=c.width,g=c.comma,x=c.precision,_=c.trim,v=c.type;v==="n"?(g=!0,v="g"):jx[v]||(x===void 0&&(x=12),_=!0,v="g"),(b||d==="0"&&p==="=")&&(b=!0,d="0",p="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",O=m==="$"?r:/[%p]/.test(v)?o:"",j=jx[v],A=/[defgprs%]/.test(v);x=x===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(T){var P=S,E=O,N,I,M;if(v==="c")E=j(T)+E,T="";else{T=+T;var L=T<0||1/T<0;if(T=isNaN(T)?l:j(Math.abs(T),x),_&&(T=y6(T)),L&&+T==0&&y!=="+"&&(L=!1),P=(L?y==="("?y:s:y==="-"||y==="("?"":y)+P,E=(v==="s"?kx[8+tP/3]:"")+E+(L&&y==="("?")":""),A){for(N=-1,I=T.length;++N<I;)if(M=T.charCodeAt(N),48>M||M>57){E=(M===46?i+T.slice(N+1):T.slice(N))+E,T=T.slice(0,N);break}}}g&&!b&&(T=t(T,1/0));var C=P.length+T.length+E.length,D=C<w?new Array(w-C+1).join(d):"";switch(g&&b&&(T=t(D+T,D.length?w-E.length:1/0),D=""),p){case"<":T=P+T+E+D;break;case"=":T=P+D+T+E;break;case"^":T=D.slice(0,C=D.length>>1)+P+T+E+D.slice(C);break;default:T=D+P+T+E;break}return a(T)}return k.toString=function(){return c+""},k}function f(c,d){var p=u((c=rl(c),c.type="f",c)),y=Math.max(-8,Math.min(8,Math.floor(Qa(d)/3)))*3,m=Math.pow(10,-y),b=kx[8+y/3];return function(w){return p(m*w)+b}}return{format:u,formatPrefix:f}}var ju,Iv,nP;w6({thousands:",",grouping:[3],currency:["$",""]});function w6(e){return ju=b6(e),Iv=ju.format,nP=ju.formatPrefix,ju}function x6(e){return Math.max(0,-Qa(Math.abs(e)))}function S6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qa(t)/3)))*3-Qa(Math.abs(e)))}function _6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qa(t)-Qa(e))+1}function rP(e,t,n,r){var i=Xm(e,t,n),a;switch(r=rl(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=S6(i,o))&&(r.precision=a),nP(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_6(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=x6(i))&&(r.precision=a-(r.type==="%")*2);break}}return Iv(r)}function ti(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return rP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=Ym(o,s,n),u===l)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function af(){var e=Nv();return e.copy=function(){return Vl(e,af())},yn.apply(e,arguments),ti(e)}function iP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,nf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return iP(e).unknown(t)},e=arguments.length?Array.from(e,nf):[0,1],ti(n)}function aP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function $x(e){return Math.log(e)}function Ex(e){return Math.exp(e)}function O6(e){return-Math.log(-e)}function j6(e){return-Math.exp(-e)}function A6(e){return isFinite(e)?+("1e"+e):e<0?0:e}function P6(e){return e===10?A6:e===Math.E?Math.exp:t=>Math.pow(e,t)}function k6(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tx(e){return(t,n)=>-e(-t,n)}function Mv(e){const t=e($x,Ex),n=t.domain;let r=10,i,a;function o(){return i=k6(r),a=P6(r),n()[0]<0?(i=Tx(i),a=Tx(a),e(O6,j6)):e($x,Ex),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let d=i(u),p=i(f),y,m;const b=s==null?10:+s;let w=[];if(!(r%1)&&p-d<b){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(y=1;y<r;++y)if(m=d<0?y/a(-d):y*a(d),!(m<u)){if(m>f)break;w.push(m)}}else for(;d<=p;++d)for(y=r-1;y>=1;--y)if(m=d>0?y/a(-d):y*a(d),!(m<u)){if(m>f)break;w.push(m)}w.length*2<b&&(w=Gm(u,f,b))}else w=Gm(d,p,Math.min(p-d,b)).map(a);return c?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=rl(l)).precision==null&&(l.trim=!0),l=Iv(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},t.nice=()=>n(aP(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function oP(){const e=Mv(Ad()).domain([1,10]);return e.copy=()=>Vl(e,oP()).base(e.base()),yn.apply(e,arguments),e}function Nx(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Cx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lv(e){var t=1,n=e(Nx(t),Cx(t));return n.constant=function(r){return arguments.length?e(Nx(t=+r),Cx(t)):t},ti(n)}function sP(){var e=Lv(Ad());return e.copy=function(){return Vl(e,sP()).constant(e.constant())},yn.apply(e,arguments)}function Ix(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $6(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function E6(e){return e<0?-e*e:e*e}function Dv(e){var t=e($t,$t),n=1;function r(){return n===1?e($t,$t):n===.5?e($6,E6):e(Ix(n),Ix(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ti(t)}function Rv(){var e=Dv(Ad());return e.copy=function(){return Vl(e,Rv()).exponent(e.exponent())},yn.apply(e,arguments),e}function T6(){return Rv.apply(null,arguments).exponent(.5)}function Mx(e){return Math.sign(e)*e*e}function N6(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lP(){var e=Nv(),t=[0,1],n=!1,r;function i(a){var o=N6(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(Mx(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,nf)).map(Mx)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},yn.apply(i,arguments),ti(i)}function uP(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=D5(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Ul(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Vr),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return uP().domain(e).range(t).unknown(r)},yn.apply(a,arguments)}function cP(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Ul(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return cP().domain([e,t]).range(i).unknown(a)},yn.apply(ti(o),arguments)}function fP(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ul(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fP().domain(e).range(t).unknown(n)},yn.apply(i,arguments)}const Hp=new Date,Gp=new Date;function ot(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>ot(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Hp.setTime(+a),Gp.setTime(+o),e(Hp),e(Gp),Math.floor(n(Hp,Gp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const of=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);of.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):of);of.range;const rr=1e3,sn=rr*60,ir=sn*60,gr=ir*24,Bv=gr*7,Lx=gr*30,Yp=gr*365,vi=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getUTCSeconds());vi.range;const Fv=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rr)},(e,t)=>{e.setTime(+e+t*sn)},(e,t)=>(t-e)/sn,e=>e.getMinutes());Fv.range;const zv=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sn)},(e,t)=>(t-e)/sn,e=>e.getUTCMinutes());zv.range;const Uv=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rr-e.getMinutes()*sn)},(e,t)=>{e.setTime(+e+t*ir)},(e,t)=>(t-e)/ir,e=>e.getHours());Uv.range;const Kv=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ir)},(e,t)=>(t-e)/ir,e=>e.getUTCHours());Kv.range;const ql=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sn)/gr,e=>e.getDate()-1);ql.range;const Pd=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>e.getUTCDate()-1);Pd.range;const dP=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>Math.floor(e/gr));dP.range;function Vi(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*sn)/Bv)}const kd=Vi(0),sf=Vi(1),C6=Vi(2),I6=Vi(3),Ja=Vi(4),M6=Vi(5),L6=Vi(6);kd.range;sf.range;C6.range;I6.range;Ja.range;M6.range;L6.range;function qi(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Bv)}const $d=qi(0),lf=qi(1),D6=qi(2),R6=qi(3),Za=qi(4),B6=qi(5),F6=qi(6);$d.range;lf.range;D6.range;R6.range;Za.range;B6.range;F6.range;const Vv=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vv.range;const qv=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qv.range;const yr=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yr.range;const vr=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vr.range;function pP(e,t,n,r,i,a){const o=[[vi,1,rr],[vi,5,5*rr],[vi,15,15*rr],[vi,30,30*rr],[a,1,sn],[a,5,5*sn],[a,15,15*sn],[a,30,30*sn],[i,1,ir],[i,3,3*ir],[i,6,6*ir],[i,12,12*ir],[r,1,gr],[r,2,2*gr],[n,1,Bv],[t,1,Lx],[t,3,3*Lx],[e,1,Yp]];function s(u,f,c){const d=f<u;d&&([u,f]=[f,u]);const p=c&&typeof c.range=="function"?c:l(u,f,c),y=p?p.range(u,+f+1):[];return d?y.reverse():y}function l(u,f,c){const d=Math.abs(f-u)/c,p=Pv(([,,b])=>b).right(o,d);if(p===o.length)return e.every(Xm(u/Yp,f/Yp,c));if(p===0)return of.every(Math.max(Xm(u,f,c),1));const[y,m]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return y.every(m)}return[s,l]}const[z6,U6]=pP(vr,qv,$d,dP,Kv,zv),[K6,V6]=pP(yr,Vv,kd,ql,Uv,Fv);function Xp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function q6(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Jo(i),f=Zo(i),c=Jo(a),d=Zo(a),p=Jo(o),y=Zo(o),m=Jo(s),b=Zo(s),w=Jo(l),g=Zo(l),x={a:L,A:C,b:D,B,c:null,d:Ux,e:Ux,f:hK,g:OK,G:AK,H:fK,I:dK,j:pK,L:hP,m:mK,M:gK,p:K,q:z,Q:qx,s:Wx,S:yK,u:vK,U:bK,V:wK,w:xK,W:SK,x:null,X:null,y:_K,Y:jK,Z:PK,"%":Vx},_={a:Y,A:ee,b:ue,B:ke,c:null,d:Kx,e:Kx,f:TK,g:zK,G:KK,H:kK,I:$K,j:EK,L:gP,m:NK,M:CK,p:Je,q:Ge,Q:qx,s:Wx,S:IK,u:MK,U:LK,V:DK,w:RK,W:BK,x:null,X:null,y:FK,Y:UK,Z:VK,"%":Vx},v={a:k,A:T,b:P,B:E,c:N,d:Fx,e:Fx,f:sK,g:Bx,G:Rx,H:zx,I:zx,j:rK,L:oK,m:nK,M:iK,p:A,q:tK,Q:uK,s:cK,S:aK,u:X6,U:Q6,V:J6,w:Y6,W:Z6,x:I,X:M,y:Bx,Y:Rx,Z:eK,"%":lK};x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(G,V){return function(Z){var U=[],oe=-1,re=0,be=G.length,we,Ze,Ct;for(Z instanceof Date||(Z=new Date(+Z));++oe<be;)G.charCodeAt(oe)===37&&(U.push(G.slice(re,oe)),(Ze=Dx[we=G.charAt(++oe)])!=null?we=G.charAt(++oe):Ze=we==="e"?" ":"0",(Ct=V[we])&&(we=Ct(Z,Ze)),U.push(we),re=oe+1);return U.push(G.slice(re,oe)),U.join("")}}function O(G,V){return function(Z){var U=Qo(1900,void 0,1),oe=j(U,G,Z+="",0),re,be;if(oe!=Z.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(V&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(re=Qp(Qo(U.y,0,1)),be=re.getUTCDay(),re=be>4||be===0?lf.ceil(re):lf(re),re=Pd.offset(re,(U.V-1)*7),U.y=re.getUTCFullYear(),U.m=re.getUTCMonth(),U.d=re.getUTCDate()+(U.w+6)%7):(re=Xp(Qo(U.y,0,1)),be=re.getDay(),re=be>4||be===0?sf.ceil(re):sf(re),re=ql.offset(re,(U.V-1)*7),U.y=re.getFullYear(),U.m=re.getMonth(),U.d=re.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),be="Z"in U?Qp(Qo(U.y,0,1)).getUTCDay():Xp(Qo(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(be+5)%7:U.w+U.U*7-(be+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Qp(U)):Xp(U)}}function j(G,V,Z,U){for(var oe=0,re=V.length,be=Z.length,we,Ze;oe<re;){if(U>=be)return-1;if(we=V.charCodeAt(oe++),we===37){if(we=V.charAt(oe++),Ze=v[we in Dx?V.charAt(oe++):we],!Ze||(U=Ze(G,Z,U))<0)return-1}else if(we!=Z.charCodeAt(U++))return-1}return U}function A(G,V,Z){var U=u.exec(V.slice(Z));return U?(G.p=f.get(U[0].toLowerCase()),Z+U[0].length):-1}function k(G,V,Z){var U=p.exec(V.slice(Z));return U?(G.w=y.get(U[0].toLowerCase()),Z+U[0].length):-1}function T(G,V,Z){var U=c.exec(V.slice(Z));return U?(G.w=d.get(U[0].toLowerCase()),Z+U[0].length):-1}function P(G,V,Z){var U=w.exec(V.slice(Z));return U?(G.m=g.get(U[0].toLowerCase()),Z+U[0].length):-1}function E(G,V,Z){var U=m.exec(V.slice(Z));return U?(G.m=b.get(U[0].toLowerCase()),Z+U[0].length):-1}function N(G,V,Z){return j(G,t,V,Z)}function I(G,V,Z){return j(G,n,V,Z)}function M(G,V,Z){return j(G,r,V,Z)}function L(G){return o[G.getDay()]}function C(G){return a[G.getDay()]}function D(G){return l[G.getMonth()]}function B(G){return s[G.getMonth()]}function K(G){return i[+(G.getHours()>=12)]}function z(G){return 1+~~(G.getMonth()/3)}function Y(G){return o[G.getUTCDay()]}function ee(G){return a[G.getUTCDay()]}function ue(G){return l[G.getUTCMonth()]}function ke(G){return s[G.getUTCMonth()]}function Je(G){return i[+(G.getUTCHours()>=12)]}function Ge(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var V=S(G+="",x);return V.toString=function(){return G},V},parse:function(G){var V=O(G+="",!1);return V.toString=function(){return G},V},utcFormat:function(G){var V=S(G+="",_);return V.toString=function(){return G},V},utcParse:function(G){var V=O(G+="",!0);return V.toString=function(){return G},V}}}var Dx={"-":"",_:" ",0:"0"},ct=/^\s*\d+/,W6=/^%/,H6=/[\\^$*+?|[\]().{}]/g;function ve(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function G6(e){return e.replace(H6,"\\$&")}function Jo(e){return new RegExp("^(?:"+e.map(G6).join("|")+")","i")}function Zo(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Y6(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function X6(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Q6(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function J6(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Z6(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Rx(e,t,n){var r=ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Bx(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tK(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nK(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Fx(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zx(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lK(e,t,n){var r=W6.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function uK(e,t,n){var r=ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ux(e,t){return ve(e.getDate(),t,2)}function fK(e,t){return ve(e.getHours(),t,2)}function dK(e,t){return ve(e.getHours()%12||12,t,2)}function pK(e,t){return ve(1+ql.count(yr(e),e),t,3)}function hP(e,t){return ve(e.getMilliseconds(),t,3)}function hK(e,t){return hP(e,t)+"000"}function mK(e,t){return ve(e.getMonth()+1,t,2)}function gK(e,t){return ve(e.getMinutes(),t,2)}function yK(e,t){return ve(e.getSeconds(),t,2)}function vK(e){var t=e.getDay();return t===0?7:t}function bK(e,t){return ve(kd.count(yr(e)-1,e),t,2)}function mP(e){var t=e.getDay();return t>=4||t===0?Ja(e):Ja.ceil(e)}function wK(e,t){return e=mP(e),ve(Ja.count(yr(e),e)+(yr(e).getDay()===4),t,2)}function xK(e){return e.getDay()}function SK(e,t){return ve(sf.count(yr(e)-1,e),t,2)}function _K(e,t){return ve(e.getFullYear()%100,t,2)}function OK(e,t){return e=mP(e),ve(e.getFullYear()%100,t,2)}function jK(e,t){return ve(e.getFullYear()%1e4,t,4)}function AK(e,t){var n=e.getDay();return e=n>=4||n===0?Ja(e):Ja.ceil(e),ve(e.getFullYear()%1e4,t,4)}function PK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function Kx(e,t){return ve(e.getUTCDate(),t,2)}function kK(e,t){return ve(e.getUTCHours(),t,2)}function $K(e,t){return ve(e.getUTCHours()%12||12,t,2)}function EK(e,t){return ve(1+Pd.count(vr(e),e),t,3)}function gP(e,t){return ve(e.getUTCMilliseconds(),t,3)}function TK(e,t){return gP(e,t)+"000"}function NK(e,t){return ve(e.getUTCMonth()+1,t,2)}function CK(e,t){return ve(e.getUTCMinutes(),t,2)}function IK(e,t){return ve(e.getUTCSeconds(),t,2)}function MK(e){var t=e.getUTCDay();return t===0?7:t}function LK(e,t){return ve($d.count(vr(e)-1,e),t,2)}function yP(e){var t=e.getUTCDay();return t>=4||t===0?Za(e):Za.ceil(e)}function DK(e,t){return e=yP(e),ve(Za.count(vr(e),e)+(vr(e).getUTCDay()===4),t,2)}function RK(e){return e.getUTCDay()}function BK(e,t){return ve(lf.count(vr(e)-1,e),t,2)}function FK(e,t){return ve(e.getUTCFullYear()%100,t,2)}function zK(e,t){return e=yP(e),ve(e.getUTCFullYear()%100,t,2)}function UK(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function KK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Za(e):Za.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function VK(){return"+0000"}function Vx(){return"%"}function qx(e){return+e}function Wx(e){return Math.floor(+e/1e3)}var Ji,vP,bP;qK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qK(e){return Ji=q6(e),vP=Ji.format,Ji.parse,bP=Ji.utcFormat,Ji.utcParse,Ji}function WK(e){return new Date(e)}function HK(e){return e instanceof Date?+e:+new Date(+e)}function Wv(e,t,n,r,i,a,o,s,l,u){var f=Nv(),c=f.invert,d=f.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),g=u("%b %d"),x=u("%B"),_=u("%Y");function v(S){return(l(S)<S?p:s(S)<S?y:o(S)<S?m:a(S)<S?b:r(S)<S?i(S)<S?w:g:n(S)<S?x:_)(S)}return f.invert=function(S){return new Date(c(S))},f.domain=function(S){return arguments.length?d(Array.from(S,HK)):d().map(WK)},f.ticks=function(S){var O=d();return e(O[0],O[O.length-1],S??10)},f.tickFormat=function(S,O){return O==null?v:u(O)},f.nice=function(S){var O=d();return(!S||typeof S.range!="function")&&(S=t(O[0],O[O.length-1],S??10)),S?d(aP(O,S)):f},f.copy=function(){return Vl(f,Wv(e,t,n,r,i,a,o,s,l,u))},f}function GK(){return yn.apply(Wv(K6,V6,yr,Vv,kd,ql,Uv,Fv,vi,vP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YK(){return yn.apply(Wv(z6,U6,vr,qv,$d,Pd,Kv,zv,vi,bP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ed(){var e=0,t=1,n,r,i,a,o=$t,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(a(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([e,t]=c,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(o=c,u):o};function f(c){return function(d){var p,y;return arguments.length?([p,y]=d,o=c(p,y),u):[o(0),o(1)]}}return u.range=f(ko),u.rangeRound=f(Tv),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,n=c(e),r=c(t),i=n===r?0:1/(r-n),u}}function ni(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wP(){var e=ti(Ed()($t));return e.copy=function(){return ni(e,wP())},_r.apply(e,arguments)}function xP(){var e=Mv(Ed()).domain([1,10]);return e.copy=function(){return ni(e,xP()).base(e.base())},_r.apply(e,arguments)}function SP(){var e=Lv(Ed());return e.copy=function(){return ni(e,SP()).constant(e.constant())},_r.apply(e,arguments)}function Hv(){var e=Dv(Ed());return e.copy=function(){return ni(e,Hv()).exponent(e.exponent())},_r.apply(e,arguments)}function XK(){return Hv.apply(null,arguments).exponent(.5)}function _P(){var e=[],t=$t;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ul(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Vr),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>L5(e,a/r))},n.copy=function(){return _P(t).domain(e)},_r.apply(n,arguments)}function Td(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,u=$t,f,c=!1,d;function p(m){return isNaN(m=+m)?d:(m=.5+((m=+f(m))-a)*(r*m<r*a?s:l),u(c?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,n]=m,i=f(e=+e),a=f(t=+t),o=f(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(m){return arguments.length?(c=!!m,p):c},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(b){var w,g,x;return arguments.length?([w,g,x]=b,u=l6(m,[w,g,x]),p):[u(0),u(.5),u(1)]}}return p.range=y(ko),p.rangeRound=y(Tv),p.unknown=function(m){return arguments.length?(d=m,p):d},function(m){return f=m,i=m(e),a=m(t),o=m(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function OP(){var e=ti(Td()($t));return e.copy=function(){return ni(e,OP())},_r.apply(e,arguments)}function jP(){var e=Mv(Td()).domain([.1,1,10]);return e.copy=function(){return ni(e,jP()).base(e.base())},_r.apply(e,arguments)}function AP(){var e=Lv(Td());return e.copy=function(){return ni(e,AP()).constant(e.constant())},_r.apply(e,arguments)}function Gv(){var e=Dv(Td());return e.copy=function(){return ni(e,Gv()).exponent(e.exponent())},_r.apply(e,arguments)}function QK(){return Gv.apply(null,arguments).exponent(.5)}const Hx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zs,scaleDiverging:OP,scaleDivergingLog:jP,scaleDivergingPow:Gv,scaleDivergingSqrt:QK,scaleDivergingSymlog:AP,scaleIdentity:iP,scaleImplicit:Qm,scaleLinear:af,scaleLog:oP,scaleOrdinal:kv,scalePoint:Ss,scalePow:Rv,scaleQuantile:uP,scaleQuantize:cP,scaleRadial:lP,scaleSequential:wP,scaleSequentialLog:xP,scaleSequentialPow:Hv,scaleSequentialQuantile:_P,scaleSequentialSqrt:XK,scaleSequentialSymlog:SP,scaleSqrt:T6,scaleSymlog:sP,scaleThreshold:fP,scaleTime:GK,scaleUtc:YK,tickFormat:rP},Symbol.toStringTag,{value:"Module"}));var JK=bo;function ZK(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!JK(o):n(o,s)))var s=o,l=a}return l}var PP=ZK;function eV(e,t){return e>t}var tV=eV,nV=PP,rV=tV,iV=Ao;function aV(e){return e&&e.length?nV(e,iV,rV):void 0}var oV=aV;const Nd=Pe(oV);function sV(e,t){return e<t}var lV=sV,uV=PP,cV=lV,fV=Ao;function dV(e){return e&&e.length?uV(e,fV,cV):void 0}var pV=dV;const Cd=Pe(pV);var hV=lv,mV=ei,gV=IA,yV=zt;function vV(e,t){var n=yV(e)?hV:gV;return n(e,mV(t))}var bV=vV,wV=NA,xV=bV;function SV(e,t){return wV(xV(e,t),1)}var _V=SV;const OV=Pe(_V);var jV=_v;function AV(e,t){return jV(e,t)}var PV=AV;const Id=Pe(PV);var $o=1e9,kV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xv,De=!0,hn="[DecimalError] ",Pi=hn+"Invalid argument: ",Yv=hn+"Exponent out of range: ",Eo=Math.floor,fi=Math.pow,$V=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wt,st=1e7,Ie=7,kP=9007199254740991,uf=Eo(kP/Ie),J={};J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};J.comparedTo=J.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};J.decimalPlaces=J.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};J.dividedBy=J.div=function(e){return cr(this,new this.constructor(e))};J.dividedToIntegerBy=J.idiv=function(e){var t=this,n=t.constructor;return je(cr(t,new n(e),0,1),n.precision)};J.equals=J.eq=function(e){return!this.cmp(e)};J.exponent=function(){return Qe(this)};J.greaterThan=J.gt=function(e){return this.cmp(e)>0};J.greaterThanOrEqualTo=J.gte=function(e){return this.cmp(e)>=0};J.isInteger=J.isint=function(){return this.e>this.d.length-2};J.isNegative=J.isneg=function(){return this.s<0};J.isPositive=J.ispos=function(){return this.s>0};J.isZero=function(){return this.s===0};J.lessThan=J.lt=function(e){return this.cmp(e)<0};J.lessThanOrEqualTo=J.lte=function(e){return this.cmp(e)<1};J.logarithm=J.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Wt))throw Error(hn+"NaN");if(n.s<1)throw Error(hn+(n.s?"NaN":"-Infinity"));return n.eq(Wt)?new r(0):(De=!1,t=cr(il(n,a),il(e,a),a),De=!0,je(t,i))};J.minus=J.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TP(t,e):$P(t,(e.s=-e.s,e))};J.modulo=J.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(hn+"NaN");return n.s?(De=!1,t=cr(n,e,0,1).times(e),De=!0,n.minus(t)):je(new r(n),i)};J.naturalExponential=J.exp=function(){return EP(this)};J.naturalLogarithm=J.ln=function(){return il(this)};J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};J.plus=J.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$P(t,e):TP(t,(e.s=-e.s,e))};J.precision=J.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pi+e);if(t=Qe(i)+1,r=i.d.length-1,n=r*Ie+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};J.squareRoot=J.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(hn+"NaN")}for(e=Qe(s),De=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Fn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(cr(s,a,o+2)).times(.5),Fn(a.d).slice(0,o)===(t=Fn(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(je(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return De=!0,je(r,n)};J.times=J.mul=function(e){var t,n,r,i,a,o,s,l,u,f=this,c=f.constructor,d=f.d,p=(e=new c(e)).d;if(!f.s||!e.s)return new c(0);for(e.s*=f.s,n=f.e+e.e,l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*d[i-r-1]+t,a[i--]=s%st|0,t=s/st|0;a[i]=(a[i]+t)%st|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,De?je(e,c.precision):e};J.toDecimalPlaces=J.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Gn(e,0,$o),t===void 0?t=r.rounding:Gn(t,0,8),je(n,e+Qe(n)+1,t))};J.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Li(r,!0):(Gn(e,0,$o),t===void 0?t=i.rounding:Gn(t,0,8),r=je(new i(r),e+1,t),n=Li(r,!0,e+1)),n};J.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Li(i):(Gn(e,0,$o),t===void 0?t=a.rounding:Gn(t,0,8),r=je(new a(i),e+Qe(i)+1,t),n=Li(r.abs(),!1,e+Qe(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};J.toInteger=J.toint=function(){var e=this,t=e.constructor;return je(new t(e),Qe(e)+1,t.rounding)};J.toNumber=function(){return+this};J.toPower=J.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,u=12,f=+(e=new l(e));if(!e.s)return new l(Wt);if(s=new l(s),!s.s){if(e.s<1)throw Error(hn+"Infinity");return s}if(s.eq(Wt))return s;if(r=l.precision,e.eq(Wt))return je(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=f<0?-f:f)<=kP){for(i=new l(Wt),t=Math.ceil(r/Ie+4),De=!1;n%2&&(i=i.times(s),Yx(i.d,t)),n=Eo(n/2),n!==0;)s=s.times(s),Yx(s.d,t);return De=!0,e.s<0?new l(Wt).div(i):je(i,r)}}else if(a<0)throw Error(hn+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,De=!1,i=e.times(il(s,r+u)),De=!0,i=EP(i),i.s=a,i};J.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Qe(i),r=Li(i,n<=a.toExpNeg||n>=a.toExpPos)):(Gn(e,1,$o),t===void 0?t=a.rounding:Gn(t,0,8),i=je(new a(i),e,t),n=Qe(i),r=Li(i,e<=n||n<=a.toExpNeg,e)),r};J.toSignificantDigits=J.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Gn(e,1,$o),t===void 0?t=r.rounding:Gn(t,0,8)),je(new r(n),e,t)};J.toString=J.valueOf=J.val=J.toJSON=J[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qe(e),n=e.constructor;return Li(e,t<=n.toExpNeg||t>=n.toExpPos)};function $P(e,t){var n,r,i,a,o,s,l,u,f=e.constructor,c=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),De?je(t,c):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(c/Ie),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/st|0,l[a]%=st;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,De?je(t,c):t}function Gn(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pi+e)}function Fn(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Ie-r.length,n&&(a+=kr(n)),a+=r;o=e[t],r=o+"",n=Ie-r.length,n&&(a+=kr(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var cr=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%st|0,o=a/st|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*st+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,f,c,d,p,y,m,b,w,g,x,_,v,S,O,j,A=r.constructor,k=r.s==i.s?1:-1,T=r.d,P=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(hn+"Division by zero");for(l=r.e-i.e,O=P.length,v=T.length,p=new A(k),y=p.d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--l,a==null?g=a=A.precision:o?g=a+(Qe(r)-Qe(i))+1:g=a,g<0)return new A(0);if(g=g/Ie+2|0,u=0,O==1)for(f=0,P=P[0],g++;(u<v||f)&&g--;u++)x=f*st+(T[u]||0),y[u]=x/P|0,f=x%P|0;else{for(f=st/(P[0]+1)|0,f>1&&(P=e(P,f),T=e(T,f),O=P.length,v=T.length),_=O,m=T.slice(0,O),b=m.length;b<O;)m[b++]=0;j=P.slice(),j.unshift(0),S=P[0],P[1]>=st/2&&++S;do f=0,s=t(P,m,O,b),s<0?(w=m[0],O!=b&&(w=w*st+(m[1]||0)),f=w/S|0,f>1?(f>=st&&(f=st-1),c=e(P,f),d=c.length,b=m.length,s=t(c,m,d,b),s==1&&(f--,n(c,O<d?j:P,d))):(f==0&&(s=f=1),c=P.slice()),d=c.length,d<b&&c.unshift(0),n(m,c,b),s==-1&&(b=m.length,s=t(P,m,O,b),s<1&&(f++,n(m,O<b?j:P,b))),b=m.length):s===0&&(f++,m=[0]),y[u++]=f,s&&m[0]?m[b++]=T[_]||0:(m=[T[_]],b=1);while((_++<v||m[0]!==void 0)&&g--)}return y[0]||y.shift(),p.e=l,je(p,o?a+Qe(p)+1:a)}}();function EP(e,t){var n,r,i,a,o,s,l=0,u=0,f=e.constructor,c=f.precision;if(Qe(e)>16)throw Error(Yv+Qe(e));if(!e.s)return new f(Wt);for(De=!1,s=c,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(fi(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Wt),f.precision=s;;){if(i=je(i.times(e),s),n=n.times(++l),o=a.plus(cr(i,n,s)),Fn(o.d).slice(0,s)===Fn(a.d).slice(0,s)){for(;u--;)a=je(a.times(a),s);return f.precision=c,t==null?(De=!0,je(a,c)):a}a=o}}function Qe(e){for(var t=e.e*Ie,n=e.d[0];n>=10;n/=10)t++;return t}function Jp(e,t,n){if(t>e.LN10.sd())throw De=!0,n&&(e.precision=n),Error(hn+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function kr(e){for(var t="";e--;)t+="0";return t}function il(e,t){var n,r,i,a,o,s,l,u,f,c=1,d=10,p=e,y=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(hn+(p.s?"NaN":"-Infinity"));if(p.eq(Wt))return new m(0);if(t==null?(De=!1,u=b):u=t,p.eq(10))return t==null&&(De=!0),Jp(m,u);if(u+=d,m.precision=u,n=Fn(y),r=n.charAt(0),a=Qe(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Fn(p.d),r=n.charAt(0),c++;a=Qe(p),r>1?(p=new m("0."+n),a++):p=new m(r+"."+n.slice(1))}else return l=Jp(m,u+2,b).times(a+""),p=il(new m(r+"."+n.slice(1)),u-d).plus(l),m.precision=b,t==null?(De=!0,je(p,b)):p;for(s=o=p=cr(p.minus(Wt),p.plus(Wt),u),f=je(p.times(p),u),i=3;;){if(o=je(o.times(f),u),l=s.plus(cr(o,new m(i),u)),Fn(l.d).slice(0,u)===Fn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Jp(m,u+2,b).times(a+""))),s=cr(s,new m(c),u),m.precision=b,t==null?(De=!0,je(s,b)):s;s=l,i+=2}}function Gx(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Eo(n/Ie),e.d=[],r=(n+1)%Ie,n<0&&(r+=Ie),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ie;r<i;)e.d.push(+t.slice(r,r+=Ie));t=t.slice(r),r=Ie-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),De&&(e.e>uf||e.e<-uf))throw Error(Yv+n)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,n){var r,i,a,o,s,l,u,f,c=e.d;for(o=1,a=c[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Ie,i=t,u=c[f=0];else{if(f=Math.ceil((r+1)/Ie),a=c.length,f>=a)return e;for(u=a=c[f],o=1;a>=10;a/=10)o++;r%=Ie,i=r-Ie+o}if(n!==void 0&&(a=fi(10,o-i-1),s=u/a%10|0,l=t<0||c[f+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/fi(10,o-i):0:c[f-1])%10&1||n==(e.s<0?8:7))),t<1||!c[0])return l?(a=Qe(e),c.length=1,t=t-a-1,c[0]=fi(10,(Ie-t%Ie)%Ie),e.e=Eo(-t/Ie)||0):(c.length=1,c[0]=e.e=e.s=0),e;if(r==0?(c.length=f,a=1,f--):(c.length=f+1,a=fi(10,Ie-r),c[f]=i>0?(u/fi(10,o-i)%fi(10,i)|0)*a:0),l)for(;;)if(f==0){(c[0]+=a)==st&&(c[0]=1,++e.e);break}else{if(c[f]+=a,c[f]!=st)break;c[f--]=0,a=1}for(r=c.length;c[--r]===0;)c.pop();if(De&&(e.e>uf||e.e<-uf))throw Error(Yv+Qe(e));return e}function TP(e,t){var n,r,i,a,o,s,l,u,f,c,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),De?je(t,p):t;if(l=e.d,c=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(p/Ie),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}o=0}for(f&&(n=l,l=c,c=n,t.s=-t.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(a=i;a&&l[--a]===0;)l[a]=st-1;--l[a],l[i]+=st}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,De?je(t,p):t):new d(0)}function Li(e,t,n){var r,i=Qe(e),a=Fn(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+kr(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+kr(-i-1)+a,n&&(r=n-o)>0&&(a+=kr(r))):i>=o?(a+=kr(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+kr(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=kr(r))),e.s<0?"-"+a:a}function Yx(e,t){if(e.length>t)return e.length=t,!0}function NP(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Pi+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Gx(o,a.toString())}else if(typeof a!="string")throw Error(Pi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,$V.test(a))Gx(o,a);else throw Error(Pi+a)}if(i.prototype=J,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=NP,i.config=i.set=EV,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function EV(e){if(!e||typeof e!="object")throw Error(hn+"Object expected");var t,n,r,i=["precision",1,$o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Eo(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Pi+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pi+n+": "+r);return this}var Xv=NP(kV);Wt=new Xv(1);const Oe=Xv;function TV(e){return MV(e)||IV(e)||CV(e)||NV()}function NV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CV(e,t){if(e){if(typeof e=="string")return tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(e,t)}}function IV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function MV(e){if(Array.isArray(e))return tg(e)}function tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LV=function(t){return t},CP={},IP=function(t){return t===CP},Xx=function(t){return function n(){return arguments.length===0||arguments.length===1&&IP(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},DV=function e(t,n){return t===1?n:Xx(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==CP}).length;return o>=t?n.apply(void 0,i):e(t-o,Xx(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(c){return IP(c)?l.shift():c});return n.apply(void 0,TV(f).concat(l))}))})},Md=function(t){return DV(t.length,t)},ng=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},RV=Md(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),BV=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return LV;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},rg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},MP=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=t.apply(void 0,a)),r}};function FV(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function zV(e,t,n){for(var r=new Oe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var UV=Md(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),KV=Md(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),VV=Md(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Ld={rangeStep:zV,getDigitCount:FV,interpolateNumber:UV,uninterpolateNumber:KV,uninterpolateTruncation:VV};function ig(e){return HV(e)||WV(e)||LP(e)||qV()}function qV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HV(e){if(Array.isArray(e))return ag(e)}function al(e,t){return XV(e)||YV(e,t)||LP(e,t)||GV()}function GV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LP(e,t){if(e){if(typeof e=="string")return ag(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ag(e,t)}}function ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YV(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function XV(e){if(Array.isArray(e))return e}function DP(e){var t=al(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function RP(e,t,n){if(e.lte(0))return new Oe(0);var r=Ld.getDigitCount(e.toNumber()),i=new Oe(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Oe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?l:new Oe(Math.ceil(l))}function QV(e,t,n){var r=1,i=new Oe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Oe(10).pow(Ld.getDigitCount(e)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Oe(Math.floor(e)))}else e===0?i=new Oe(Math.floor((t-1)/2)):n||(i=new Oe(Math.floor(e)));var o=Math.floor((t-1)/2),s=BV(RV(function(l){return i.add(new Oe(l-o).mul(r)).toNumber()}),ng);return s(0,t)}function BP(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var a=RP(new Oe(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new Oe(0):(o=new Oe(e).add(t).div(2),o=o.sub(new Oe(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Oe(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?BP(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Oe(s).mul(a)),tickMax:o.add(new Oe(l).mul(a))})}function JV(e){var t=al(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=DP([n,r]),l=al(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(ig(ng(0,i-1).map(function(){return 1/0}))):[].concat(ig(ng(0,i-1).map(function(){return-1/0})),[f]);return n>r?rg(c):c}if(u===f)return QV(u,i,a);var d=BP(u,f,o,a),p=d.step,y=d.tickMin,m=d.tickMax,b=Ld.rangeStep(y,m.add(new Oe(.1).mul(p)),p);return n>r?rg(b):b}function ZV(e,t){var n=al(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=DP([r,i]),s=al(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(t,2),c=RP(new Oe(u).sub(l).div(f-1),a,0),d=[].concat(ig(Ld.rangeStep(new Oe(l),new Oe(u).sub(new Oe(.99).mul(c)),c)),[u]);return r>i?rg(d):d}var eq=MP(JV),tq=MP(ZV),nq="Invariant failed";function Di(e,t){throw new Error(nq)}var rq=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}function iq(e,t){return lq(e)||sq(e,t)||oq(e,t)||aq()}function aq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oq(e,t){if(e){if(typeof e=="string")return Qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(e,t)}}function Qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function lq(e){if(Array.isArray(e))return e}function uq(e,t){if(e==null)return{};var n=cq(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cq(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UP(r.key),r)}}function pq(e,t,n){return t&&dq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hq(e,t,n){return t=ff(t),mq(e,FP()?Reflect.construct(t,n||[],ff(e).constructor):t.apply(e,n))}function mq(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gq(e)}function gq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(e)}function yq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},og(e,t)}function zP(e,t,n){return t=UP(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UP(e){var t=vq(e,"string");return eo(t)=="symbol"?t:t+""}function vq(e,t){if(eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wl=function(e){function t(){return fq(this,t),hq(this,t,arguments)}return yq(t,e),pq(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,c=r.yAxis,d=uq(r,rq),p=de(d,!1);this.props.direction==="x"&&f.type!=="number"&&Di();var y=l.map(function(m){var b=u(m,s),w=b.x,g=b.y,x=b.value,_=b.errorVal;if(!_)return null;var v=[],S,O;if(Array.isArray(_)){var j=iq(_,2);S=j[0],O=j[1]}else S=O=_;if(a==="vertical"){var A=f.scale,k=g+i,T=k+o,P=k-o,E=A(x-S),N=A(x+O);v.push({x1:N,y1:T,x2:N,y2:P}),v.push({x1:E,y1:k,x2:N,y2:k}),v.push({x1:E,y1:T,x2:E,y2:P})}else if(a==="horizontal"){var I=c.scale,M=w+i,L=M-o,C=M+o,D=I(x-S),B=I(x+O);v.push({x1:L,y1:B,x2:C,y2:B}),v.push({x1:M,y1:D,x2:M,y2:B}),v.push({x1:L,y1:D,x2:C,y2:D})}return R.createElement(He,cf({className:"recharts-errorBar",key:"bar-".concat(v.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),v.map(function(K){return R.createElement("line",cf({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return R.createElement(He,{className:"recharts-errorBars"},y)}}])}(R.Component);zP(Wl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});zP(Wl,"displayName","ErrorBar");function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(n),!0).forEach(function(r){bq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bq(e,t,n){return t=wq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wq(e){var t=xq(e,"string");return ol(t)=="symbol"?t:t+""}function xq(e,t){if(ol(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KP=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=qt(n,ji);if(!o)return null;var s=ji.defaultProps,l=s!==void 0?ai(ai({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,c){var d=c.item,p=c.props,y=p.sectors||p.data||[];return f.concat(y.map(function(m){return{type:o.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(f){var c=f.item,d=c.type.defaultProps,p=d!==void 0?ai(ai({},d),c.props):{},y=p.dataKey,m=p.name,b=p.legendType,w=p.hide;return{inactive:w,dataKey:y,type:l.iconType||b||"square",color:Qv(c),value:m||y,payload:p}}),ai(ai(ai({},l),ji.getWithHeight(o,i)),{},{payload:u,item:o})};function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Zx(e){return jq(e)||Oq(e)||_q(e)||Sq()}function Sq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,t){if(e){if(typeof e=="string")return sg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sg(e,t)}}function Oq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jq(e){if(Array.isArray(e))return sg(e)}function sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){Ma(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ma(e,t,n){return t=Aq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aq(e){var t=Pq(e,"string");return sl(t)=="symbol"?t:t+""}function Pq(e,t){if(sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e,t,n){return ce(e)||ce(t)?n:it(t)?un(e,t,n):le(t)?t(e):n}function _s(e,t,n,r){var i=OV(e,function(s){return Qt(s,t)});if(n==="number"){var a=i.filter(function(s){return H(s)||parseFloat(s)});return a.length?[Cd(a),Nd(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!ce(s)}):i;return o.map(function(s){return it(s)||s instanceof Date?s:""})}var kq=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(En(c-f)!==En(d-c)){var y=[];if(En(d-c)===En(l[1]-l[0])){p=d;var m=c+l[1]-l[0];y[0]=Math.min(m,(m+f)/2),y[1]=Math.max(m,(m+f)/2)}else{p=f;var b=d+l[1]-l[0];y[0]=Math.min(c,(b+c)/2),y[1]=Math.max(c,(b+c)/2)}var w=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){o=i[u].index;break}}else{var g=Math.min(f,d),x=Math.max(f,d);if(t>(g+c)/2&&t<=(x+c)/2){o=i[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},Qv=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?qe(qe({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},$q=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,c=Object.keys(f),d=0,p=c.length;d<p;d++){var y=f[c[d]],m=y.items,b=y.cateAxisId,w=m.filter(function(O){return lr(O.type).indexOf("Bar")>=0});if(w&&w.length){var g=w[0].type.defaultProps,x=g!==void 0?qe(qe({},g),w[0].props):w[0].props,_=x.barSize,v=x[b];o[v]||(o[v]=[]);var S=ce(_)?n:_;o[v].push({item:w[0],stackList:w.slice(1),barSize:ce(S)?void 0:Mi(S,r,0)})}}return o},Eq=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=Mi(n,i,0,!0),f,c=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=i/l,y=o.reduce(function(_,v){return _+v.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&p>0&&(d=!0,p*=.9,y=l*p);var m=(i-y)/2>>0,b={offset:m-u,size:0};f=o.reduce(function(_,v){var S={item:v.item,position:{offset:b.offset+b.size+u,size:d?p:v.barSize}},O=[].concat(Zx(_),[S]);return b=O[O.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(j){O.push({item:j,position:b})}),O},c)}else{var w=Mi(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var g=(i-2*w-(l-1)*u)/l;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;f=o.reduce(function(_,v,S){var O=[].concat(Zx(_),[{item:v.item,position:{offset:w+(g+u)*S+(g-x)/2,size:x}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(j){O.push({item:j,position:O[O.length-1].position})}),O},c)}return f},Tq=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=KP({children:a,legendWidth:l});if(u){var f=i||{},c=f.width,d=f.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&H(t[p]))return qe(qe({},t),{},Ma({},p,t[p]+(c||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&H(t[y]))return qe(qe({},t),{},Ma({},y,t[y]+(d||0)))}return t},Nq=function(t,n,r){return ce(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},VP=function(t,n,r,i,a){var o=n.props.children,s=cn(o,Wl).filter(function(u){return Nq(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var c=Qt(f,r);if(ce(c))return u;var d=Array.isArray(c)?[Cd(c),Nd(c)]:[c,c],p=l.reduce(function(y,m){var b=Qt(f,m,0),w=d[0]-Math.abs(Array.isArray(b)?b[0]:b),g=d[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,y[0]),Math.max(g,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Cq=function(t,n,r,i,a){var o=n.map(function(s){return VP(t,s,r,a,i)}).filter(function(s){return!ce(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},qP=function(t,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&VP(t,l,u,i)||_s(t,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},WP=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},HP=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},ar=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?En(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(c){var d=a?a.indexOf(c):c;return{coordinate:i(d)+u,value:c,offset:u}});return f.filter(function(c){return!Bl(c.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(c,d){return{coordinate:i(c)+u,value:c,index:d,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,d){return{coordinate:i(c)+u,value:a?a[c]:c,index:d,offset:u}})},Zp=new WeakMap,Au=function(t,n){if(typeof n!="function")return t;Zp.has(t)||Zp.set(t,new WeakMap);var r=Zp.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Iq=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Zs(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:af(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ss(),realScaleType:"point"}:a==="category"?{scale:Zs(),realScaleType:"band"}:{scale:af(),realScaleType:"linear"};if(Ii(i)){var l="scale".concat(bd(i));return{scale:(Hx[l]||Ss)(),realScaleType:Hx[l]?l:"point"}}return le(i)?{scale:i}:{scale:Ss(),realScaleType:"point"}},t1=1e-4,Mq=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-t1,o=Math.max(i[0],i[1])+t1,s=t(n[0]),l=t(n[r-1]);(s<a||s>o||l<a||l>o)&&t.domain([n[0],n[r-1]])}},Lq=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Dq=function(t,n){if(!n||n.length!==2||!H(n[0])||!H(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!H(t[0])||t[0]<r)&&(a[0]=r),(!H(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Rq=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Bl(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},Bq=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Bl(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Fq={sign:Rq,expand:tD,none:Wa,silhouette:nD,wiggle:rD,positive:Bq},zq=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Fq[r],o=eD().keys(i).value(function(s,l){return+Qt(s,l,0)}).order(Nm).offset(a);return o(t)},Uq=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(c,d){var p,y=(p=d.type)!==null&&p!==void 0&&p.defaultProps?qe(qe({},d.type.defaultProps),d.props):d.props,m=y.stackId,b=y.hide;if(b)return c;var w=y[r],g=c[w]||{hasStack:!1,stackGroups:{}};if(it(m)){var x=g.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),g.hasStack=!0,g.stackGroups[m]=x}else g.stackGroups[Fl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return qe(qe({},c),{},Ma({},w,g))},l),f={};return Object.keys(u).reduce(function(c,d){var p=u[d];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var w=p.stackGroups[b];return qe(qe({},m),{},Ma({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:zq(t,w.items,a)}))},y)}return qe(qe({},c),{},Ma({},d,p))},f)},Kq=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=eq(u,a,s);return t.domain([Cd(f),Nd(f)]),{niceTicks:f}}if(a&&i==="number"){var c=t.domain(),d=tq(c,a,s);return{niceTicks:d}}return null};function n1(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ce(i[t.dataKey])){var s=Mc(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Qt(i,ce(o)?t.dataKey:o);return ce(l)?null:t.scale(l)}var r1=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Qt(o,n.dataKey,n.domain[s]);return ce(l)?null:n.scale(l)-a/2+i},Vq=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},qq=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?qe(qe({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(it(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Wq=function(t){return t.reduce(function(n,r){return[Cd(r.concat([n[0]]).filter(H)),Nd(r.concat([n[1]]).filter(H))]},[1/0,-1/0])},GP=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(u,f){var c=Wq(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},i1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lg=function(t,n,r){if(le(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(H(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(i1.test(t[0])){var a=+i1.exec(t[0])[1];i[0]=n[0]-a}else le(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(H(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(a1.test(t[1])){var o=+a1.exec(t[1])[1];i[1]=n[1]+o}else le(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},df=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=jv(n,function(c){return c.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},o1=function(t,n,r){return!t||!t.length||Id(t,un(r,"type.defaultProps.domain"))?n:t},YP=function(t,n){var r=t.type.defaultProps?qe(qe({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return qe(qe({},de(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Qv(t),value:Qt(n,i),type:l,payload:n,chartType:u,hide:f})};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(r){Hq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hq(e,t,n){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gq(e){var t=Yq(e,"string");return ll(t)=="symbol"?t:t+""}function Yq(e,t){if(ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pf=Math.PI/180,Xq=function(t){return t*180/Math.PI},ht=function(t,n,r,i){return{x:t+Math.cos(-pf*i)*r,y:n+Math.sin(-pf*i)*r}},Qq=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Jq=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=Qq({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Xq(u),angleInRadian:u}},Zq=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},eW=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},u1=function(t,n){var r=t.x,i=t.y,a=Jq({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Zq(n),c=f.startAngle,d=f.endAngle,p=s,y;if(c<=d){for(;p>d;)p-=360;for(;p<c;)p+=360;y=p>=c&&p<=d}else{for(;p>c;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=c}return y?l1(l1({},n),{},{radius:o,angle:eW(p,n)}):null};function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}var tW=["offset"];function nW(e){return oW(e)||aW(e)||iW(e)||rW()}function rW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ug(e,t)}}function aW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oW(e){if(Array.isArray(e))return ug(e)}function ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sW(e,t){if(e==null)return{};var n=lW(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){uW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uW(e,t,n){return t=cW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=fW(e,"string");return ul(t)=="symbol"?t:t+""}function fW(e,t){if(ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(this,arguments)}var dW=function(t){var n=t.value,r=t.formatter,i=ce(t.children)?n:t.children;return le(r)?r(i):i},pW=function(t,n){var r=En(n-t),i=Math.min(Math.abs(n-t),360);return r*i},hW=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,u=l.cx,f=l.cy,c=l.innerRadius,d=l.outerRadius,p=l.startAngle,y=l.endAngle,m=l.clockWise,b=(c+d)/2,w=pW(p,y),g=w>=0?1:-1,x,_;i==="insideStart"?(x=p+g*o,_=m):i==="insideEnd"?(x=y-g*o,_=!m):i==="end"&&(x=y+g*o,_=m),_=w<=0?_:!_;var v=ht(u,f,b,x),S=ht(u,f,b,x+(_?1:-1)*359),O="M".concat(v.x,",").concat(v.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),j=ce(t.id)?Fl("recharts-radial-line-"):t.id;return R.createElement("text",cl({},r,{dominantBaseline:"central",className:me("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:j,d:O})),R.createElement("textPath",{xlinkHref:"#".concat(j)},n))},mW=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,c=a.endAngle,d=(f+c)/2;if(i==="outside"){var p=ht(o,s,u+r,d),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=ht(o,s,b,d),g=w.x,x=w.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},gW=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,l=o.y,u=o.width,f=o.height,c=f>=0?1:-1,d=c*i,p=c>0?"end":"start",y=c>0?"start":"end",m=u>=0?1:-1,b=m*i,w=m>0?"end":"start",g=m>0?"start":"end";if(a==="top"){var x={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:p};return tt(tt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var _={x:s+u/2,y:l+f+d,textAnchor:"middle",verticalAnchor:y};return tt(tt({},_),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(a==="left"){var v={x:s-b,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return tt(tt({},v),r?{width:Math.max(v.x-r.x,0),height:f}:{})}if(a==="right"){var S={x:s+u+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return tt(tt({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:f}:{})}var O=r?{width:u,height:f}:{};return a==="insideLeft"?tt({x:s+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},O):a==="insideRight"?tt({x:s+u-b,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},O):a==="insideTop"?tt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:y},O):a==="insideBottom"?tt({x:s+u/2,y:l+f-d,textAnchor:"middle",verticalAnchor:p},O):a==="insideTopLeft"?tt({x:s+b,y:l+d,textAnchor:g,verticalAnchor:y},O):a==="insideTopRight"?tt({x:s+u-b,y:l+d,textAnchor:w,verticalAnchor:y},O):a==="insideBottomLeft"?tt({x:s+b,y:l+f-d,textAnchor:g,verticalAnchor:p},O):a==="insideBottomRight"?tt({x:s+u-b,y:l+f-d,textAnchor:w,verticalAnchor:p},O):wo(a)&&(H(a.x)||gi(a.x))&&(H(a.y)||gi(a.y))?tt({x:s+Mi(a.x,u),y:l+Mi(a.y,f),textAnchor:"end",verticalAnchor:"end"},O):tt({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},yW=function(t){return"cx"in t&&H(t.cx)};function _t(e){var t=e.offset,n=t===void 0?5:t,r=sW(e,tW),i=tt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,c=f===void 0?"":f,d=i.textBreakAll;if(!a||ce(s)&&ce(l)&&!$.isValidElement(u)&&!le(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(le(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=dW(i);var y=yW(a),m=de(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return hW(i,p,m);var b=y?mW(i):gW(i);return R.createElement(Qc,cl({className:me("recharts-label",c)},m,b,{breakAll:d}),p)}_t.displayName="Label";var XP=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,f=t.outerRadius,c=t.x,d=t.y,p=t.top,y=t.left,m=t.width,b=t.height,w=t.clockWise,g=t.labelViewBox;if(g)return g;if(H(m)&&H(b)){if(H(c)&&H(d))return{x:c,y:d,width:m,height:b};if(H(p)&&H(y))return{x:p,y,width:m,height:b}}return H(c)&&H(d)?{x:c,y:d,width:0,height:0}:H(n)&&H(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:w}:t.viewBox?t.viewBox:{}},vW=function(t,n){return t?t===!0?R.createElement(_t,{key:"label-implicit",viewBox:n}):it(t)?R.createElement(_t,{key:"label-implicit",viewBox:n,value:t}):$.isValidElement(t)?t.type===_t?$.cloneElement(t,{key:"label-implicit",viewBox:n}):R.createElement(_t,{key:"label-implicit",content:t,viewBox:n}):le(t)?R.createElement(_t,{key:"label-implicit",content:t,viewBox:n}):wo(t)?R.createElement(_t,cl({viewBox:n},t,{key:"label-implicit"})):null:null},bW=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=XP(t),o=cn(i,_t).map(function(l,u){return $.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=vW(t.label,n||a);return[s].concat(nW(o))};_t.parseViewBox=XP;_t.renderCallByParent=bW;function wW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xW=wW;const SW=Pe(xW);function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}var _W=["valueAccessor"],OW=["data","dataKey","clockWise","id","textBreakAll"];function jW(e){return $W(e)||kW(e)||PW(e)||AW()}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PW(e,t){if(e){if(typeof e=="string")return cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cg(e,t)}}function kW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $W(e){if(Array.isArray(e))return cg(e)}function cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(this,arguments)}function f1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(n),!0).forEach(function(r){EW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EW(e,t,n){return t=TW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){var t=NW(e,"string");return fl(t)=="symbol"?t:t+""}function NW(e,t){if(fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p1(e,t){if(e==null)return{};var n=CW(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var IW=function(t){return Array.isArray(t.value)?SW(t.value):t.value};function qr(e){var t=e.valueAccessor,n=t===void 0?IW:t,r=p1(e,_W),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=p1(r,OW);return!i||!i.length?null:R.createElement(He,{className:"recharts-label-list"},i.map(function(f,c){var d=ce(a)?n(f,c):Qt(f&&f.payload,a),p=ce(s)?{}:{id:"".concat(s,"-").concat(c)};return R.createElement(_t,hf({},de(f,!0),u,p,{parentViewBox:f.parentViewBox,value:d,textBreakAll:l,viewBox:_t.parseViewBox(ce(o)?f:d1(d1({},f),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}qr.displayName="LabelList";function MW(e,t){return e?e===!0?R.createElement(qr,{key:"labelList-implicit",data:t}):R.isValidElement(e)||le(e)?R.createElement(qr,{key:"labelList-implicit",data:t,content:e}):wo(e)?R.createElement(qr,hf({data:t},e,{key:"labelList-implicit"})):null:null}function LW(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=cn(r,qr).map(function(o,s){return $.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=MW(e.label,t);return[a].concat(jW(i))}qr.renderCallByParent=LW;function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(this,arguments)}function h1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(n),!0).forEach(function(r){DW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DW(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=BW(e,"string");return dl(t)=="symbol"?t:t+""}function BW(e,t){if(dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FW=function(t,n){var r=En(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Pu=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,f=l*(s?1:-1)+i,c=Math.asin(l/f)/pf,d=u?a:a+o*c,p=ht(n,r,f,d),y=ht(n,r,i,d),m=u?a-o*c:a,b=ht(n,r,f*Math.cos(c*pf),m);return{center:p,circleTangency:y,lineTangency:b,theta:c}},QP=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=FW(o,s),u=o+l,f=ht(n,r,a,o),c=ht(n,r,a,u),d="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var p=ht(n,r,i,o),y=ht(n,r,i,u);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},zW=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,c=En(f-u),d=Pu({cx:n,cy:r,radius:a,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),p=d.circleTangency,y=d.lineTangency,m=d.theta,b=Pu({cx:n,cy:r,radius:a,angle:f,sign:-c,cornerRadius:o,cornerIsExternal:l}),w=b.circleTangency,g=b.lineTangency,x=b.theta,_=l?Math.abs(u-f):Math.abs(u-f)-m-x;if(_<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QP({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var v="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
  `);if(i>0){var S=Pu({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=S.circleTangency,j=S.lineTangency,A=S.theta,k=Pu({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=k.circleTangency,P=k.lineTangency,E=k.theta,N=l?Math.abs(u-f):Math.abs(u-f)-A-E;if(N<0&&o===0)return"".concat(v,"L").concat(n,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(c>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(n,",").concat(r,"Z");return v},UW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JP=function(t){var n=m1(m1({},UW),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,c=n.endAngle,d=n.className;if(o<a||f===c)return null;var p=me("recharts-sector",d),y=o-a,m=Mi(s,y,0,!0),b;return m>0&&Math.abs(f-c)<360?b=zW({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):b=QP({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:c}),R.createElement("path",fg({},de(n,!0),{className:p,d:b,role:"img"}))};function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(this,arguments)}function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){KW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KW(e,t,n){return t=VW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=qW(e,"string");return pl(t)=="symbol"?t:t+""}function qW(e,t){if(pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v1={curveBasisClosed:KL,curveBasisOpen:VL,curveBasis:UL,curveBumpX:kL,curveBumpY:$L,curveLinearClosed:qL,curveLinear:xd,curveMonotoneX:WL,curveMonotoneY:HL,curveNatural:GL,curveStep:YL,curveStepAfter:QL,curveStepBefore:XL},ku=function(t){return t.x===+t.x&&t.y===+t.y},es=function(t){return t.x},ts=function(t){return t.y},WW=function(t,n){if(le(t))return t;var r="curve".concat(bd(t));return(r==="curveMonotone"||r==="curveBump")&&n?v1["".concat(r).concat(n==="vertical"?"Y":"X")]:v1[r]||xd},HW=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,f=WW(r,s),c=u?a.filter(function(m){return ku(m)}):a,d;if(Array.isArray(o)){var p=u?o.filter(function(m){return ku(m)}):o,y=c.map(function(m,b){return y1(y1({},m),{},{base:p[b]})});return s==="vertical"?d=vu().y(ts).x1(es).x0(function(m){return m.base.x}):d=vu().x(es).y1(ts).y0(function(m){return m.base.y}),d.defined(ku).curve(f),d(y)}return s==="vertical"&&H(o)?d=vu().y(ts).x1(es).x0(o):H(o)?d=vu().x(es).y1(ts).y0(o):d=Qj().x(es).y(ts),d.defined(ku).curve(f),d(c)},pg=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?HW(t):i;return $.createElement("path",dg({},de(t,!1),Lc(t),{className:me("recharts-curve",n),d:o,ref:a}))},ZP={exports:{}},GW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YW=GW,XW=YW;function ek(){}function tk(){}tk.resetWarningCache=ek;var QW=function(){function e(r,i,a,o,s,l){if(l!==XW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tk,resetWarningCache:ek};return n.PropTypes=n,n};ZP.exports=QW();var JW=ZP.exports;const ye=Pe(JW);var ZW=Object.getOwnPropertyNames,eH=Object.getOwnPropertySymbols,tH=Object.prototype.hasOwnProperty;function b1(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function $u(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=e(n,r,i);return a.delete(n),a.delete(r),l}}function nH(e){return e!=null?e[Symbol.toStringTag]:void 0}function w1(e){return ZW(e).concat(eH(e))}var rH=Object.hasOwn||function(e,t){return tH.call(e,t)};function Wi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var iH="__v",aH="__o",oH="_owner",x1=Object.getOwnPropertyDescriptor,S1=Object.keys;function sH(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function lH(e,t){return Wi(e.getTime(),t.getTime())}function uH(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cH(e,t){return e===t}function _1(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=t.entries(),f=!1,c=0;(s=u.next())&&!s.done;){if(i[c]){c++;continue}var d=o.value,p=s.value;if(n.equals(d[0],p[0],l,c,e,t,n)&&n.equals(d[1],p[1],d[0],p[0],e,t,n)){f=i[c]=!0;break}c++}if(!f)return!1;l++}return!0}var fH=Wi;function dH(e,t,n){var r=S1(e),i=r.length;if(S1(t).length!==i)return!1;for(;i-- >0;)if(!nk(e,t,n,r[i]))return!1;return!0}function ns(e,t,n){var r=w1(e),i=r.length;if(w1(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!nk(e,t,n,a)||(o=x1(e,a),s=x1(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function pH(e,t){return Wi(e.valueOf(),t.valueOf())}function hH(e,t){return e.source===t.source&&e.flags===t.flags}function O1(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function mH(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function gH(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nk(e,t,n,r){return(r===oH||r===aH||r===iH)&&(e.$$typeof||t.$$typeof)?!0:rH(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var yH="[object Arguments]",vH="[object Boolean]",bH="[object Date]",wH="[object Error]",xH="[object Map]",SH="[object Number]",_H="[object Object]",OH="[object RegExp]",jH="[object Set]",AH="[object String]",PH="[object URL]",kH=Array.isArray,j1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,A1=Object.assign,$H=Object.prototype.toString.call.bind(Object.prototype.toString);function EH(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,c=e.areTypedArraysEqual,d=e.areUrlsEqual,p=e.unknownTagComparators;return function(m,b,w){if(m===b)return!0;if(m==null||b==null)return!1;var g=typeof m;if(g!==typeof b)return!1;if(g!=="object")return g==="number"?o(m,b,w):g==="function"?i(m,b,w):!1;var x=m.constructor;if(x!==b.constructor)return!1;if(x===Object)return s(m,b,w);if(kH(m))return t(m,b,w);if(j1!=null&&j1(m))return c(m,b,w);if(x===Date)return n(m,b,w);if(x===RegExp)return u(m,b,w);if(x===Map)return a(m,b,w);if(x===Set)return f(m,b,w);var _=$H(m);if(_===bH)return n(m,b,w);if(_===OH)return u(m,b,w);if(_===xH)return a(m,b,w);if(_===jH)return f(m,b,w);if(_===_H)return typeof m.then!="function"&&typeof b.then!="function"&&s(m,b,w);if(_===PH)return d(m,b,w);if(_===wH)return r(m,b,w);if(_===yH)return s(m,b,w);if(_===vH||_===SH||_===AH)return l(m,b,w);if(p){var v=p[_];if(!v){var S=nH(m);S&&(v=p[S])}if(v)return v(m,b,w)}return!1}}function TH(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?ns:sH,areDatesEqual:lH,areErrorsEqual:uH,areFunctionsEqual:cH,areMapsEqual:r?b1(_1,ns):_1,areNumbersEqual:fH,areObjectsEqual:r?ns:dH,arePrimitiveWrappersEqual:pH,areRegExpsEqual:hH,areSetsEqual:r?b1(O1,ns):O1,areTypedArraysEqual:r?ns:mH,areUrlsEqual:gH,unknownTagComparators:void 0};if(n&&(i=A1({},i,n(i))),t){var a=$u(i.areArraysEqual),o=$u(i.areMapsEqual),s=$u(i.areObjectsEqual),l=$u(i.areSetsEqual);i=A1({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function NH(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function CH(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(l,u){var f=r(),c=f.cache,d=c===void 0?t?new WeakMap:void 0:c,p=f.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:a})};if(t)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var IH=ri();ri({strict:!0});ri({circular:!0});ri({circular:!0,strict:!0});ri({createInternalComparator:function(){return Wi}});ri({strict:!0,createInternalComparator:function(){return Wi}});ri({circular:!0,createInternalComparator:function(){return Wi}});ri({circular:!0,createInternalComparator:function(){return Wi},strict:!0});function ri(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=TH(e),l=EH(s),u=r?r(l):NH(l);return CH({circular:n,comparator:l,createState:i,equals:u,strict:o})}function MH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function P1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):MH(i)};requestAnimationFrame(r)}function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function LH(e){return FH(e)||BH(e)||RH(e)||DH()}function DH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){if(e){if(typeof e=="string")return k1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k1(e,t)}}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FH(e){if(Array.isArray(e))return e}function zH(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=LH(o),l=s[0],u=s.slice(1);if(typeof l=="number"){P1(i.bind(null,u),l);return}i(l),P1(i.bind(null,u));return}hg(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){rk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rk(e,t,n){return t=UH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UH(e){var t=KH(e,"string");return hl(t)==="symbol"?t:String(t)}function KH(e,t){if(hl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VH=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},qH=function(t){return t},WH=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Os=function(t,n){return Object.keys(n).reduce(function(r,i){return E1(E1({},r),{},rk({},i,t(i,n[i])))},{})},T1=function(t,n,r){return t.map(function(i){return"".concat(WH(i)," ").concat(n,"ms ").concat(r)}).join(",")};function HH(e,t){return XH(e)||YH(e,t)||ik(e,t)||GH()}function GH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function XH(e){if(Array.isArray(e))return e}function QH(e){return e9(e)||ZH(e)||ik(e)||JH()}function JH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ik(e,t){if(e){if(typeof e=="string")return mg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mg(e,t)}}function ZH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e9(e){if(Array.isArray(e))return mg(e)}function mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mf=1e-4,ak=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},ok=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},N1=function(t,n){return function(r){var i=ak(t,n);return ok(i,r)}},t9=function(t,n){return function(r){var i=ak(t,n),a=[].concat(QH(i.map(function(o,s){return o*s}).slice(1)),[0]);return ok(a,r)}},C1=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=HH(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var c=N1(i,o),d=N1(a,s),p=t9(i,o),y=function(w){return w>1?1:w<0?0:w},m=function(w){for(var g=w>1?1:w,x=g,_=0;_<8;++_){var v=c(x)-g,S=p(x);if(Math.abs(v-g)<mf||S<mf)return d(x);x=y(x-v/S)}return d(x)};return m.isStepper=!1,m},n9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(f,c,d){var p=-(f-c)*r,y=d*a,m=d+(p-y)*s/1e3,b=d*s/1e3+f;return Math.abs(b-c)<mf&&Math.abs(m)<mf?[c,0]:[b,m]};return l.isStepper=!0,l.dt=s,l},r9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return C1(i);case"spring":return n9();default:if(i.split("(")[0]==="cubic-bezier")return C1(i)}return typeof i=="function"?i:null};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function I1(e){return o9(e)||a9(e)||sk(e)||i9()}function i9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o9(e){if(Array.isArray(e))return yg(e)}function M1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(n),!0).forEach(function(r){gg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gg(e,t,n){return t=s9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9(e){var t=l9(e,"string");return ml(t)==="symbol"?t:String(t)}function l9(e,t){if(ml(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ml(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u9(e,t){return d9(e)||f9(e,t)||sk(e,t)||c9()}function c9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sk(e,t){if(e){if(typeof e=="string")return yg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yg(e,t)}}function yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function d9(e){if(Array.isArray(e))return e}var gf=function(t,n,r){return t+(n-t)*r},vg=function(t){var n=t.from,r=t.to;return n!==r},p9=function e(t,n,r){var i=Os(function(a,o){if(vg(o)){var s=t(o.from,o.to,o.velocity),l=u9(s,2),u=l[0],f=l[1];return ft(ft({},o),{},{from:u,velocity:f})}return o},n);return r<1?Os(function(a,o){return vg(o)?ft(ft({},o),{},{velocity:gf(o.velocity,i[a].velocity,r),from:gf(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const h9=function(e,t,n,r,i){var a=VH(e,t),o=a.reduce(function(b,w){return ft(ft({},b),{},gg({},w,[e[w],t[w]]))},{}),s=a.reduce(function(b,w){return ft(ft({},b),{},gg({},w,{from:e[w],velocity:0,to:t[w]}))},{}),l=-1,u,f,c=function(){return null},d=function(){return Os(function(w,g){return g.from},s)},p=function(){return!Object.values(s).filter(vg).length},y=function(w){u||(u=w);var g=w-u,x=g/n.dt;s=p9(n,s,x),i(ft(ft(ft({},e),t),d())),u=w,p()||(l=requestAnimationFrame(c))},m=function(w){f||(f=w);var g=(w-f)/r,x=Os(function(v,S){return gf.apply(void 0,I1(S).concat([n(g)]))},o);if(i(ft(ft(ft({},e),t),x)),g<1)l=requestAnimationFrame(c);else{var _=Os(function(v,S){return gf.apply(void 0,I1(S).concat([n(1)]))},o);i(ft(ft(ft({},e),t),_))}};return c=n.isStepper?y:m,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}var m9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function g9(e,t){if(e==null)return{};var n=y9(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function eh(e){return x9(e)||w9(e)||b9(e)||v9()}function v9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b9(e,t){if(e){if(typeof e=="string")return bg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bg(e,t)}}function w9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x9(e){if(Array.isArray(e))return bg(e)}function bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cs(e,t,n){return t=lk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lk(r.key),r)}}function O9(e,t,n){return t&&_9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lk(e){var t=j9(e,"string");return to(t)==="symbol"?t:String(t)}function j9(e,t){if(to(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wg(e,t)}function P9(e){var t=k9();return function(){var r=yf(e),i;if(t){var a=yf(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return xg(this,i)}}function xg(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sg(e)}function Sg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yf(e)}var br=function(e){A9(n,e);var t=P9(n);function n(r,i){var a;S9(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,c=o.steps,d=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Sg(a)),a.changeStyle=a.changeStyle.bind(Sg(a)),!s||p<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:f}),xg(a);if(c&&c.length)a.state={style:c[0].style};else if(u){if(typeof d=="function")return a.state={style:u},xg(a);a.state={style:l?cs({},l,u):u}}else a.state={style:{}};return a}return O9(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,c=a.from,d=this.state.style;if(s){if(!o){var p={style:l?cs({},l,f):f};this.state&&d&&(l&&d[l]!==f||!l&&d!==f)&&this.setState(p);return}if(!(IH(i.to,f)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?c:i.to;if(this.state&&d){var b={style:l?cs({},l,m):m};(l&&d[l]!==m||!l&&d!==m)&&this.setState(b)}this.runAnimation(wn(wn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,d=i.onAnimationStart,p=h9(o,s,r9(u),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([d,f,y,l,c])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,c=u.duration,d=c===void 0?0:c,p=function(m,b,w){if(w===0)return m;var g=b.duration,x=b.easing,_=x===void 0?"ease":x,v=b.style,S=b.properties,O=b.onAnimationEnd,j=w>0?o[w-1]:b,A=S||Object.keys(v);if(typeof _=="function"||_==="spring")return[].concat(eh(m),[a.runJSAnimation.bind(a,{from:j.style,to:v,duration:g,easing:_}),g]);var k=T1(A,g,_),T=wn(wn(wn({},j.style),v),{},{transition:k});return[].concat(eh(m),[T,g,O]).filter(qH)};return this.manager.start([l].concat(eh(o.reduce(p,[f,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zH());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,d=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var m=s?cs({},s,l):l,b=T1(Object.keys(m),o,u);y.start([f,a,wn(wn({},m),{},{transition:b}),o,c])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=g9(i,m9),u=$.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var c=function(p){var y=p.props,m=y.style,b=m===void 0?{}:m,w=y.className,g=$.cloneElement(p,wn(wn({},l),{},{style:wn(wn({},b),f),className:w}));return g};return u===1?c($.Children.only(a)):R.createElement("div",null,$.Children.map(a,function(d){return c(d)}))}}]),n}($.PureComponent);br.displayName="Animate";br.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};br.propTypes={from:ye.oneOfType([ye.object,ye.string]),to:ye.oneOfType([ye.object,ye.string]),attributeName:ye.string,duration:ye.number,begin:ye.number,easing:ye.oneOfType([ye.string,ye.func]),steps:ye.arrayOf(ye.shape({duration:ye.number.isRequired,style:ye.object.isRequired,easing:ye.oneOfType([ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ye.func]),properties:ye.arrayOf("string"),onAnimationEnd:ye.func})),children:ye.oneOfType([ye.node,ye.func]),isActive:ye.bool,canBegin:ye.bool,onAnimationEnd:ye.func,shouldReAnimate:ye.bool,onAnimationStart:ye.func,onAnimationReStart:ye.func};function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(this,arguments)}function $9(e,t){return C9(e)||N9(e,t)||T9(e,t)||E9()}function E9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T9(e,t){if(e){if(typeof e=="string")return D1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function C9(e){if(Array.isArray(e))return e}function R1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(n),!0).forEach(function(r){I9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I9(e,t,n){return t=M9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M9(e){var t=L9(e,"string");return gl(t)=="symbol"?t:t+""}function L9(e,t){if(gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F1=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=a[d]>o?o:a[d];f="M".concat(t,",").concat(n+s*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(t+l*c[0],",").concat(n)),f+="L ".concat(t+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*c[1])),f+="L ".concat(t+r,",").concat(n+i-s*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(t+r-l*c[2],",").concat(n+i)),f+="L ".concat(t+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*c[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);f="M ".concat(t,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+l*y,",").concat(n,`
            L `).concat(t+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*y,`
            L `).concat(t+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+r-l*y,",").concat(n+i,`
            L `).concat(t+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*y," Z")}else f="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},D9=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),c=Math.min(o,o+l),d=Math.max(o,o+l);return r>=u&&r<=f&&i>=c&&i<=d}return!1},R9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jv=function(t){var n=B1(B1({},R9),t),r=$.useRef(),i=$.useState(-1),a=$9(i,2),o=a[0],s=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,f=n.width,c=n.height,d=n.radius,p=n.className,y=n.animationEasing,m=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||f===0||c===0)return null;var x=me("recharts-rectangle",p);return g?R.createElement(br,{canBegin:o>0,from:{width:f,height:c,x:l,y:u},to:{width:f,height:c,x:l,y:u},duration:m,animationEasing:y,isActive:g},function(_){var v=_.width,S=_.height,O=_.x,j=_.y;return R.createElement(br,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:w,easing:y},R.createElement("path",vf({},de(n,!0),{className:x,d:F1(O,j,v,S,d),ref:r})))}):R.createElement("path",vf({},de(n,!0),{className:x,d:F1(l,u,f,c,d)}))};function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_g.apply(this,arguments)}var Zv=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=me("recharts-dot",a);return n===+n&&r===+r&&i===+i?$.createElement("circle",_g({},de(t,!1),Lc(t),{className:o,cx:n,cy:r,r:i})):null};function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}var B9=["x","y","top","left","width","height","className"];function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(this,arguments)}function z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(n),!0).forEach(function(r){z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z9(e,t,n){return t=U9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U9(e){var t=K9(e,"string");return yl(t)=="symbol"?t:t+""}function K9(e,t){if(yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V9(e,t){if(e==null)return{};var n=q9(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var W9=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},H9=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,f=t.width,c=f===void 0?0:f,d=t.height,p=d===void 0?0:d,y=t.className,m=V9(t,B9),b=F9({x:r,y:a,top:s,left:u,width:c,height:p},m);return!H(r)||!H(a)||!H(c)||!H(p)||!H(s)||!H(u)?null:R.createElement("path",Og({},de(b,!0),{className:me("recharts-cross",y),d:W9(r,a,c,p,s,u)}))},G9=xA,Y9=G9(Object.getPrototypeOf,Object),X9=Y9,Q9=xr,J9=X9,Z9=Sr,e7="[object Object]",t7=Function.prototype,n7=Object.prototype,uk=t7.toString,r7=n7.hasOwnProperty,i7=uk.call(Object);function a7(e){if(!Z9(e)||Q9(e)!=e7)return!1;var t=J9(e);if(t===null)return!0;var n=r7.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&uk.call(n)==i7}var o7=a7;const s7=Pe(o7);var l7=xr,u7=Sr,c7="[object Boolean]";function f7(e){return e===!0||e===!1||u7(e)&&l7(e)==c7}var d7=f7;const p7=Pe(d7);function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bf.apply(this,arguments)}function h7(e,t){return v7(e)||y7(e,t)||g7(e,t)||m7()}function m7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(e,t){if(e){if(typeof e=="string")return U1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U1(e,t)}}function U1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function v7(e){if(Array.isArray(e))return e}function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return t=w7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=x7(e,"string");return vl(t)=="symbol"?t:t+""}function x7(e,t){if(vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q1=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},S7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_7=function(t){var n=V1(V1({},S7),t),r=$.useRef(),i=$.useState(-1),a=h7(i,2),o=a[0],s=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,c=n.lowerWidth,d=n.height,p=n.className,y=n.animationEasing,m=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||d!==+d||f===0&&c===0||d===0)return null;var g=me("recharts-trapezoid",p);return w?R.createElement(br,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:f,lowerWidth:c,height:d,x:l,y:u},duration:m,animationEasing:y,isActive:w},function(x){var _=x.upperWidth,v=x.lowerWidth,S=x.height,O=x.x,j=x.y;return R.createElement(br,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:y},R.createElement("path",bf({},de(n,!0),{className:g,d:q1(O,j,_,v,S),ref:r})))}):R.createElement("g",null,R.createElement("path",bf({},de(n,!0),{className:g,d:q1(l,u,f,c,d)})))},O7=["option","shapeType","propTransformer","activeClassName","isActive"];function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function j7(e,t){if(e==null)return{};var n=A7(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A7(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return t=k7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=$7(e,"string");return bl(t)=="symbol"?t:t+""}function $7(e,t){if(bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E7(e,t){return wf(wf({},t),e)}function T7(e,t){return e==="symbols"}function H1(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return R.createElement(Jv,n);case"trapezoid":return R.createElement(_7,n);case"sector":return R.createElement(JP,n);case"symbols":if(T7(t))return R.createElement(yv,n);break;default:return null}}function N7(e){return $.isValidElement(e)?e.props:e}function C7(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?E7:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=j7(e,O7),u;if($.isValidElement(t))u=$.cloneElement(t,wf(wf({},l),N7(t)));else if(le(t))u=t(l);else if(s7(t)&&!p7(t)){var f=i(t,l);u=R.createElement(H1,{shapeType:n,elementProps:f})}else{var c=l;u=R.createElement(H1,{shapeType:n,elementProps:c})}return s?R.createElement(He,{className:o},u):u}function Dd(e,t){return t!=null&&"trapezoids"in e.props}function Rd(e,t){return t!=null&&"sectors"in e.props}function wl(e,t){return t!=null&&"points"in e.props}function I7(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function M7(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function L7(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function D7(e,t){var n;return Dd(e,t)?n=I7:Rd(e,t)?n=M7:wl(e,t)&&(n=L7),n}function R7(e,t){var n;return Dd(e,t)?n="trapezoids":Rd(e,t)?n="sectors":wl(e,t)&&(n="points"),n}function B7(e,t){if(Dd(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Rd(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return wl(e,t)?t.payload:{}}function F7(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=R7(n,t),a=B7(n,t),o=r.filter(function(l,u){var f=Id(a,l),c=n.props[i].filter(function(y){var m=D7(n,t);return m(y,t)}),d=n.props[i].indexOf(c[c.length-1]),p=u===d;return f&&p}),s=r.indexOf(o[o.length-1]);return s}var z7=Math.ceil,U7=Math.max;function K7(e,t,n,r){for(var i=-1,a=U7(z7((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var V7=K7,q7=FA,G1=1/0,W7=17976931348623157e292;function H7(e){if(!e)return e===0?e:0;if(e=q7(e),e===G1||e===-G1){var t=e<0?-1:1;return t*W7}return e===e?e:0}var ck=H7,G7=V7,Y7=jd,th=ck;function X7(e){return function(t,n,r){return r&&typeof r!="number"&&Y7(t,n,r)&&(n=r=void 0),t=th(t),n===void 0?(n=t,t=0):n=th(n),r=r===void 0?t<n?1:-1:th(r),G7(t,n,r,e)}}var Q7=X7,J7=Q7,Z7=J7(),eG=Z7;const xf=Pe(eG);function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){fk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fk(e,t,n){return t=tG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e){var t=nG(e,"string");return xl(t)=="symbol"?t:t+""}function nG(e,t){if(xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rG=["Webkit","Moz","O","ms"],iG=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=rG.reduce(function(a,o){return X1(X1({},a),{},fk({},o+r,n))},{});return i[t]=n,i};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(this,arguments)}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){Kt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pk(r.key),r)}}function oG(e,t,n){return t&&J1(e.prototype,t),n&&J1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sG(e,t,n){return t=_f(t),lG(e,dk()?Reflect.construct(t,n||[],_f(e).constructor):t.apply(e,n))}function lG(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uG(e)}function uG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dk=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_f(e)}function cG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jg(e,t)}function Kt(e,t,n){return t=pk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e){var t=fG(e,"string");return no(t)=="symbol"?t:t+""}function fG(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dG=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Ss().domain(xf(0,l)).range([a,a+o-s]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},Z1=function(t){return t.changedTouches&&!!t.changedTouches.length},Ri=function(e){function t(n){var r;return aG(this,t),r=sG(this,t,[n]),Kt(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Kt(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Kt(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Kt(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Kt(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Kt(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Kt(r,"handleSlideDragStart",function(i){var a=Z1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return cG(t,e),oG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,c=Math.min(i,a),d=Math.max(i,a),p=t.getIndexInRange(o,c),y=t.getIndexInRange(o,d);return{startIndex:p-p%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Qt(a[r],s,r);return le(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,c=l.travellerWidth,d=l.startIndex,p=l.endIndex,y=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,u+f-c-s,u+f-c-o):m<0&&(m=Math.max(m,u-o,u-s));var b=this.getIndex({startX:o+m,endX:s+m});(b.startIndex!==d||b.endIndex!==p)&&y&&y(b),this.setState({startX:o+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Z1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,c=f.x,d=f.width,p=f.travellerWidth,y=f.onChange,m=f.gap,b=f.data,w={startX:this.state.startX,endX:this.state.endX},g=r.pageX-a;g>0?g=Math.min(g,c+d-p-u):g<0&&(g=Math.max(g,c-u)),w[o]=u+g;var x=this.getIndex(w),_=x.startIndex,v=x.endIndex,S=function(){var j=b.length-1;return o==="startX"&&(s>l?_%m===0:v%m===0)||s<l&&v===j||o==="endX"&&(s>l?v%m===0:_%m===0)||s>l&&v===j};this.setState(Kt(Kt({},o,u+g),"brushMoveStartX",r.pageX),function(){y&&S()&&y(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],c=s.indexOf(f);if(c!==-1){var d=c+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Kt({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return R.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,c=$.Children.only(u);return c?R.cloneElement(c,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,c=l.height,d=l.traveller,p=l.ariaLabel,y=l.data,m=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),g=nh(nh({},de(this.props,!1)),{},{x:w,y:u,width:f,height:c}),x=p||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return R.createElement(He,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(v){["ArrowLeft","ArrowRight"].includes(v.key)&&(v.preventDefault(),v.stopPropagation(),s.handleTravellerMoveKeyboard(v.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,g))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:c,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,c=f.startX,d=f.endX,p=5,y={pointerEvents:"none",fill:u};return R.createElement(He,{className:"recharts-brush-texts"},R.createElement(Qc,Sf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-p,y:o+s/2},y),this.getTextOfTick(i)),R.createElement(Qc,Sf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,f=r.height,c=r.alwaysShowText,d=this.state,p=d.startX,y=d.endX,m=d.isTextActive,b=d.isSlideMoving,w=d.isTravellerMoving,g=d.isTravellerFocused;if(!i||!i.length||!H(s)||!H(l)||!H(u)||!H(f)||u<=0||f<=0)return null;var x=me("recharts-brush",a),_=R.Children.count(o)===1,v=iG("userSelect","none");return R.createElement(He,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||b||w||g||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),R.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return R.isValidElement(r)?a=R.cloneElement(r,i):le(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,c=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return nh({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?dG({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}($.PureComponent);Kt(Ri,"displayName","Brush");Kt(Ri,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pG=Ov;function hG(e,t){var n;return pG(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var mG=hG,gG=pA,yG=ei,vG=mG,bG=zt,wG=jd;function xG(e,t,n){var r=bG(e)?gG:vG;return n&&wG(e,t,n)&&(t=void 0),r(e,yG(t))}var SG=xG;const _G=Pe(SG);var qn=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},eS=MA;function OG(e,t,n){t=="__proto__"&&eS?eS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var jG=OG,AG=jG,PG=CA,kG=ei;function $G(e,t){var n={};return t=kG(t),PG(e,function(r,i,a){AG(n,i,t(r,i,a))}),n}var EG=$G;const TG=Pe(EG);function NG(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var CG=NG,IG=Ov;function MG(e,t){var n=!0;return IG(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var LG=MG,DG=CG,RG=LG,BG=ei,FG=zt,zG=jd;function UG(e,t,n){var r=FG(e)?DG:RG;return n&&zG(e,t,n)&&(t=void 0),r(e,BG(t))}var KG=UG;const hk=Pe(KG);var VG=["x","y"];function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(this,arguments)}function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(n),!0).forEach(function(r){qG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qG(e,t,n){return t=WG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WG(e){var t=HG(e,"string");return Sl(t)=="symbol"?t:t+""}function HG(e,t){if(Sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GG(e,t){if(e==null)return{};var n=YG(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XG(e,t){var n=e.x,r=e.y,i=GG(e,VG),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),f=parseInt(u,10),c="".concat(t.width||i.width),d=parseInt(c,10);return rs(rs(rs(rs(rs({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:d,name:t.name,radius:t.radius})}function nS(e){return R.createElement(C7,Ag({shapeType:"rectangle",propTransformer:XG,activeClassName:"recharts-active-bar"},e))}var QG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=H(r)||pM(r);return a?t(r,i):(a||Di(),n)}},JG=["value","background"],mk;function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function ZG(e,t){if(e==null)return{};var n=eY(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of.apply(this,arguments)}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(r){Mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yk(r.key),r)}}function nY(e,t,n){return t&&iS(e.prototype,t),n&&iS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rY(e,t,n){return t=jf(t),iY(e,gk()?Reflect.construct(t,n||[],jf(e).constructor):t.apply(e,n))}function iY(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(e)}function aY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gk=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(e)}function oY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pg(e,t)}function Mr(e,t,n){return t=yk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yk(e){var t=sY(e,"string");return ro(t)=="symbol"?t:t+""}function sY(e,t){if(ro(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hl=function(e){function t(){var n;tY(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=rY(this,t,[].concat(i)),Mr(n,"state",{isAnimationFinished:!1}),Mr(n,"id",Fl("recharts-bar-")),Mr(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Mr(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return oY(t,e),nY(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=de(this.props,!1);return r&&r.map(function(c,d){var p=d===l,y=p?u:o,m=Ye(Ye(Ye({},f),c),{},{isActive:p,option:y,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(He,Of({className:"recharts-bar-rectangle"},Dc(i.props,c,d),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(d)}),R.createElement(nS,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,c=i.animationId,d=this.state.prevData;return R.createElement(br,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=a.map(function(b,w){var g=d&&d[w];if(g){var x=kn(g.x,b.x),_=kn(g.y,b.y),v=kn(g.width,b.width),S=kn(g.height,b.height);return Ye(Ye({},b),{},{x:x(y),y:_(y),width:v(y),height:S(y)})}if(o==="horizontal"){var O=kn(0,b.height),j=O(y);return Ye(Ye({},b),{},{y:b.y+b.height-j,height:j})}var A=kn(0,b.width),k=A(y);return Ye(Ye({},b),{},{width:k})});return R.createElement(He,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Id(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=de(this.props.background,!1);return a.map(function(u,f){u.value;var c=u.background,d=ZG(u,JG);if(!c)return null;var p=Ye(Ye(Ye(Ye(Ye({},d),{},{fill:"#eee"},c),l),Dc(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return R.createElement(nS,Of({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,c=cn(f,Wl);if(!c)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,w){var g=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:g,errorVal:Qt(b,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(He,y,c.map(function(m){return R.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,c=r.width,d=r.height,p=r.isAnimationActive,y=r.background,m=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=me("recharts-bar",o),g=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,_=g||x,v=ce(m)?this.id:m;return R.createElement(He,{className:w},g||x?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(v)},R.createElement("rect",{x:g?u:u-c/2,y:x?f:f-d/2,width:g?c:c*2,height:x?d:d*2}))):null,R.createElement(He,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(v,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,v),(!p||b)&&qr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);mk=Hl;Mr(Hl,"displayName","Bar");Mr(Hl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mr(Hl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,c=e.displayedData,d=e.offset,p=Lq(r,n);if(!p)return null;var y=t.layout,m=n.type.defaultProps,b=m!==void 0?Ye(Ye({},m),n.props):n.props,w=b.dataKey,g=b.children,x=b.minPointSize,_=y==="horizontal"?o:a,v=u?_.scale.domain():null,S=Vq({numericAxis:_}),O=cn(g,KA),j=c.map(function(A,k){var T,P,E,N,I,M;u?T=Dq(u[f+k],v):(T=Qt(A,w),Array.isArray(T)||(T=[S,T]));var L=QG(x,mk.defaultProps.minPointSize)(T[1],k);if(y==="horizontal"){var C,D=[o.scale(T[0]),o.scale(T[1])],B=D[0],K=D[1];P=r1({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:A,index:k}),E=(C=K??B)!==null&&C!==void 0?C:void 0,N=p.size;var z=B-K;if(I=Number.isNaN(z)?0:z,M={x:P,y:o.y,width:N,height:o.height},Math.abs(L)>0&&Math.abs(I)<Math.abs(L)){var Y=En(I||L)*(Math.abs(L)-Math.abs(I));E-=Y,I+=Y}}else{var ee=[a.scale(T[0]),a.scale(T[1])],ue=ee[0],ke=ee[1];if(P=ue,E=r1({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:A,index:k}),N=ke-ue,I=p.size,M={x:a.x,y:E,width:a.width,height:I},Math.abs(L)>0&&Math.abs(N)<Math.abs(L)){var Je=En(N||L)*(Math.abs(L)-Math.abs(N));N+=Je}}return Ye(Ye(Ye({},A),{},{x:P,y:E,width:N,height:I,value:u?T:T[1],payload:A,background:M},O&&O[k]&&O[k].props),{},{tooltipPayload:[YP(n,A)],tooltipPosition:{x:P+N/2,y:E+I/2}})});return Ye({data:j,layout:y},d)});function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vk(r.key),r)}}function uY(e,t,n){return t&&aS(e.prototype,t),n&&aS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(n),!0).forEach(function(r){Bd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bd(e,t,n){return t=vk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vk(e){var t=cY(e,"string");return _l(t)=="symbol"?t:t+""}function cY(e,t){if(_l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fY=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.layout,u=t.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!qt(u,Hl);return f.reduce(function(p,y){var m=n[y],b=m.orientation,w=m.domain,g=m.padding,x=g===void 0?{}:g,_=m.mirror,v=m.reversed,S="".concat(b).concat(_?"Mirror":""),O,j,A,k,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=w[1]-w[0],E=1/0,N=m.categoricalDomain.sort(gM);if(N.forEach(function(ee,ue){ue>0&&(E=Math.min((ee||0)-(N[ue-1]||0),E))}),Number.isFinite(E)){var I=E/P,M=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(O=I*M/2),m.padding==="no-gap"){var L=Mi(t.barCategoryGap,I*M),C=I*M/2;O=C-L-(C-L)/M*L}}}i==="xAxis"?j=[r.left+(x.left||0)+(O||0),r.left+r.width-(x.right||0)-(O||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(O||0),r.top+r.height-(x.bottom||0)-(O||0)]:j=m.range,v&&(j=[j[1],j[0]]);var D=Iq(m,a,d),B=D.scale,K=D.realScaleType;B.domain(w).range(j),Mq(B);var z=Kq(B,jn(jn({},m),{},{realScaleType:K}));i==="xAxis"?(T=b==="top"&&!_||b==="bottom"&&_,A=r.left,k=c[S]-T*m.height):i==="yAxis"&&(T=b==="left"&&!_||b==="right"&&_,A=c[S]-T*m.width,k=r.top);var Y=jn(jn(jn({},m),z),{},{realScaleType:K,x:A,y:k,scale:B,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return Y.bandSize=df(Y,z),!m.hide&&i==="xAxis"?c[S]+=(T?-1:1)*Y.height:m.hide||(c[S]+=(T?-1:1)*Y.width),jn(jn({},p),{},Bd({},y,Y))},{})},bk=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},dY=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return bk({x:n,y:r},{x:i,y:a})},wk=function(){function e(t){lY(this,e),this.scale=t}return uY(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();Bd(wk,"EPS",1e-4);var eb=function(t){var n=Object.keys(t).reduce(function(r,i){return jn(jn({},r),{},Bd({},i,wk.create(t[i])))},{});return jn(jn({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return TG(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return hk(i,function(a,o){return n[o].isInRange(a)})}})};function pY(e){return(e%180+180)%180}var hY=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pY(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},mY=ei,gY=zl,yY=_d;function vY(e){return function(t,n,r){var i=Object(t);if(!gY(t)){var a=mY(n);t=yY(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var bY=vY,wY=ck;function xY(e){var t=wY(e),n=t%1;return t===t?n?t-n:t:0}var SY=xY,_Y=PA,OY=ei,jY=SY,AY=Math.max;function PY(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:jY(n);return i<0&&(i=AY(r+i,0)),_Y(e,OY(t),i)}var kY=PY,$Y=bY,EY=kY,TY=$Y(EY),NY=TY;const CY=Pe(NY);var IY=b2(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),tb=$.createContext(void 0),nb=$.createContext(void 0),xk=$.createContext(void 0),Sk=$.createContext({}),_k=$.createContext(void 0),Ok=$.createContext(0),jk=$.createContext(0),sS=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,f=IY(a);return R.createElement(tb.Provider,{value:r},R.createElement(nb.Provider,{value:i},R.createElement(Sk.Provider,{value:a},R.createElement(xk.Provider,{value:f},R.createElement(_k.Provider,{value:o},R.createElement(Ok.Provider,{value:u},R.createElement(jk.Provider,{value:l},s)))))))},MY=function(){return $.useContext(_k)},Ak=function(t){var n=$.useContext(tb);n==null&&Di();var r=n[t];return r==null&&Di(),r},LY=function(){var t=$.useContext(tb);return Nr(t)},DY=function(){var t=$.useContext(nb),n=CY(t,function(r){return hk(r.domain,Number.isFinite)});return n||Nr(t)},Pk=function(t){var n=$.useContext(nb);n==null&&Di();var r=n[t];return r==null&&Di(),r},RY=function(){var t=$.useContext(xk);return t},BY=function(){return $.useContext(Sk)},rb=function(){return $.useContext(jk)},ib=function(){return $.useContext(Ok)};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function FY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$k(r.key),r)}}function UY(e,t,n){return t&&zY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KY(e,t,n){return t=Af(t),VY(e,kk()?Reflect.construct(t,n||[],Af(e).constructor):t.apply(e,n))}function VY(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qY(e)}function qY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kk=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(e)}function WY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kg(e,t)}function lS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(n),!0).forEach(function(r){ab(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ab(e,t,n){return t=$k(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $k(e){var t=HY(e,"string");return io(t)=="symbol"?t:t+""}function HY(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GY(e,t){return JY(e)||QY(e,t)||XY(e,t)||YY()}function YY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(e,t){if(e){if(typeof e=="string")return cS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cS(e,t)}}function cS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function JY(e){if(Array.isArray(e))return e}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$g.apply(this,arguments)}var ZY=function(t,n){var r;return R.isValidElement(t)?r=R.cloneElement(t,n):le(t)?r=t(n):r=R.createElement("line",$g({},n,{className:"recharts-reference-line-line"})),r},eX=function(t,n,r,i,a,o,s,l,u){var f=a.x,c=a.y,d=a.width,p=a.height;if(r){var y=u.y,m=t.y.apply(y,{position:o});if(qn(u,"discard")&&!t.y.isInRange(m))return null;var b=[{x:f+d,y:m},{x:f,y:m}];return l==="left"?b.reverse():b}if(n){var w=u.x,g=t.x.apply(w,{position:o});if(qn(u,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:c+p},{x:g,y:c}];return s==="top"?x.reverse():x}if(i){var _=u.segment,v=_.map(function(S){return t.apply(S,{position:o})});return qn(u,"discard")&&_G(v,function(S){return!t.isInRange(S)})?null:v}return null};function tX(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=MY(),f=Ak(i),c=Pk(a),d=RY();if(!u||!d)return null;ur(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=eb({x:f.scale,y:c.scale}),y=it(t),m=it(n),b=r&&r.length===2,w=eX(p,y,m,b,d,e.position,f.orientation,c.orientation,e);if(!w)return null;var g=GY(w,2),x=g[0],_=x.x,v=x.y,S=g[1],O=S.x,j=S.y,A=qn(e,"hidden")?"url(#".concat(u,")"):void 0,k=uS(uS({clipPath:A},de(e,!0)),{},{x1:_,y1:v,x2:O,y2:j});return R.createElement(He,{className:me("recharts-reference-line",s)},ZY(o,k),_t.renderCallByParent(e,dY({x1:_,y1:v,x2:O,y2:j})))}var ob=function(e){function t(){return FY(this,t),KY(this,t,arguments)}return WY(t,e),UY(t,[{key:"render",value:function(){return R.createElement(tX,this.props)}}])}(R.Component);ab(ob,"displayName","ReferenceLine");ab(ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(this,arguments)}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function fS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(n),!0).forEach(function(r){Fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tk(r.key),r)}}function iX(e,t,n){return t&&rX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aX(e,t,n){return t=Pf(t),oX(e,Ek()?Reflect.construct(t,n||[],Pf(e).constructor):t.apply(e,n))}function oX(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sX(e)}function sX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ek=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(e)}function lX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tg(e,t)}function Tg(e,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tg(e,t)}function Fd(e,t,n){return t=Tk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tk(e){var t=uX(e,"string");return ao(t)=="symbol"?t:t+""}function uX(e,t){if(ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cX=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=eb({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return qn(t,"discard")&&!o.isInRange(s)?null:s},zd=function(e){function t(){return nX(this,t),aX(this,t,arguments)}return lX(t,e),iX(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=it(i),f=it(a);if(ur(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var c=cX(this.props);if(!c)return null;var d=c.x,p=c.y,y=this.props,m=y.shape,b=y.className,w=qn(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=dS(dS({clipPath:w},de(this.props,!0)),{},{cx:d,cy:p});return R.createElement(He,{className:me("recharts-reference-dot",b)},t.renderDot(m,g),_t.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(R.Component);Fd(zd,"displayName","ReferenceDot");Fd(zd,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fd(zd,"renderDot",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):le(e)?n=e(t):n=R.createElement(Zv,Eg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(r){Ud(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ck(r.key),r)}}function pX(e,t,n){return t&&dX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hX(e,t,n){return t=kf(t),mX(e,Nk()?Reflect.construct(t,n||[],kf(e).constructor):t.apply(e,n))}function mX(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(e)}function gX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nk=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(e)}function yX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(e,t)}function Ud(e,t,n){return t=Ck(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ck(e){var t=vX(e,"string");return oo(t)=="symbol"?t:t+""}function vX(e,t){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bX=function(t,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,c=a.yAxis;if(!f||!c)return null;var d=eb({x:f.scale,y:c.scale}),p={x:t?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},y={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return qn(a,"discard")&&(!d.isInRange(p)||!d.isInRange(y))?null:bk(p,y)},Kd=function(e){function t(){return fX(this,t),hX(this,t,arguments)}return yX(t,e),pX(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;ur(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=it(i),d=it(a),p=it(o),y=it(s),m=this.props.shape;if(!c&&!d&&!p&&!y&&!m)return null;var b=bX(c,d,p,y,this.props);if(!b&&!m)return null;var w=qn(this.props,"hidden")?"url(#".concat(f,")"):void 0;return R.createElement(He,{className:me("recharts-reference-area",l)},t.renderRect(m,hS(hS({clipPath:w},de(this.props,!0)),b)),_t.renderCallByParent(this.props,b))}}])}(R.Component);Ud(Kd,"displayName","ReferenceArea");Ud(Kd,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ud(Kd,"renderRect",function(e,t){var n;return R.isValidElement(e)?n=R.cloneElement(e,t):le(e)?n=e(t):n=R.createElement(Jv,Ng({},t,{className:"recharts-reference-area-rect"})),n});function Ik(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function wX(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return hY(r,n)}function xX(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function $f(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function SX(e,t){return Ik(e,t+1)}function _X(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,l=0,u=1,f=o,c=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:Ik(r,u)};var m=l,b,w=function(){return b===void 0&&(b=n(y,m)),b},g=y.coordinate,x=l===0||$f(e,g,w,f,s);x||(l=0,f=o,u+=1),x&&(f=g+e*(w()/2+i),l+=u)},d;u<=a.length;)if(d=c(),d)return d.v;return[]}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function mS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(n),!0).forEach(function(r){OX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t,n){return t=jX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jX(e){var t=AX(e,"string");return Ol(t)=="symbol"?t:t+""}function AX(e,t){if(Ol(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PX(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,u=function(d){var p=a[d],y,m=function(){return y===void 0&&(y=n(p,d)),y};if(d===o-1){var b=e*(p.coordinate+e*m()/2-l);a[d]=p=xt(xt({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else a[d]=p=xt(xt({},p),{},{tickCoord:p.coordinate});var w=$f(e,p.tickCoord,m,s,l);w&&(l=p.tickCoord-e*(m()/2+i),a[d]=xt(xt({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function kX(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,u=t.end;if(a){var f=r[s-1],c=n(f,s-1),d=e*(f.coordinate+e*c/2-u);o[s-1]=f=xt(xt({},f),{},{tickCoord:d>0?f.coordinate-d*e:f.coordinate});var p=$f(e,f.tickCoord,function(){return c},l,u);p&&(u=f.tickCoord-e*(c/2+i),o[s-1]=xt(xt({},f),{},{isShow:!0}))}for(var y=a?s-1:s,m=function(g){var x=o[g],_,v=function(){return _===void 0&&(_=n(x,g)),_};if(g===0){var S=e*(x.coordinate-e*v()/2-l);o[g]=x=xt(xt({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[g]=x=xt(xt({},x),{},{tickCoord:x.coordinate});var O=$f(e,x.tickCoord,v,l,u);O&&(l=x.tickCoord+e*(v()/2+i),o[g]=xt(xt({},x),{},{isShow:!0}))},b=0;b<y;b++)m(b);return o}function sb(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,f=e.unit,c=e.angle;if(!i||!i.length||!r)return[];if(H(l)||Po.isSsr)return SX(i,typeof l=="number"&&H(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",y=f&&p==="width"?xs(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(x,_){var v=le(u)?u(x.value,_):x.value;return p==="width"?wX(xs(v,{fontSize:t,letterSpacing:n}),y,c):xs(v,{fontSize:t,letterSpacing:n})[p]},b=i.length>=2?En(i[1].coordinate-i[0].coordinate):1,w=xX(a,b,p);return l==="equidistantPreserveStart"?_X(b,w,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=kX(b,w,m,i,o,l==="preserveStartEnd"):d=PX(b,w,m,i,o),d.filter(function(g){return g.isShow}))}var $X=["viewBox"],EX=["viewBox"],TX=["ticks"];function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}function gS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rh(e,t){if(e==null)return{};var n=NX(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lk(r.key),r)}}function IX(e,t,n){return t&&yS(e.prototype,t),n&&yS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MX(e,t,n){return t=Ef(t),LX(e,Mk()?Reflect.construct(t,n||[],Ef(e).constructor):t.apply(e,n))}function LX(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DX(e)}function DX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ef(e)}function RX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ig(e,t)}function lb(e,t,n){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lk(e){var t=BX(e,"string");return so(t)=="symbol"?t:t+""}function BX(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var To=function(e){function t(n){var r;return CX(this,t),r=MX(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return RX(t,e),IX(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=rh(r,$X),s=this.props,l=s.viewBox,u=rh(s,EX);return!Ca(a,l)||!Ca(o,u)||!Ca(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,c=i.mirror,d=i.tickMargin,p,y,m,b,w,g,x=c?-1:1,_=r.tickSize||f,v=H(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,b=o+ +!c*l,m=b-x*_,g=m-x*d,w=v;break;case"left":m=b=r.coordinate,y=a+ +!c*s,p=y-x*_,w=p-x*d,g=v;break;case"right":m=b=r.coordinate,y=a+ +c*s,p=y+x*_,w=p+x*d,g=v;break;default:p=y=r.coordinate,b=o+ +c*l,m=b+x*_,g=m+x*d,w=v;break}return{line:{x1:p,y1:m,x2:y,y2:b},tick:{x:w,y:g}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,c=et(et(et({},de(this.props,!1)),de(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);c=et(et({},c),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);c=et(et({},c),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return R.createElement("line",ba({},c,{className:me("recharts-cartesian-axis-line",un(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,c=s.tickFormatter,d=s.unit,p=sb(et(et({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=de(this.props,!1),w=de(f,!1),g=et(et({},b),{},{fill:"none"},de(l,!1)),x=p.map(function(_,v){var S=o.getTickLineCoord(_),O=S.line,j=S.tick,A=et(et(et(et({textAnchor:y,verticalAnchor:m},b),{},{stroke:"none",fill:u},w),j),{},{index:v,payload:_,visibleTicksCount:p.length,tickFormatter:c});return R.createElement(He,ba({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Dc(o.props,_,v)),l&&R.createElement("line",ba({},g,O,{className:me("recharts-cartesian-axis-tick-line",un(l,"className"))})),f&&t.renderTickItem(f,A,"".concat(le(c)?c(_.value,v):_.value).concat(d||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var c=this.props,d=c.ticks,p=rh(c,TX),y=d;return le(l)&&(y=d&&d.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:R.createElement(He,{className:me("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),_t.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=me(i.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(r)?o=R.cloneElement(r,et(et({},i),{},{className:s})):le(r)?o=r(et(et({},i),{},{className:s})):o=R.createElement(Qc,ba({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}($.Component);lb(To,"displayName","CartesianAxis");lb(To,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FX=["x1","y1","x2","y2","key"],zX=["offset"];function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(n),!0).forEach(function(r){UX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UX(e,t,n){return t=KX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KX(e){var t=VX(e,"string");return Bi(t)=="symbol"?t:t+""}function VX(e,t){if(Bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bi.apply(this,arguments)}function bS(e,t){if(e==null)return{};var n=qX(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var WX=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return R.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Dk(e,t){var n;if(R.isValidElement(e))n=R.cloneElement(e,t);else if(le(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=bS(t,FX),u=de(l,!1);u.offset;var f=bS(u,zX);n=R.createElement("line",bi({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function HX(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ot(Ot({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return Dk(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function GX(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ot(Ot({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return Dk(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function YX(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var f=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==f[0]&&f.unshift(0);var c=f.map(function(d,p){var y=!f[p+1],m=y?i+o-d:f[p+1]-d;if(m<=0)return null;var b=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:m,width:a,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function XX(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,p){return d-p});a!==f[0]&&f.unshift(0);var c=f.map(function(d,p){var y=!f[p+1],m=y?a+s-d:f[p+1]-d;if(m<=0)return null;var b=p%r.length;return R.createElement("rect",{key:"react-".concat(p),x:d,y:o,width:m,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var QX=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return HP(sb(Ot(Ot(Ot({},To.defaultProps),r),{},{ticks:ar(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},JX=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return HP(sb(Ot(Ot(Ot({},To.defaultProps),r),{},{ticks:ar(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Zi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ub(e){var t,n,r,i,a,o,s=rb(),l=ib(),u=BY(),f=Ot(Ot({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zi.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Zi.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Zi.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Zi.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Zi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Zi.verticalFill,x:H(e.x)?e.x:u.left,y:H(e.y)?e.y:u.top,width:H(e.width)?e.width:u.width,height:H(e.height)?e.height:u.height}),c=f.x,d=f.y,p=f.width,y=f.height,m=f.syncWithTicks,b=f.horizontalValues,w=f.verticalValues,g=LY(),x=DY();if(!H(p)||p<=0||!H(y)||y<=0||!H(c)||c!==+c||!H(d)||d!==+d)return null;var _=f.verticalCoordinatesGenerator||QX,v=f.horizontalCoordinatesGenerator||JX,S=f.horizontalPoints,O=f.verticalPoints;if((!S||!S.length)&&le(v)){var j=b&&b.length,A=v({yAxis:x?Ot(Ot({},x),{},{ticks:j?b:x.ticks}):void 0,width:s,height:l,offset:u},j?!0:m);ur(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bi(A),"]")),Array.isArray(A)&&(S=A)}if((!O||!O.length)&&le(_)){var k=w&&w.length,T=_({xAxis:g?Ot(Ot({},g),{},{ticks:k?w:g.ticks}):void 0,width:s,height:l,offset:u},k?!0:m);ur(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bi(T),"]")),Array.isArray(T)&&(O=T)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(WX,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),R.createElement(HX,bi({},f,{offset:u,horizontalPoints:S,xAxis:g,yAxis:x})),R.createElement(GX,bi({},f,{offset:u,verticalPoints:O,xAxis:g,yAxis:x})),R.createElement(YX,bi({},f,{horizontalPoints:S})),R.createElement(XX,bi({},f,{verticalPoints:O})))}ub.displayName="CartesianGrid";var ZX=["type","layout","connectNulls","ref"],eQ=["key"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function wS(e,t){if(e==null)return{};var n=tQ(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tQ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(this,arguments)}function xS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(n),!0).forEach(function(r){An(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ea(e){return aQ(e)||iQ(e)||rQ(e)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(e,t){if(e){if(typeof e=="string")return Mg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mg(e,t)}}function iQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aQ(e){if(Array.isArray(e))return Mg(e)}function Mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bk(r.key),r)}}function sQ(e,t,n){return t&&SS(e.prototype,t),n&&SS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lQ(e,t,n){return t=Tf(t),uQ(e,Rk()?Reflect.construct(t,n||[],Tf(e).constructor):t.apply(e,n))}function uQ(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQ(e)}function cQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(e)}function fQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lg(e,t)}function Lg(e,t){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lg(e,t)}function An(e,t,n){return t=Bk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bk(e){var t=dQ(e,"string");return lo(t)=="symbol"?t:t+""}function dQ(e,t){if(lo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var No=function(e){function t(){var n;oQ(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=lQ(this,t,[].concat(i)),An(n,"state",{isAnimationFinished:!0,totalLength:0}),An(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),An(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(w,g){return w+g});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/u),c=o%u,d=s-o,p=[],y=0,m=0;y<l.length;m+=l[y],++y)if(m+l[y]>c){p=[].concat(ea(l.slice(0,y)),[c-m]);break}var b=p.length%2===0?[0,d]:[d];return[].concat(ea(t.repeat(l,f)),ea(p),b).map(function(w){return"".concat(w,"px")}).join(", ")}),An(n,"id",Fl("recharts-line-")),An(n,"pathRef",function(o){n.mainCurve=o}),An(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),An(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return fQ(t,e),sQ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,c=cn(f,Wl);if(!c)return null;var d=function(m,b){return{x:m.x,y:m.y,value:m.value,errorVal:Qt(m.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(He,p,c.map(function(y){return R.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,c=de(this.props,!1),d=de(l,!0),p=u.map(function(m,b){var w=Ut(Ut(Ut({key:"dot-".concat(b),r:3},c),d),{},{index:b,cx:m.x,cy:m.y,value:m.value,dataKey:f,payload:m.payload,points:u});return t.renderDotItem(l,w)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return R.createElement(He,js({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var c=wS(s,ZX),d=Ut(Ut(Ut({},de(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:f});return R.createElement(pg,js({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,c=o.animationDuration,d=o.animationEasing,p=o.animationId,y=o.animateNewValues,m=o.width,b=o.height,w=this.state,g=w.prevPoints,x=w.totalLength;return R.createElement(br,{begin:f,duration:c,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var v=_.t;if(g){var S=g.length/s.length,O=s.map(function(P,E){var N=Math.floor(E*S);if(g[N]){var I=g[N],M=kn(I.x,P.x),L=kn(I.y,P.y);return Ut(Ut({},P),{},{x:M(v),y:L(v)})}if(y){var C=kn(m*2,P.x),D=kn(b/2,P.y);return Ut(Ut({},P),{},{x:C(v),y:D(v)})}return Ut(Ut({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(O,r,i)}var j=kn(0,x),A=j(v),k;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});k=a.getStrokeDasharray(A,x,T)}else k=a.generateSimpleStrokeDasharray(x,A);return a.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&o&&o.length&&(!u&&f>0||!Id(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,d=i.left,p=i.width,y=i.height,m=i.isAnimationActive,b=i.id;if(a||!s||!s.length)return null;var w=this.state.isAnimationFinished,g=s.length===1,x=me("recharts-line",l),_=u&&u.allowDataOverflow,v=f&&f.allowDataOverflow,S=_||v,O=ce(b)?this.id:b,j=(r=de(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=j.r,k=A===void 0?3:A,T=j.strokeWidth,P=T===void 0?2:T,E=jM(o)?o:{},N=E.clipDot,I=N===void 0?!0:N,M=k*2+P;return R.createElement(He,{className:x},_||v?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(O)},R.createElement("rect",{x:_?d:d-p/2,y:v?c:c-y/2,width:_?p:p*2,height:v?y:y*2})),!I&&R.createElement("clipPath",{id:"clipPath-dots-".concat(O)},R.createElement("rect",{x:d-M/2,y:c-M/2,width:p+M,height:y+M}))):null,!g&&this.renderCurve(S,O),this.renderErrorBar(S,O),(g||o)&&this.renderDots(S,I,O),(!m||w)&&qr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(ea(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(ea(o),ea(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(R.isValidElement(r))a=R.cloneElement(r,i);else if(le(r))a=r(i);else{var o=i.key,s=wS(i,eQ),l=me("recharts-line-dot",typeof r!="boolean"?r.className:"");a=R.createElement(Zv,js({key:o},s,{className:l}))}return a}}])}($.PureComponent);An(No,"displayName","Line");An(No,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});An(No,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,f=t.layout,c=l.map(function(d,p){var y=Qt(d,o);return f==="horizontal"?{x:n1({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:ce(y)?null:r.scale(y),value:y,payload:d}:{x:ce(y)?null:n.scale(y),y:n1({axis:r,ticks:a,bandSize:s,entry:d,index:p}),value:y,payload:d}});return Ut({points:c,layout:f},u)});function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function pQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uk(r.key),r)}}function mQ(e,t,n){return t&&hQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gQ(e,t,n){return t=Nf(t),yQ(e,Fk()?Reflect.construct(t,n||[],Nf(e).constructor):t.apply(e,n))}function yQ(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vQ(e)}function vQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fk=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(e)}function bQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dg(e,t)}function zk(e,t,n){return t=Uk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uk(e){var t=wQ(e,"string");return uo(t)=="symbol"?t:t+""}function wQ(e,t){if(uo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rg.apply(this,arguments)}function xQ(e){var t=e.xAxisId,n=rb(),r=ib(),i=Ak(t);return i==null?null:$.createElement(To,Rg({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ar(o,!0)}}))}var Gl=function(e){function t(){return pQ(this,t),gQ(this,t,arguments)}return bQ(t,e),mQ(t,[{key:"render",value:function(){return $.createElement(xQ,this.props)}}])}($.Component);zk(Gl,"displayName","XAxis");zk(Gl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function SQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qk(r.key),r)}}function OQ(e,t,n){return t&&_Q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jQ(e,t,n){return t=Cf(t),AQ(e,Kk()?Reflect.construct(t,n||[],Cf(e).constructor):t.apply(e,n))}function AQ(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PQ(e)}function PQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kk=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(e)}function kQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bg(e,t)}function Vk(e,t,n){return t=qk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qk(e){var t=$Q(e,"string");return co(t)=="symbol"?t:t+""}function $Q(e,t){if(co(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg.apply(this,arguments)}var EQ=function(t){var n=t.yAxisId,r=rb(),i=ib(),a=Pk(n);return a==null?null:$.createElement(To,Fg({},a,{className:me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ar(s,!0)}}))},Yl=function(e){function t(){return SQ(this,t),jQ(this,t,arguments)}return kQ(t,e),OQ(t,[{key:"render",value:function(){return $.createElement(EQ,this.props)}}])}($.Component);Vk(Yl,"displayName","YAxis");Vk(Yl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _S(e){return IQ(e)||CQ(e)||NQ(e)||TQ()}function TQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(e,t){if(e){if(typeof e=="string")return zg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(e,t)}}function CQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IQ(e){if(Array.isArray(e))return zg(e)}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ug=function(t,n,r,i,a){var o=cn(t,ob),s=cn(t,zd),l=[].concat(_S(o),_S(s)),u=cn(t,Kd),f="".concat(i,"Id"),c=i[0],d=n;if(l.length&&(d=l.reduce(function(m,b){if(b.props[f]===r&&qn(b.props,"extendDomain")&&H(b.props[c])){var w=b.props[c];return[Math.min(m[0],w),Math.max(m[1],w)]}return m},d)),u.length){var p="".concat(c,"1"),y="".concat(c,"2");d=u.reduce(function(m,b){if(b.props[f]===r&&qn(b.props,"extendDomain")&&H(b.props[p])&&H(b.props[y])){var w=b.props[p],g=b.props[y];return[Math.min(m[0],w,g),Math.max(m[1],w,g)]}return m},d)}return a&&a.length&&(d=a.reduce(function(m,b){return H(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},d)),d},Wk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,c,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,c||l,d),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)t.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,p=c.length,y=new Array(p);d<p;d++)y[d]=c[d].fn;return y},s.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,f,c,d,p,y){var m=n?n+u:u;if(!this._events[m])return!1;var b=this._events[m],w=arguments.length,g,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,c),!0;case 4:return b.fn.call(b.context,f,c,d),!0;case 5:return b.fn.call(b.context,f,c,d,p),!0;case 6:return b.fn.call(b.context,f,c,d,p,y),!0}for(x=1,g=new Array(w-1);x<w;x++)g[x-1]=arguments[x];b.fn.apply(b.context,g)}else{var _=b.length,v;for(x=0;x<_;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),w){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,f);break;case 3:b[x].fn.call(b[x].context,f,c);break;case 4:b[x].fn.call(b[x].context,f,c,d);break;default:if(!g)for(v=1,g=new Array(w-1);v<w;v++)g[v-1]=arguments[v];b[x].fn.apply(b[x].context,g)}}return!0},s.prototype.on=function(u,f,c){return a(this,u,f,c,!1)},s.prototype.once=function(u,f,c){return a(this,u,f,c,!0)},s.prototype.removeListener=function(u,f,c,d){var p=n?n+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!d||y.once)&&(!c||y.context===c)&&o(this,p);else{for(var m=0,b=[],w=y.length;m<w;m++)(y[m].fn!==f||d&&!y[m].once||c&&y[m].context!==c)&&b.push(y[m]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Wk);var MQ=Wk.exports;const LQ=Pe(MQ);var ih=new LQ,ah="recharts.syncMouseEvents";function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function DQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hk(r.key),r)}}function BQ(e,t,n){return t&&RQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oh(e,t,n){return t=Hk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hk(e){var t=FQ(e,"string");return jl(t)=="symbol"?t:t+""}function FQ(e,t){if(jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zQ=function(){function e(){DQ(this,e),oh(this,"activeIndex",0),oh(this,"coordinateList",[]),oh(this,"layout","horizontal")}return BQ(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,c=f===void 0?null:f,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=a+l+u,d=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])}();function UQ(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&H(r)&&H(i))return!0}return!1}function KQ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Gk(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=ht(t,n,r,i),s=ht(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function VQ(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,f=t.outerRadius,c=t.angle,d=ht(s,l,u,c),p=ht(s,l,f,c);r=d.x,i=d.y,a=p.x,o=p.y}else return Gk(t);return[{x:r,y:i},{x:a,y:o}]}function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function OS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(n),!0).forEach(function(r){qQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qQ(e,t,n){return t=WQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=HQ(e,"string");return Al(t)=="symbol"?t:t+""}function HQ(e,t){if(Al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GQ(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,c=e.layout,d=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var y,m=pg;if(d==="ScatterChart")y=o,m=H9;else if(d==="BarChart")y=KQ(c,o,l,f),m=Jv;else if(c==="radial"){var b=Gk(o),w=b.cx,g=b.cy,x=b.radius,_=b.startAngle,v=b.endAngle;y={cx:w,cy:g,startAngle:_,endAngle:v,innerRadius:x,outerRadius:x},m=JP}else y={points:VQ(c,o,l)},m=pg;var S=Eu(Eu(Eu(Eu({stroke:"#ccc",pointerEvents:"none"},l),y),de(p,!1)),{},{payload:s,payloadIndex:u,className:me("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,S):$.createElement(m,S)}var YQ=["item"],XQ=["children","className","width","height","style","compact","title","desc"];function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wa.apply(this,arguments)}function jS(e,t){return ZQ(e)||JQ(e,t)||Xk(e,t)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ZQ(e){if(Array.isArray(e))return e}function AS(e,t){if(e==null)return{};var n=eJ(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qk(r.key),r)}}function rJ(e,t,n){return t&&nJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iJ(e,t,n){return t=If(t),aJ(e,Yk()?Reflect.construct(t,n||[],If(e).constructor):t.apply(e,n))}function aJ(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oJ(e)}function oJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(e)}function sJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kg(e,t)}function po(e){return cJ(e)||uJ(e)||Xk(e)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xk(e,t){if(e){if(typeof e=="string")return Vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vg(e,t)}}function uJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cJ(e){if(Array.isArray(e))return Vg(e)}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(n),!0).forEach(function(r){ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ne(e,t,n){return t=Qk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qk(e){var t=fJ(e,"string");return fo(t)=="symbol"?t:t+""}function fJ(e,t){if(fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dJ={xAxis:["bottom","top"],yAxis:["left","right"]},pJ={width:"100%",height:"100%"},Jk={x:0,y:0};function Tu(e){return e}var hJ=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},mJ=function(t,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return F(F(F({},i),ht(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return F(F(F({},i),ht(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Jk},Vd=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(po(s),po(u)):s},[]);return o.length>0?o:t&&t.length&&H(i)&&H(a)?t.slice(i,a+1):[]};function Zk(e){return e==="number"?[0,"auto"]:void 0}var qg=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=Vd(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var f,c=(f=u.props.data)!==null&&f!==void 0?f:n;c&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(c=c.slice(t.dataStartIndex,t.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=c===void 0?s:c;d=Mc(p,o.dataKey,i)}else d=c&&c[r]||s[r];return d?[].concat(po(l),[YP(u,d)]):l},[])},kS=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=hJ(a,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,f=kq(o,s,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,d=qg(t,n,f,c),p=mJ(r,s,f,a);return{activeTooltipIndex:f,activeLabel:c,activePayload:d,activeCoordinate:p}}return null},gJ=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,c=t.children,d=t.stackOffset,p=WP(f,a);return r.reduce(function(y,m){var b,w=m.type.defaultProps!==void 0?F(F({},m.type.defaultProps),m.props):m.props,g=w.type,x=w.dataKey,_=w.allowDataOverflow,v=w.allowDuplicatedCategory,S=w.scale,O=w.ticks,j=w.includeHidden,A=w[o];if(y[A])return y;var k=Vd(t.data,{graphicalItems:i.filter(function(z){var Y,ee=o in z.props?z.props[o]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[o];return ee===A}),dataStartIndex:l,dataEndIndex:u}),T=k.length,P,E,N;UQ(w.domain,_,g)&&(P=lg(w.domain,null,_),p&&(g==="number"||S!=="auto")&&(N=_s(k,x,"category")));var I=Zk(g);if(!P||P.length===0){var M,L=(M=w.domain)!==null&&M!==void 0?M:I;if(x){if(P=_s(k,x,g),g==="category"&&p){var C=mM(P);v&&C?(E=P,P=xf(0,T)):v||(P=o1(L,P,m).reduce(function(z,Y){return z.indexOf(Y)>=0?z:[].concat(po(z),[Y])},[]))}else if(g==="category")v?P=P.filter(function(z){return z!==""&&!ce(z)}):P=o1(L,P,m).reduce(function(z,Y){return z.indexOf(Y)>=0||Y===""||ce(Y)?z:[].concat(po(z),[Y])},[]);else if(g==="number"){var D=Cq(k,i.filter(function(z){var Y,ee,ue=o in z.props?z.props[o]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[o],ke="hide"in z.props?z.props.hide:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ue===A&&(j||!ke)}),x,a,f);D&&(P=D)}p&&(g==="number"||S!=="auto")&&(N=_s(k,x,"category"))}else p?P=xf(0,T):s&&s[A]&&s[A].hasStack&&g==="number"?P=d==="expand"?[0,1]:GP(s[A].stackGroups,l,u):P=qP(k,i.filter(function(z){var Y=o in z.props?z.props[o]:z.type.defaultProps[o],ee="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Y===A&&(j||!ee)}),g,f,!0);if(g==="number")P=Ug(c,P,A,a,O),L&&(P=lg(L,P,_));else if(g==="category"&&L){var B=L,K=P.every(function(z){return B.indexOf(z)>=0});K&&(P=B)}}return F(F({},y),{},ne({},A,F(F({},w),{},{axisType:a,domain:P,categoricalDomain:N,duplicateDomain:E,originalDomain:(b=w.domain)!==null&&b!==void 0?b:I,isCategorical:p,layout:f})))},{})},yJ=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,c=t.children,d=Vd(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,y=WP(f,a),m=-1;return r.reduce(function(b,w){var g=w.type.defaultProps!==void 0?F(F({},w.type.defaultProps),w.props):w.props,x=g[o],_=Zk("number");if(!b[x]){m++;var v;return y?v=xf(0,p):s&&s[x]&&s[x].hasStack?(v=GP(s[x].stackGroups,l,u),v=Ug(c,v,x,a)):(v=lg(_,qP(d,r.filter(function(S){var O,j,A=o in S.props?S.props[o]:(O=S.type.defaultProps)===null||O===void 0?void 0:O[o],k="hide"in S.props?S.props.hide:(j=S.type.defaultProps)===null||j===void 0?void 0:j.hide;return A===x&&!k}),"number",f),i.defaultProps.allowDataOverflow),v=Ug(c,v,x,a)),F(F({},b),{},ne({},x,F(F({axisType:a},i.defaultProps),{},{hide:!0,orientation:un(dJ,"".concat(a,".").concat(m%2),null),domain:v,originalDomain:_,isCategorical:y,layout:f})))}return b},{})},vJ=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=t.children,c="".concat(i,"Id"),d=cn(f,a),p={};return d&&d.length?p=gJ(t,{axes:d,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=yJ(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},bJ=function(t){var n=Nr(t),r=ar(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:jv(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:df(n,r)}},$S=function(t){var n=t.children,r=t.defaultShowTooltip,i=qt(n,Ri),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},wJ=function(t){return!t||!t.length?!1:t.some(function(n){var r=lr(n&&n.type);return r&&r.indexOf("Bar")>=0})},ES=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xJ=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,c=r.children,d=r.margin||{},p=qt(c,Ri),y=qt(c,ji),m=Object.keys(l).reduce(function(v,S){var O=l[S],j=O.orientation;return!O.mirror&&!O.hide?F(F({},v),{},ne({},j,v[j]+O.width)):v},{left:d.left||0,right:d.right||0}),b=Object.keys(o).reduce(function(v,S){var O=o[S],j=O.orientation;return!O.mirror&&!O.hide?F(F({},v),{},ne({},j,un(v,"".concat(j))+O.height)):v},{top:d.top||0,bottom:d.bottom||0}),w=F(F({},b),m),g=w.bottom;p&&(w.bottom+=p.props.height||Ri.defaultProps.height),y&&n&&(w=Tq(w,i,r,n));var x=u-w.left-w.right,_=f-w.top-w.bottom;return F(F({brushBottom:g},w),{},{width:Math.max(x,0),height:Math.max(_,0)})},SJ=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},_J=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,c=t.defaultProps,d=function(w,g){var x=g.graphicalItems,_=g.stackGroups,v=g.offset,S=g.updateId,O=g.dataStartIndex,j=g.dataEndIndex,A=w.barSize,k=w.layout,T=w.barGap,P=w.barCategoryGap,E=w.maxBarSize,N=ES(k),I=N.numericAxisName,M=N.cateAxisName,L=wJ(x),C=[];return x.forEach(function(D,B){var K=Vd(w.data,{graphicalItems:[D],dataStartIndex:O,dataEndIndex:j}),z=D.type.defaultProps!==void 0?F(F({},D.type.defaultProps),D.props):D.props,Y=z.dataKey,ee=z.maxBarSize,ue=z["".concat(I,"Id")],ke=z["".concat(M,"Id")],Je={},Ge=l.reduce(function(te,ie){var ge=g["".concat(ie.axisType,"Map")],xe=z["".concat(ie.axisType,"Id")];ge&&ge[xe]||ie.axisType==="zAxis"||Di();var $e=ge[xe];return F(F({},te),{},ne(ne({},ie.axisType,$e),"".concat(ie.axisType,"Ticks"),ar($e)))},Je),G=Ge[M],V=Ge["".concat(M,"Ticks")],Z=_&&_[ue]&&_[ue].hasStack&&qq(D,_[ue].stackGroups),U=lr(D.type).indexOf("Bar")>=0,oe=df(G,V),re=[],be=L&&$q({barSize:A,stackGroups:_,totalSize:SJ(Ge,M)});if(U){var we,Ze,Ct=ce(ee)?E:ee,q=(we=(Ze=df(G,V,!0))!==null&&Ze!==void 0?Ze:Ct)!==null&&we!==void 0?we:0;re=Eq({barGap:T,barCategoryGap:P,bandSize:q!==oe?q:oe,sizeList:be[ke],maxBarSize:Ct}),q!==oe&&(re=re.map(function(te){return F(F({},te),{},{position:F(F({},te.position),{},{offset:te.position.offset-q/2})})}))}var X=D&&D.type&&D.type.getComposedData;X&&C.push({props:F(F({},X(F(F({},Ge),{},{displayedData:K,props:w,dataKey:Y,item:D,bandSize:oe,barPosition:re,offset:v,stackedData:Z,layout:k,dataStartIndex:O,dataEndIndex:j}))),{},ne(ne(ne({key:D.key||"item-".concat(B)},I,Ge[I]),M,Ge[M]),"animationId",S)),childIndex:kM(D,w.children),item:D})}),C},p=function(w,g){var x=w.props,_=w.dataStartIndex,v=w.dataEndIndex,S=w.updateId;if(!Z0({props:x}))return null;var O=x.children,j=x.layout,A=x.stackOffset,k=x.data,T=x.reverseStackOrder,P=ES(j),E=P.numericAxisName,N=P.cateAxisName,I=cn(O,r),M=Uq(k,I,"".concat(E,"Id"),"".concat(N,"Id"),A,T),L=l.reduce(function(z,Y){var ee="".concat(Y.axisType,"Map");return F(F({},z),{},ne({},ee,vJ(x,F(F({},Y),{},{graphicalItems:I,stackGroups:Y.axisType===E&&M,dataStartIndex:_,dataEndIndex:v}))))},{}),C=xJ(F(F({},L),{},{props:x,graphicalItems:I}),g==null?void 0:g.legendBBox);Object.keys(L).forEach(function(z){L[z]=f(x,L[z],C,z.replace("Map",""),n)});var D=L["".concat(N,"Map")],B=bJ(D),K=d(x,F(F({},L),{},{dataStartIndex:_,dataEndIndex:v,updateId:S,graphicalItems:I,stackGroups:M,offset:C}));return F(F({formattedGraphicalItems:K,graphicalItems:I,offset:C,stackGroups:M},B),L)},y=function(b){function w(g){var x,_,v;return tJ(this,w),v=iJ(this,w,[g]),ne(v,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ne(v,"accessibilityManager",new zQ),ne(v,"handleLegendBBoxUpdate",function(S){if(S){var O=v.state,j=O.dataStartIndex,A=O.dataEndIndex,k=O.updateId;v.setState(F({legendBBox:S},p({props:v.props,dataStartIndex:j,dataEndIndex:A,updateId:k},F(F({},v.state),{},{legendBBox:S}))))}}),ne(v,"handleReceiveSyncEvent",function(S,O,j){if(v.props.syncId===S){if(j===v.eventEmitterSymbol&&typeof v.props.syncMethod!="function")return;v.applySyncEvent(O)}}),ne(v,"handleBrushChange",function(S){var O=S.startIndex,j=S.endIndex;if(O!==v.state.dataStartIndex||j!==v.state.dataEndIndex){var A=v.state.updateId;v.setState(function(){return F({dataStartIndex:O,dataEndIndex:j},p({props:v.props,dataStartIndex:O,dataEndIndex:j,updateId:A},v.state))}),v.triggerSyncEvent({dataStartIndex:O,dataEndIndex:j})}}),ne(v,"handleMouseEnter",function(S){var O=v.getMouseInfo(S);if(O){var j=F(F({},O),{},{isTooltipActive:!0});v.setState(j),v.triggerSyncEvent(j);var A=v.props.onMouseEnter;le(A)&&A(j,S)}}),ne(v,"triggeredAfterMouseMove",function(S){var O=v.getMouseInfo(S),j=O?F(F({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};v.setState(j),v.triggerSyncEvent(j);var A=v.props.onMouseMove;le(A)&&A(j,S)}),ne(v,"handleItemMouseEnter",function(S){v.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ne(v,"handleItemMouseLeave",function(){v.setState(function(){return{isTooltipActive:!1}})}),ne(v,"handleMouseMove",function(S){S.persist(),v.throttleTriggeredAfterMouseMove(S)}),ne(v,"handleMouseLeave",function(S){v.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};v.setState(O),v.triggerSyncEvent(O);var j=v.props.onMouseLeave;le(j)&&j(O,S)}),ne(v,"handleOuterEvent",function(S){var O=PM(S),j=un(v.props,"".concat(O));if(O&&le(j)){var A,k;/.*touch.*/i.test(O)?k=v.getMouseInfo(S.changedTouches[0]):k=v.getMouseInfo(S),j((A=k)!==null&&A!==void 0?A:{},S)}}),ne(v,"handleClick",function(S){var O=v.getMouseInfo(S);if(O){var j=F(F({},O),{},{isTooltipActive:!0});v.setState(j),v.triggerSyncEvent(j);var A=v.props.onClick;le(A)&&A(j,S)}}),ne(v,"handleMouseDown",function(S){var O=v.props.onMouseDown;if(le(O)){var j=v.getMouseInfo(S);O(j,S)}}),ne(v,"handleMouseUp",function(S){var O=v.props.onMouseUp;if(le(O)){var j=v.getMouseInfo(S);O(j,S)}}),ne(v,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ne(v,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.handleMouseDown(S.changedTouches[0])}),ne(v,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&v.handleMouseUp(S.changedTouches[0])}),ne(v,"handleDoubleClick",function(S){var O=v.props.onDoubleClick;if(le(O)){var j=v.getMouseInfo(S);O(j,S)}}),ne(v,"handleContextMenu",function(S){var O=v.props.onContextMenu;if(le(O)){var j=v.getMouseInfo(S);O(j,S)}}),ne(v,"triggerSyncEvent",function(S){v.props.syncId!==void 0&&ih.emit(ah,v.props.syncId,S,v.eventEmitterSymbol)}),ne(v,"applySyncEvent",function(S){var O=v.props,j=O.layout,A=O.syncMethod,k=v.state.updateId,T=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)v.setState(F({dataStartIndex:T,dataEndIndex:P},p({props:v.props,dataStartIndex:T,dataEndIndex:P,updateId:k},v.state)));else if(S.activeTooltipIndex!==void 0){var E=S.chartX,N=S.chartY,I=S.activeTooltipIndex,M=v.state,L=M.offset,C=M.tooltipTicks;if(!L)return;if(typeof A=="function")I=A(C,S);else if(A==="value"){I=-1;for(var D=0;D<C.length;D++)if(C[D].value===S.activeLabel){I=D;break}}var B=F(F({},L),{},{x:L.left,y:L.top}),K=Math.min(E,B.x+B.width),z=Math.min(N,B.y+B.height),Y=C[I]&&C[I].value,ee=qg(v.state,v.props.data,I),ue=C[I]?{x:j==="horizontal"?C[I].coordinate:K,y:j==="horizontal"?z:C[I].coordinate}:Jk;v.setState(F(F({},S),{},{activeLabel:Y,activeCoordinate:ue,activePayload:ee,activeTooltipIndex:I}))}else v.setState(S)}),ne(v,"renderCursor",function(S){var O,j=v.state,A=j.isTooltipActive,k=j.activeCoordinate,T=j.activePayload,P=j.offset,E=j.activeTooltipIndex,N=j.tooltipAxisBandSize,I=v.getTooltipEventType(),M=(O=S.props.active)!==null&&O!==void 0?O:A,L=v.props.layout,C=S.key||"_recharts-cursor";return R.createElement(GQ,{key:C,activeCoordinate:k,activePayload:T,activeTooltipIndex:E,chartName:n,element:S,isActive:M,layout:L,offset:P,tooltipAxisBandSize:N,tooltipEventType:I})}),ne(v,"renderPolarAxis",function(S,O,j){var A=un(S,"type.axisType"),k=un(v.state,"".concat(A,"Map")),T=S.type.defaultProps,P=T!==void 0?F(F({},T),S.props):S.props,E=k&&k[P["".concat(A,"Id")]];return $.cloneElement(S,F(F({},E),{},{className:me(A,E.className),key:S.key||"".concat(O,"-").concat(j),ticks:ar(E,!0)}))}),ne(v,"renderPolarGrid",function(S){var O=S.props,j=O.radialLines,A=O.polarAngles,k=O.polarRadius,T=v.state,P=T.radiusAxisMap,E=T.angleAxisMap,N=Nr(P),I=Nr(E),M=I.cx,L=I.cy,C=I.innerRadius,D=I.outerRadius;return $.cloneElement(S,{polarAngles:Array.isArray(A)?A:ar(I,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(k)?k:ar(N,!0).map(function(B){return B.coordinate}),cx:M,cy:L,innerRadius:C,outerRadius:D,key:S.key||"polar-grid",radialLines:j})}),ne(v,"renderLegend",function(){var S=v.state.formattedGraphicalItems,O=v.props,j=O.children,A=O.width,k=O.height,T=v.props.margin||{},P=A-(T.left||0)-(T.right||0),E=KP({children:j,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!E)return null;var N=E.item,I=AS(E,YQ);return $.cloneElement(N,F(F({},I),{},{chartWidth:A,chartHeight:k,margin:T,onBBoxUpdate:v.handleLegendBBoxUpdate}))}),ne(v,"renderTooltip",function(){var S,O=v.props,j=O.children,A=O.accessibilityLayer,k=qt(j,On);if(!k)return null;var T=v.state,P=T.isTooltipActive,E=T.activeCoordinate,N=T.activePayload,I=T.activeLabel,M=T.offset,L=(S=k.props.active)!==null&&S!==void 0?S:P;return $.cloneElement(k,{viewBox:F(F({},M),{},{x:M.left,y:M.top}),active:L,label:I,payload:L?N:[],coordinate:E,accessibilityLayer:A})}),ne(v,"renderBrush",function(S){var O=v.props,j=O.margin,A=O.data,k=v.state,T=k.offset,P=k.dataStartIndex,E=k.dataEndIndex,N=k.updateId;return $.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Au(v.handleBrushChange,S.props.onChange),data:A,x:H(S.props.x)?S.props.x:T.left,y:H(S.props.y)?S.props.y:T.top+T.height+T.brushBottom-(j.bottom||0),width:H(S.props.width)?S.props.width:T.width,startIndex:P,endIndex:E,updateId:"brush-".concat(N)})}),ne(v,"renderReferenceElement",function(S,O,j){if(!S)return null;var A=v,k=A.clipPathId,T=v.state,P=T.xAxisMap,E=T.yAxisMap,N=T.offset,I=S.type.defaultProps||{},M=S.props,L=M.xAxisId,C=L===void 0?I.xAxisId:L,D=M.yAxisId,B=D===void 0?I.yAxisId:D;return $.cloneElement(S,{key:S.key||"".concat(O,"-").concat(j),xAxis:P[C],yAxis:E[B],viewBox:{x:N.left,y:N.top,width:N.width,height:N.height},clipPathId:k})}),ne(v,"renderActivePoints",function(S){var O=S.item,j=S.activePoint,A=S.basePoint,k=S.childIndex,T=S.isRange,P=[],E=O.props.key,N=O.item.type.defaultProps!==void 0?F(F({},O.item.type.defaultProps),O.item.props):O.item.props,I=N.activeDot,M=N.dataKey,L=F(F({index:k,dataKey:M,cx:j.x,cy:j.y,r:4,fill:Qv(O.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},de(I,!1)),Lc(I));return P.push(w.renderActiveDot(I,L,"".concat(E,"-activePoint-").concat(k))),A?P.push(w.renderActiveDot(I,F(F({},L),{},{cx:A.x,cy:A.y}),"".concat(E,"-basePoint-").concat(k))):T&&P.push(null),P}),ne(v,"renderGraphicChild",function(S,O,j){var A=v.filterFormatItem(S,O,j);if(!A)return null;var k=v.getTooltipEventType(),T=v.state,P=T.isTooltipActive,E=T.tooltipAxis,N=T.activeTooltipIndex,I=T.activeLabel,M=v.props.children,L=qt(M,On),C=A.props,D=C.points,B=C.isRange,K=C.baseLine,z=A.item.type.defaultProps!==void 0?F(F({},A.item.type.defaultProps),A.item.props):A.item.props,Y=z.activeDot,ee=z.hide,ue=z.activeBar,ke=z.activeShape,Je=!!(!ee&&P&&L&&(Y||ue||ke)),Ge={};k!=="axis"&&L&&L.props.trigger==="click"?Ge={onClick:Au(v.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(Ge={onMouseLeave:Au(v.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Au(v.handleItemMouseEnter,S.props.onMouseEnter)});var G=$.cloneElement(S,F(F({},A.props),Ge));function V(ie){return typeof E.dataKey=="function"?E.dataKey(ie.payload):null}if(Je)if(N>=0){var Z,U;if(E.dataKey&&!E.allowDuplicatedCategory){var oe=typeof E.dataKey=="function"?V:"payload.".concat(E.dataKey.toString());Z=Mc(D,oe,I),U=B&&K&&Mc(K,oe,I)}else Z=D==null?void 0:D[N],U=B&&K&&K[N];if(ke||ue){var re=S.props.activeIndex!==void 0?S.props.activeIndex:N;return[$.cloneElement(S,F(F(F({},A.props),Ge),{},{activeIndex:re})),null,null]}if(!ce(Z))return[G].concat(po(v.renderActivePoints({item:A,activePoint:Z,basePoint:U,childIndex:N,isRange:B})))}else{var be,we=(be=v.getItemByXY(v.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:G},Ze=we.graphicalItem,Ct=Ze.item,q=Ct===void 0?S:Ct,X=Ze.childIndex,te=F(F(F({},A.props),Ge),{},{activeIndex:X});return[$.cloneElement(q,te),null,null]}return B?[G,null,null]:[G,null]}),ne(v,"renderCustomized",function(S,O,j){return $.cloneElement(S,F(F({key:"recharts-customized-".concat(j)},v.props),v.state))}),ne(v,"renderMap",{CartesianGrid:{handler:Tu,once:!0},ReferenceArea:{handler:v.renderReferenceElement},ReferenceLine:{handler:Tu},ReferenceDot:{handler:v.renderReferenceElement},XAxis:{handler:Tu},YAxis:{handler:Tu},Brush:{handler:v.renderBrush,once:!0},Bar:{handler:v.renderGraphicChild},Line:{handler:v.renderGraphicChild},Area:{handler:v.renderGraphicChild},Radar:{handler:v.renderGraphicChild},RadialBar:{handler:v.renderGraphicChild},Scatter:{handler:v.renderGraphicChild},Pie:{handler:v.renderGraphicChild},Funnel:{handler:v.renderGraphicChild},Tooltip:{handler:v.renderCursor,once:!0},PolarGrid:{handler:v.renderPolarGrid,once:!0},PolarAngleAxis:{handler:v.renderPolarAxis},PolarRadiusAxis:{handler:v.renderPolarAxis},Customized:{handler:v.renderCustomized}}),v.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:Fl("recharts"),"-clip"),v.throttleTriggeredAfterMouseMove=zA(v.triggeredAfterMouseMove,(_=g.throttleDelay)!==null&&_!==void 0?_:1e3/60),v.state={},v}return sJ(w,b),rJ(w,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,v=x.data,S=x.height,O=x.layout,j=qt(_,On);if(j){var A=j.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,T=qg(this.state,v,A,k),P=this.state.tooltipTicks[A].coordinate,E=(this.state.offset.top+S)/2,N=O==="horizontal",I=N?{x:P,y:E}:{y:P,x:E},M=this.state.formattedGraphicalItems.find(function(C){var D=C.item;return D.type.name==="Scatter"});M&&(I=F(F({},I),M.props.points[A].tooltipPosition),T=M.props.points[A].tooltipPayload);var L={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:k,activePayload:T,activeCoordinate:I};this.setState(L),this.renderCursor(j),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var v,S;this.accessibilityManager.setDetails({offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){_m([qt(x.children,On)],[qt(this.props.children,On)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=qt(this.props.children,On);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return s.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,v=_.getBoundingClientRect(),S=e5(v),O={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},j=v.width/_.offsetWidth||1,A=this.inRange(O.chartX,O.chartY,j);if(!A)return null;var k=this.state,T=k.xAxisMap,P=k.yAxisMap,E=this.getTooltipEventType(),N=kS(this.state,this.props.data,this.props.layout,A);if(E!=="axis"&&T&&P){var I=Nr(T).scale,M=Nr(P).scale,L=I&&I.invert?I.invert(O.chartX):null,C=M&&M.invert?M.invert(O.chartY):null;return F(F({},O),{},{xValue:L,yValue:C},N)}return N?F(F({},O),N):null}},{key:"inRange",value:function(x,_){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,O=x/v,j=_/v;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,k=O>=A.left&&O<=A.left+A.width&&j>=A.top&&j<=A.top+A.height;return k?{x:O,y:j}:null}var T=this.state,P=T.angleAxisMap,E=T.radiusAxisMap;if(P&&E){var N=Nr(P);return u1({x:O,y:j},N)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),v=qt(x,On),S={};v&&_==="axis"&&(v.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Lc(this.props,this.handleOuterEvent);return F(F({},O),S)}},{key:"addListener",value:function(){ih.on(ah,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ih.removeListener(ah,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,v){for(var S=this.state.formattedGraphicalItems,O=0,j=S.length;O<j;O++){var A=S[O];if(A.item===x||A.props.key===x.key||_===lr(A.item.type)&&v===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,v=_.left,S=_.top,O=_.height,j=_.width;return R.createElement("defs",null,R.createElement("clipPath",{id:x},R.createElement("rect",{x:v,y:S,height:O,width:j})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,v){var S=jS(v,2),O=S[0],j=S[1];return F(F({},_),{},ne({},O,j.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,v){var S=jS(v,2),O=S[0],j=S[1];return F(F({},_),{},ne({},O,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,v=_.formattedGraphicalItems,S=_.activeItem;if(v&&v.length)for(var O=0,j=v.length;O<j;O++){var A=v[O],k=A.props,T=A.item,P=T.type.defaultProps!==void 0?F(F({},T.type.defaultProps),T.props):T.props,E=lr(T.type);if(E==="Bar"){var N=(k.data||[]).find(function(C){return D9(x,C)});if(N)return{graphicalItem:A,payload:N}}else if(E==="RadialBar"){var I=(k.data||[]).find(function(C){return u1(x,C)});if(I)return{graphicalItem:A,payload:I}}else if(Dd(A,S)||Rd(A,S)||wl(A,S)){var M=F7({graphicalItem:A,activeTooltipItem:S,itemData:P.data}),L=P.activeIndex===void 0?M:P.activeIndex;return{graphicalItem:F(F({},A),{},{childIndex:L}),payload:wl(A,S)?P.data[M]:A.props.data[M]}}}return null}},{key:"render",value:function(){var x=this;if(!Z0(this))return null;var _=this.props,v=_.children,S=_.className,O=_.width,j=_.height,A=_.style,k=_.compact,T=_.title,P=_.desc,E=AS(_,XQ),N=de(E,!1);if(k)return R.createElement(sS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(jm,wa({},N,{width:O,height:j,title:T,desc:P}),this.renderClipPath(),tw(v,this.renderMap)));if(this.props.accessibilityLayer){var I,M;N.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,N.role=(M=this.props.role)!==null&&M!==void 0?M:"application",N.onKeyDown=function(C){x.accessibilityManager.keyboardEvent(C)},N.onFocus=function(){x.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return R.createElement(sS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",wa({className:me("recharts-wrapper",S),style:F({position:"relative",cursor:"default",width:O,height:j},A)},L,{ref:function(D){x.container=D}}),R.createElement(jm,wa({},N,{width:O,height:j,title:T,desc:P,style:pJ}),this.renderClipPath(),tw(v,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ne(y,"displayName",n),ne(y,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),ne(y,"getDerivedStateFromProps",function(b,w){var g=b.dataKey,x=b.data,_=b.children,v=b.width,S=b.height,O=b.layout,j=b.stackOffset,A=b.margin,k=w.dataStartIndex,T=w.dataEndIndex;if(w.updateId===void 0){var P=$S(b);return F(F(F({},P),{},{updateId:0},p(F(F({props:b},P),{},{updateId:0}),w)),{},{prevDataKey:g,prevData:x,prevWidth:v,prevHeight:S,prevLayout:O,prevStackOffset:j,prevMargin:A,prevChildren:_})}if(g!==w.prevDataKey||x!==w.prevData||v!==w.prevWidth||S!==w.prevHeight||O!==w.prevLayout||j!==w.prevStackOffset||!Ca(A,w.prevMargin)){var E=$S(b),N={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},I=F(F({},kS(w,x,O)),{},{updateId:w.updateId+1}),M=F(F(F({},E),N),I);return F(F(F({},M),p(F({props:b},M),w)),{},{prevDataKey:g,prevData:x,prevWidth:v,prevHeight:S,prevLayout:O,prevStackOffset:j,prevMargin:A,prevChildren:_})}if(!_m(_,w.prevChildren)){var L,C,D,B,K=qt(_,Ri),z=K&&(L=(C=K.props)===null||C===void 0?void 0:C.startIndex)!==null&&L!==void 0?L:k,Y=K&&(D=(B=K.props)===null||B===void 0?void 0:B.endIndex)!==null&&D!==void 0?D:T,ee=z!==k||Y!==T,ue=!ce(x),ke=ue&&!ee?w.updateId:w.updateId+1;return F(F({updateId:ke},p(F(F({props:b},w),{},{updateId:ke,dataStartIndex:z,dataEndIndex:Y}),w)),{},{prevChildren:_,dataStartIndex:z,dataEndIndex:Y})}return null}),ne(y,"renderActiveDot",function(b,w,g){var x;return $.isValidElement(b)?x=$.cloneElement(b,w):le(b)?x=b(w):x=R.createElement(Zv,w),R.createElement(He,{className:"recharts-active-dot",key:g},x)});var m=$.forwardRef(function(w,g){return R.createElement(y,wa({},w,{ref:g}))});return m.displayName=y.displayName,m},e$=_J({chartName:"LineChart",GraphicalChild:No,axisComponents:[{axisType:"xAxis",AxisComp:Gl},{axisType:"yAxis",AxisComp:Yl}],formatAxisMap:fY});const TS=["#38bdf8","#22c55e","#f97316","#a855f7","#eab308","#ec4899"];function OJ(e){return String(e||"").normalize("NFD").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-").toLowerCase()}function NS(e,t="$"){return`${(Number.isFinite(Number(e))?Number(e):0).toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${t}`.trim()}function jJ(e,t="$"){const n=Number.isFinite(Number(e))?Number(e):0;return`${n>=0?"+":"-"}${Math.abs(n).toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${t}`.trim()}function di(e){const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}function AJ(e=[]){const t=new Map,n=[];return e.forEach((i,a)=>{if(!i||typeof i!="object")return;const o=i.name||`Portfolio ${a+1}`,s=o,l=TS[a%TS.length],u=i.owner||null,f=i.currency||"$";n.push({key:s,label:o,owner:u,color:l,slug:OJ(o),currency:f}),(i.series||[]).forEach(c=>{if(!c||typeof c!="object")return;const d=c.timestamp,p=Number(c.value??c.balance??0),y=c.pnl,m=new Date(d);if(Number.isNaN(m.getTime()))return;const b=m.toISOString(),w=t.get(b)||{timestamp:b,timestampValue:m.getTime(),label:di(m)};w[s]=p,typeof y=="number"&&(w[`${s}__pnl`]=y),t.set(b,w)})}),{data:Array.from(t.values()).sort((i,a)=>i.timestampValue-a.timestampValue),seriesMeta:n}}function PJ({history:e=[],currency:t="$"}){const{data:n,seriesMeta:r}=$.useMemo(()=>AJ(e),[e]),i=$.useRef(null),[a,o]=$.useState([]),[s,l]=$.useState({startIndex:0,endIndex:0}),[u,f]=$.useState(null),[c,d]=$.useState(!1),p=$.useMemo(()=>{if(!Array.isArray(e))return t;const P=e.find(E=>E&&E.currency);return(P==null?void 0:P.currency)||t},[e,t]);if($.useEffect(()=>{const P=r.map(E=>E.key);o(E=>{if(!E.length)return P;const N=new Set(P),I=E.filter(M=>N.has(M));return I.length?I:P})},[r]),$.useEffect(()=>{if(!n.length){l({startIndex:0,endIndex:0}),f(null);return}l({startIndex:0,endIndex:n.length-1}),f([n[0].timestampValue,n[n.length-1].timestampValue])},[n]),!r.length||!n.length)return h.jsx("div",{className:"chart-container__status",role:"status",children:"Données historiques indisponibles pour le moment."});const y=$.useMemo(()=>r.filter(P=>a.includes(P.key)),[r,a]),m=$.useMemo(()=>{if(!u||u.length!==2)return n;const[P,E]=u;return n.filter(N=>{const I=N.timestampValue;return I>=P&&I<=E})},[n,u]),b=({active:P,payload:E,label:N})=>{var M,L;if(!P||!(E!=null&&E.length))return null;const I=typeof N=="number"?di(N):((L=(M=E[0])==null?void 0:M.payload)==null?void 0:L.label)||String(N);return h.jsxs("div",{className:"chart-tooltip",children:[h.jsx("p",{className:"chart-tooltip__title",children:I}),h.jsx("ul",{className:"chart-tooltip__list",children:E.map(C=>{var K;const D=r.find(z=>z.key===C.dataKey),B=(K=C.payload)==null?void 0:K[`${C.dataKey}__pnl`];return h.jsxs("li",{className:"chart-tooltip__item",children:[h.jsxs("span",{className:"chart-tooltip__label",children:[h.jsx("span",{"aria-hidden":"true",style:{display:"inline-block",width:"0.75rem",height:"0.75rem",borderRadius:"9999px",backgroundColor:C.color||(D==null?void 0:D.color)||"#38bdf8"}}),(D==null?void 0:D.label)||C.name||C.dataKey,D!=null&&D.owner?` · ${D.owner}`:""]}),h.jsxs("span",{className:"chart-tooltip__value",children:[NS(C.value,p),typeof B=="number"?` (${jJ(B,p)})`:""]})]},C.dataKey)})})]})},w=$.useCallback(P=>{o(E=>E.includes(P)?E.length===1?E:E.filter(N=>N!==P):[...E,P])},[]),g=$.useCallback(P=>{P&&P.dataKey&&w(P.dataKey)},[w]),x=$.useCallback(P=>{P&&l(E=>{const N=n.length-1,I=Math.max(0,Math.min(N,P.startIndex??E.startIndex)),M=Math.max(I,Math.min(N,P.endIndex??E.endIndex)),L=n[I],C=n[M];return L&&C&&f([L.timestampValue,C.timestampValue]),{startIndex:I,endIndex:M}})},[n]),_=$.useCallback(P=>{!P||typeof P.startIndex!="number"||typeof P.endIndex!="number"||x({startIndex:P.startIndex,endIndex:P.endIndex})},[x]),v=$.useCallback(P=>{const E=Number.parseInt(P.target.value,10);x({startIndex:Number.isNaN(E)?0:E})},[x]),S=$.useCallback(P=>{const E=Number.parseInt(P.target.value,10);x({endIndex:Number.isNaN(E)?n.length-1:E})},[x,n.length]),O=$.useCallback(()=>{n.length&&(l({startIndex:0,endIndex:n.length-1}),f([n[0].timestampValue,n[n.length-1].timestampValue]))},[n]),j=$.useMemo(()=>{if(!n.length)return"Aucune donnée";const P=n[s.startIndex],E=n[s.endIndex];if(!P||!E)return"Affichage complet";const N=n[0].timestamp===P.timestamp&&n[n.length-1].timestamp===E.timestamp,I=di(P.timestampValue),M=di(E.timestampValue);return N?"Affichage complet":`Zoom : ${I} → ${M}`},[n,s]),A=$.useCallback(()=>{if(!y.length||!m.length)return;const P=["Date",...y.map(D=>D.label)],E=m.map(D=>[D.label,...y.map(B=>{const K=D[B.key];return Number.isFinite(K)?K:""})]),N=D=>{if(typeof D=="number")return D.toString();const B=String(D??"");return B.includes(";")||B.includes('"')?`"${B.replace(/"/g,'""')}"`:B},I=[P,...E].map(D=>D.map(N).join(";")).join(`
`),M=new Blob([I],{type:"text/csv;charset=utf-8"}),L=URL.createObjectURL(M),C=document.createElement("a");C.href=L,C.download=`portfolios-${new Date().toISOString().slice(0,19).replace(/[T:]/g,"-")}.csv`,document.body.appendChild(C),C.click(),C.remove(),setTimeout(()=>URL.revokeObjectURL(L),0)},[y,m]),k=$.useCallback(P=>new Promise((E,N)=>{const I=P==null?void 0:P.querySelector("svg");if(!I){N(new Error("SVG introuvable"));return}const M=I.cloneNode(!0);M.getAttribute("xmlns")||M.setAttribute("xmlns","http://www.w3.org/2000/svg");const C=new XMLSerializer().serializeToString(M),D=Number.parseFloat(M.getAttribute("width"))||I.clientWidth||800,B=Number.parseFloat(M.getAttribute("height"))||I.clientHeight||320,K=new Blob([C],{type:"image/svg+xml;charset=utf-8"}),z=URL.createObjectURL(K),Y=new Image;Y.onload=()=>{try{const ee=document.createElement("canvas");ee.width=D,ee.height=B;const ue=ee.getContext("2d");if(!ue)throw new Error("Canvas context non disponible");ue.fillStyle="#0f172a",ue.fillRect(0,0,ee.width,ee.height),ue.drawImage(Y,0,0,D,B),URL.revokeObjectURL(z),E(ee.toDataURL("image/png"))}catch(ee){URL.revokeObjectURL(z),N(ee)}},Y.onerror=ee=>{URL.revokeObjectURL(z),N(ee instanceof ErrorEvent?ee.error:new Error("Export PNG impossible"))},Y.src=z}),[]),T=$.useCallback(async()=>{if(i.current)try{d(!0);const P=await k(i.current),E=document.createElement("a");E.href=P,E.download=`portfolios-${new Date().toISOString().slice(0,19).replace(/[T:]/g,"-")}.png`,document.body.appendChild(E),E.click(),E.remove()}catch(P){console.error("Impossible d'exporter le graphique en PNG",P)}finally{d(!1)}},[k]);return h.jsxs("div",{className:"portfolio-chart",ref:i,children:[h.jsxs("div",{className:"chart-toolbar",role:"group","aria-label":"Options du graphique des portefeuilles",children:[h.jsx("div",{className:"chart-toolbar__group chart-toolbar__series",role:"group","aria-label":"Sélection de portefeuilles",children:r.map(P=>{const E=`portfolio-toggle-${P.slug}`;return h.jsxs("label",{className:"chart-toolbar__checkbox",htmlFor:E,children:[h.jsx("input",{id:E,type:"checkbox",checked:a.includes(P.key),onChange:()=>w(P.key)}),h.jsx("span",{className:"chart-toolbar__swatch","aria-hidden":"true",style:{backgroundColor:P.color}}),h.jsx("span",{children:P.owner?`${P.label} · ${P.owner}`:P.label})]},P.key)})}),h.jsxs("div",{className:"chart-toolbar__actions",children:[h.jsx("div",{className:"chart-toolbar__zoom",role:"status","aria-live":"polite",children:j}),h.jsxs("div",{className:"chart-toolbar__sliders",role:"group","aria-label":"Contrôle du zoom",children:[h.jsxs("label",{className:"chart-toolbar__slider",children:[h.jsx("span",{children:"Début"}),h.jsx("input",{type:"range",min:"0",max:Math.max(s.endIndex,0),value:s.startIndex,onInput:v,onChange:v,"aria-label":"Début du zoom"})]}),h.jsxs("label",{className:"chart-toolbar__slider",children:[h.jsx("span",{children:"Fin"}),h.jsx("input",{type:"range",min:s.startIndex,max:Math.max(n.length-1,s.startIndex),value:s.endIndex,onInput:S,onChange:S,"aria-label":"Fin du zoom"})]}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:O,children:"Réinitialiser le zoom"})]}),h.jsxs("div",{className:"chart-toolbar__downloads",role:"group","aria-label":"Exports du graphique",children:[h.jsx("button",{type:"button",className:"button button--secondary",onClick:A,disabled:!y.length||!m.length,children:"Exporter CSV"}),h.jsx("button",{type:"button",className:"button button--secondary",onClick:T,disabled:c,children:c?"Export PNG…":"Exporter PNG"})]})]})]}),h.jsx(UA,{width:"100%",height:320,debounce:200,children:h.jsxs(e$,{data:n,margin:{top:20,right:24,left:12,bottom:12},children:[h.jsx(ub,{stroke:"#1f2a4d",strokeDasharray:"4 8"}),h.jsx(Gl,{dataKey:"timestampValue",type:"number",domain:u||["auto","auto"],tick:{fill:"#cbd5f5",fontSize:12},axisLine:{stroke:"#334155"},tickLine:!1,tickFormatter:P=>di(P)}),h.jsx(Yl,{tickFormatter:P=>NS(P,p),tick:{fill:"#cbd5f5",fontSize:12},axisLine:{stroke:"#334155"},tickLine:!1,width:120}),h.jsx(On,{content:b,cursor:{stroke:"#475569",strokeWidth:1},labelFormatter:P=>di(P)}),h.jsx(ji,{verticalAlign:"top",align:"right",wrapperStyle:{color:"#cbd5f5"},onClick:g,formatter:(P,E)=>{const N=r.find(I=>I.key===E.dataKey);return N?N.owner?`${N.label} · ${N.owner}`:N.label:E.value}}),h.jsx(Ri,{dataKey:"timestampValue",startIndex:s.startIndex,endIndex:s.endIndex,onChange:_,travellerWidth:12,height:24,stroke:"#38bdf8",tickFormatter:P=>di(P)}),r.map(P=>h.jsx(No,{type:"monotone",dataKey:P.key,name:P.label,stroke:P.color,strokeWidth:2,dot:!1,isAnimationActive:!1,className:`portfolio-line portfolio-line--${P.slug}`,legendType:"circle",hide:!a.includes(P.key)},P.key))]})})]})}const kJ=[{type:"email",target:"",enabled:!1},{type:"push",target:"",enabled:!1},{type:"webhook",target:"",enabled:!1}];function Nu(){return{title:"",detail:"",risk:"info",acknowledged:!1,rule:{symbol:"",timeframe:"",conditions:{pnl:{enabled:!1,operator:"below",value:""},drawdown:{enabled:!1,operator:"above",value:""},indicators:[]}},channels:kJ.map(e=>({...e})),throttle_minutes:0}}const $J=[{value:"info",label:"Information"},{value:"warning",label:"Avertissement"},{value:"critical",label:"Critique"}];function EJ({mode:e,initialAlert:t,onSubmit:n,onCancel:r,submitting:i,error:a}){const[o,s]=$.useState(()=>{const g=Nu();return t?{...g,...l(t)}:g});$.useEffect(()=>{s(()=>{const g=Nu();return t?{...g,...l(t)}:g})},[t,e]);function l(g){var j,A,k,T,P,E,N,I,M;if(!g)return Nu();const x=typeof g.risk=="string"?g.risk:((j=g.risk)==null?void 0:j.value)||"info",_=Nu(),v=g.rule&&typeof g.rule=="object"?g.rule:_.rule,S=v.conditions||_.rule.conditions,O=Array.isArray(g.channels)?g.channels.map(L=>({type:(L==null?void 0:L.type)||"email",target:(L==null?void 0:L.target)||"",enabled:(L==null?void 0:L.enabled)!==void 0?!!L.enabled:!0})):_.channels;return{title:g.title||"",detail:g.detail||"",risk:x,acknowledged:!!g.acknowledged,rule:{symbol:v.symbol||g.symbol||"",timeframe:v.timeframe||"",conditions:{pnl:{enabled:!!((A=S==null?void 0:S.pnl)!=null&&A.enabled),operator:((k=S==null?void 0:S.pnl)==null?void 0:k.operator)||"below",value:((T=S==null?void 0:S.pnl)==null?void 0:T.value)!==void 0&&((P=S==null?void 0:S.pnl)==null?void 0:P.value)!==null?String(S.pnl.value):""},drawdown:{enabled:!!((E=S==null?void 0:S.drawdown)!=null&&E.enabled),operator:((N=S==null?void 0:S.drawdown)==null?void 0:N.operator)||"above",value:((I=S==null?void 0:S.drawdown)==null?void 0:I.value)!==void 0&&((M=S==null?void 0:S.drawdown)==null?void 0:M.value)!==null?String(S.drawdown.value):""},indicators:Array.isArray(S==null?void 0:S.indicators)?S.indicators.map((L,C)=>({id:L.id||`indicator-${C}`,name:L.name||"RSI",operator:L.operator||"above",value:L.value!==void 0&&L.value!==null?String(L.value):"",lookback:L.lookback!==void 0&&L.lookback!==null?String(L.lookback):"",enabled:L.enabled!==void 0?!!L.enabled:!0})):[]}},channels:O,throttle_minutes:Math.max(0,Math.round(Number(g.throttle_seconds||g.throttleMinutes||0)/60))}}function u(g){const{name:x,value:_,type:v,checked:S}=g.target;s(O=>({...O,[x]:v==="checkbox"?S:_}))}function f(g,x){s(_=>({..._,rule:{..._.rule,[g]:x}}))}function c(g,x,_){s(v=>({...v,rule:{...v.rule,conditions:{...v.rule.conditions,[g]:{...v.rule.conditions[g],[x]:x==="enabled"?!!_:_}}}}))}function d(g,x,_){s(v=>{const O=(v.rule.conditions.indicators||[]).map((j,A)=>A!==g?j:{...j,[x]:x==="enabled"?!!_:_});return{...v,rule:{...v.rule,conditions:{...v.rule.conditions,indicators:O}}}})}function p(){s(g=>({...g,rule:{...g.rule,conditions:{...g.rule.conditions,indicators:[...g.rule.conditions.indicators,{id:`indicator-${Math.random().toString(36).slice(2)}`,name:"RSI",operator:"below",value:"30",lookback:"14",enabled:!0}]}}}))}function y(g){s(x=>({...x,rule:{...x.rule,conditions:{...x.rule.conditions,indicators:x.rule.conditions.indicators.filter((_,v)=>v!==g)}}}))}function m(g,x,_){s(v=>({...v,channels:v.channels.map((S,O)=>O===g?{...S,[x]:x==="enabled"?!!_:_}:S)}))}function b(g){const x=Math.max(0,Number.isNaN(Number(g))?0:Number(g));s(_=>({..._,throttle_minutes:x}))}function w(g){if(g.preventDefault(),!o.title.trim()||!o.detail.trim())return;const x=(o.rule.conditions.indicators||[]).map(v=>({id:v.id||`indicator-${Math.random().toString(36).slice(2)}`,name:v.name||"RSI",operator:v.operator||"below",value:v.value!==""&&v.value!==null?Number(v.value):0,lookback:v.lookback!==""&&v.lookback!==null?Number(v.lookback):null,enabled:v.enabled!==void 0?!!v.enabled:!0})),_={title:o.title.trim(),detail:o.detail.trim(),risk:o.risk,acknowledged:!!o.acknowledged,rule:{symbol:o.rule.symbol.trim(),timeframe:o.rule.timeframe?o.rule.timeframe.trim():null,conditions:{pnl:{enabled:!!o.rule.conditions.pnl.enabled,operator:o.rule.conditions.pnl.operator||"below",value:o.rule.conditions.pnl.value!==""&&o.rule.conditions.pnl.value!==null?Number(o.rule.conditions.pnl.value):null},drawdown:{enabled:!!o.rule.conditions.drawdown.enabled,operator:o.rule.conditions.drawdown.operator||"above",value:o.rule.conditions.drawdown.value!==""&&o.rule.conditions.drawdown.value!==null?Number(o.rule.conditions.drawdown.value):null},indicators:x}},channels:o.channels.map(v=>({type:v.type,target:v.target?v.target.trim():null,enabled:!!v.enabled})),throttle_seconds:Math.max(0,Math.round(Number(o.throttle_minutes)*60))};_.rule.symbol&&(n==null||n({..._}))}return h.jsx("form",{className:"alerts-form",onSubmit:w,children:h.jsxs("fieldset",{className:"alerts-form__fieldset",disabled:i,children:[h.jsx("legend",{className:"sr-only",children:e==="edit"?"Modifier l'alerte":"Créer une alerte"}),h.jsxs("div",{className:"alerts-form__field",children:[h.jsx("label",{htmlFor:"alert-title",children:"Titre"}),h.jsx("input",{id:"alert-title",name:"title",type:"text",value:o.title,onChange:u,required:!0,placeholder:"Synthèse de l'alerte"})]}),h.jsxs("div",{className:"alerts-form__field",children:[h.jsx("label",{htmlFor:"alert-detail",children:"Description"}),h.jsx("textarea",{id:"alert-detail",name:"detail",rows:3,value:o.detail,onChange:u,required:!0,placeholder:"Détails permettant d'agir"})]}),h.jsxs("div",{className:"alerts-form__row",children:[h.jsxs("div",{className:"alerts-form__field",children:[h.jsx("label",{htmlFor:"alert-risk",children:"Niveau de risque"}),h.jsx("select",{id:"alert-risk",name:"risk",value:o.risk,onChange:u,children:$J.map(g=>h.jsx("option",{value:g.value,children:g.label},g.value))})]}),h.jsx("div",{className:"alerts-form__checkbox",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",name:"acknowledged",checked:o.acknowledged,onChange:u}),h.jsx("span",{children:"Accusée"})]})})]}),h.jsxs("fieldset",{className:"alerts-form__group",children:[h.jsx("legend",{children:"Définition de la règle"}),h.jsxs("div",{className:"alerts-form__field",children:[h.jsx("label",{htmlFor:"alert-symbol",children:"Symbole surveillé"}),h.jsx("input",{id:"alert-symbol",name:"rule.symbol",type:"text",value:o.rule.symbol,onChange:g=>f("symbol",g.target.value),required:!0,placeholder:"ex: BTCUSDT"})]}),h.jsxs("div",{className:"alerts-form__field",children:[h.jsx("label",{htmlFor:"alert-timeframe",children:"Période (optionnelle)"}),h.jsx("input",{id:"alert-timeframe",name:"rule.timeframe",type:"text",value:o.rule.timeframe,onChange:g=>f("timeframe",g.target.value),placeholder:"ex: 1h"})]}),h.jsxs("div",{className:"alerts-form__conditions",children:[h.jsx("h4",{className:"heading heading--sm",children:"Conditions de performance"}),h.jsxs("div",{className:"alerts-form__row",children:[h.jsxs("label",{className:"alerts-form__checkbox",children:[h.jsx("input",{type:"checkbox",checked:o.rule.conditions.pnl.enabled,onChange:g=>c("pnl","enabled",g.target.checked)}),h.jsx("span",{children:"Activer P&L"})]}),h.jsxs("select",{value:o.rule.conditions.pnl.operator,onChange:g=>c("pnl","operator",g.target.value),disabled:!o.rule.conditions.pnl.enabled,children:[h.jsx("option",{value:"above",children:"Supérieur ou égal"}),h.jsx("option",{value:"below",children:"Inférieur ou égal"})]}),h.jsx("input",{type:"number",step:"0.01",value:o.rule.conditions.pnl.value,onChange:g=>c("pnl","value",g.target.value),placeholder:"Seuil P&L",disabled:!o.rule.conditions.pnl.enabled})]}),h.jsxs("div",{className:"alerts-form__row",children:[h.jsxs("label",{className:"alerts-form__checkbox",children:[h.jsx("input",{type:"checkbox",checked:o.rule.conditions.drawdown.enabled,onChange:g=>c("drawdown","enabled",g.target.checked)}),h.jsx("span",{children:"Activer drawdown"})]}),h.jsxs("select",{value:o.rule.conditions.drawdown.operator,onChange:g=>c("drawdown","operator",g.target.value),disabled:!o.rule.conditions.drawdown.enabled,children:[h.jsx("option",{value:"above",children:"Supérieur ou égal"}),h.jsx("option",{value:"below",children:"Inférieur ou égal"})]}),h.jsx("input",{type:"number",step:"0.01",value:o.rule.conditions.drawdown.value,onChange:g=>c("drawdown","value",g.target.value),placeholder:"Seuil drawdown",disabled:!o.rule.conditions.drawdown.enabled})]})]}),h.jsxs("div",{className:"alerts-form__indicators",children:[h.jsxs("div",{className:"alerts-form__indicators-header",children:[h.jsx("h4",{className:"heading heading--sm",children:"Indicateurs techniques"}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:p,children:"Ajouter un indicateur"})]}),o.rule.conditions.indicators.length===0?h.jsx("p",{className:"text text--muted",children:"Aucun indicateur configuré."}):h.jsx("ul",{className:"alerts-form__indicator-list",children:o.rule.conditions.indicators.map((g,x)=>h.jsx("li",{className:"alerts-form__indicator-item",children:h.jsxs("div",{className:"alerts-form__row",children:[h.jsxs("label",{className:"alerts-form__checkbox",children:[h.jsx("input",{type:"checkbox",checked:g.enabled!==!1,onChange:_=>d(x,"enabled",_.target.checked)}),h.jsx("span",{children:"Actif"})]}),h.jsx("input",{type:"text",value:g.name,onChange:_=>d(x,"name",_.target.value),placeholder:"RSI"}),h.jsxs("select",{value:g.operator,onChange:_=>d(x,"operator",_.target.value),children:[h.jsx("option",{value:"above",children:"Supérieur ou égal"}),h.jsx("option",{value:"below",children:"Inférieur ou égal"})]}),h.jsx("input",{type:"number",step:"0.01",value:g.value,onChange:_=>d(x,"value",_.target.value),placeholder:"Valeur"}),h.jsx("input",{type:"number",step:"1",value:g.lookback,onChange:_=>d(x,"lookback",_.target.value),placeholder:"Période"}),h.jsx("button",{type:"button",className:"button button--danger",onClick:()=>y(x),children:"Retirer"})]})},g.id||x))})]})]}),h.jsxs("fieldset",{className:"alerts-form__group",children:[h.jsx("legend",{children:"Canaux de notification"}),o.channels.map((g,x)=>h.jsxs("div",{className:"alerts-form__row",children:[h.jsxs("label",{className:"alerts-form__checkbox",children:[h.jsx("input",{type:"checkbox",checked:g.enabled,onChange:_=>m(x,"enabled",_.target.checked)}),h.jsx("span",{children:g.type==="webhook"?"Webhook":g.type==="push"?"Push":"Email"})]}),h.jsx("input",{type:"text",value:g.target,onChange:_=>m(x,"target",_.target.value),placeholder:g.type==="webhook"?"https://example.com/webhook":g.type==="push"?"Identifiant de device":"destinataire@domaine.com"})]},g.type))]}),h.jsxs("div",{className:"alerts-form__field",children:[h.jsx("label",{htmlFor:"alert-throttle",children:"Fréquence minimale entre deux notifications (minutes)"}),h.jsx("input",{id:"alert-throttle",type:"number",min:"0",step:"1",value:o.throttle_minutes,onChange:g=>b(g.target.value)})]}),a?h.jsx("p",{className:"alerts-form__error",role:"alert",children:a}):null,h.jsxs("div",{className:"alerts-form__actions",children:[h.jsx("button",{type:"submit",className:"button button--primary",children:e==="edit"?"Mettre à jour":"Créer"}),e==="edit"?h.jsx("button",{type:"button",className:"button button--secondary",onClick:r,children:"Annuler"}):null]})]})})}const CS={info:{label:"Information",className:"badge--info"},warning:{label:"Avertissement",className:"badge--warning"},critical:{label:"Critique",className:"badge--critical"}};function TJ(e){if(!e)return"";const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function NJ({alerts:e,onEdit:t,onDelete:n,loading:r,pendingId:i}){return h.jsxs("div",{className:"alerts-table",children:[h.jsxs("div",{className:"alerts-table__header",children:[h.jsx("h3",{className:"heading heading--md",children:"Alertes actives"}),h.jsx("p",{className:"text text--muted",children:"Suivez les signaux générés par le moteur d'alertes."})]}),h.jsx("div",{className:"alerts-table__content",role:"region","aria-live":"polite",children:h.jsxs("table",{className:"table alerts-table__grid",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:"Titre"}),h.jsx("th",{scope:"col",children:"Risque"}),h.jsx("th",{scope:"col",children:"Statut"}),h.jsx("th",{scope:"col",children:"Créée"}),h.jsx("th",{scope:"col",children:"Actions"})]})}),h.jsx("tbody",{children:e.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,children:h.jsx("p",{className:"text text--muted",children:r?"Chargement des alertes…":"Aucune alerte enregistrée pour le moment."})})}):e.map(a=>{var l;const o=typeof a.risk=="string"?a.risk:((l=a.risk)==null?void 0:l.value)||"info",s=CS[o]||CS.info;return h.jsxs("tr",{children:[h.jsxs("td",{"data-label":"Titre",children:[h.jsx("div",{className:"alerts-table__title",children:a.title}),h.jsx("p",{className:"alerts-table__detail",children:a.detail})]}),h.jsx("td",{"data-label":"Risque",children:h.jsx("span",{className:`badge ${s.className}`,children:s.label})}),h.jsx("td",{"data-label":"Statut",children:h.jsx("span",{className:`badge ${a.acknowledged?"badge--neutral":"badge--info"}`,children:a.acknowledged?"Accusée":"À traiter"})}),h.jsx("td",{"data-label":"Créée",children:TJ(a.created_at||a.createdAt)}),h.jsxs("td",{"data-label":"Actions",className:"alerts-table__actions",children:[h.jsx("button",{type:"button",className:"button button--ghost",onClick:()=>t==null?void 0:t(a),disabled:i===a.id,children:"Modifier"}),h.jsx("button",{type:"button",className:"button button--danger",onClick:()=>n==null?void 0:n(a),disabled:i===a.id,children:"Supprimer"})]})]},a.id)})})]})})]})}function CJ(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`alert-${Math.random().toString(36).slice(2,10)}`}function IJ(e,t=""){var i,a,o,s,l,u,f,c;if(!e||typeof e!="object")return{symbol:t,timeframe:null,conditions:{pnl:{enabled:!1,operator:"below",value:null},drawdown:{enabled:!1,operator:"above",value:null},indicators:[]}};const n=typeof e.symbol=="string"?e.symbol:t,r=e.conditions||{};return{symbol:n||t,timeframe:e.timeframe||null,conditions:{pnl:{enabled:!!((i=r==null?void 0:r.pnl)!=null&&i.enabled),operator:((a=r==null?void 0:r.pnl)==null?void 0:a.operator)||"below",value:((o=r==null?void 0:r.pnl)==null?void 0:o.value)!==void 0&&((s=r==null?void 0:r.pnl)==null?void 0:s.value)!==null?Number(r.pnl.value):null},drawdown:{enabled:!!((l=r==null?void 0:r.drawdown)!=null&&l.enabled),operator:((u=r==null?void 0:r.drawdown)==null?void 0:u.operator)||"above",value:((f=r==null?void 0:r.drawdown)==null?void 0:f.value)!==void 0&&((c=r==null?void 0:r.drawdown)==null?void 0:c.value)!==null?Number(r.drawdown.value):null},indicators:Array.isArray(r==null?void 0:r.indicators)?r.indicators.map(d=>({id:d.id||`indicator-${Math.random().toString(36).slice(2)}`,name:d.name||"RSI",operator:d.operator||"above",value:d.value!==void 0&&d.value!==null?Number(d.value):0,lookback:d.lookback!==void 0&&d.lookback!==null?Number(d.lookback):null,enabled:d.enabled!==void 0?!!d.enabled:!0})):[]}}}function MJ(e){return Array.isArray(e)?e.map((t,n)=>({type:(t==null?void 0:t.type)||"email",target:(t==null?void 0:t.target)||"",enabled:(t==null?void 0:t.enabled)!==void 0?!!t.enabled:!0,_internalId:(t==null?void 0:t.id)||`channel-${n}`})):[]}function Wg(e){var r;if(!e||typeof e!="object")return null;const t=typeof e.risk=="string"?e.risk:((r=e.risk)==null?void 0:r.value)||"info",n=e.created_at||e.createdAt||new Date().toISOString();return{id:String(e.id??e.title??CJ()),title:e.title||"Alerte",detail:e.detail||"",risk:t,acknowledged:!!e.acknowledged,created_at:n,rule:IJ(e.rule,e.symbol||""),channels:MJ(e.channels),throttle_seconds:Number.isFinite(e.throttle_seconds)?Number(e.throttle_seconds):0}}function ta(e){return Array.isArray(e)?e.map(t=>Wg(t)).filter(Boolean).sort((t,n)=>new Date(n.created_at).getTime()-new Date(t.created_at).getTime()):[]}function LJ({initialAlerts:e=[],endpoint:t="/alerts",authToken:n="",enableInitialFetch:r=!0}){const[i,a]=$.useState(()=>ta(e)),[o,s]=$.useState(!1),[l,u]=$.useState("create"),[f,c]=$.useState(null),[d,p]=$.useState(null),[y,m]=$.useState(null),[b,w]=$.useState(!1),[g,x]=$.useState(null),_=$.useMemo(()=>t.replace(/\/$/,""),[t]),v=$.useCallback((E=!1)=>{const N={Accept:"application/json"};return E&&(N["Content-Type"]="application/json"),n&&(N.Authorization=`Bearer ${n}`),N},[n]),S=$.useCallback(async(E,N="",I)=>{var K,z;const M=N?`/${String(N).replace(/^\//,"")}`:"",L=`${_}${M}`,C=await fetch(L,{method:E,headers:v(I!==void 0),body:I!==void 0?JSON.stringify(I):void 0});let D=null;if((((z=(K=C.headers)==null?void 0:K.get)==null?void 0:z.call(K,"content-type"))||"").includes("application/json")&&(D=await C.json()),!C.ok){const Y=(D==null?void 0:D.detail)||(D==null?void 0:D.message)||(D==null?void 0:D.error),ee=new Error(Y||"Le service d'alertes a renvoyé une erreur.");throw ee.status=C.status,ee}return D||{}},[_,v]),O=$.useCallback(async()=>{s(!0);try{const E=await S("GET");E&&Array.isArray(E.items)&&a(ta(E.items)),m(null)}catch(E){m({type:"error",message:E.message||"Impossible de récupérer les alertes."})}finally{s(!1)}},[S]);$.useEffect(()=>{r&&O()},[O,r]),$.useEffect(()=>{function E(I){const M=I.detail;if(!(!M||!Array.isArray(M.items))&&(a(ta(M.items)),M.message)){const L=M.type||"info";m({type:L,message:M.message})}}function N(I){var L;const M=((L=I.detail)==null?void 0:L.message)||"Flux temps réel indisponible.";m({type:"error",message:M})}return document.addEventListener("alerts:update",E),document.addEventListener("alerts:fallback",E),document.addEventListener("alerts:error",N),()=>{document.removeEventListener("alerts:update",E),document.removeEventListener("alerts:fallback",E),document.removeEventListener("alerts:error",N)}},[]);const j=$.useCallback(async E=>{w(!0),p(null);try{const N=await S("POST","",E),I=Wg(N);a(M=>{if(!I)return M;const L=M.findIndex(C=>C.id===I.id);if(L>=0){const C=[...M];return C[L]={...C[L],...I},ta(C)}return ta([I,...M])}),m({type:"success",message:"Alerte créée avec succès."}),u("create"),c(null)}catch(N){p(N.message||"Impossible de créer l'alerte.")}finally{w(!1)}},[S]),A=$.useCallback(E=>{u("edit"),c(E),p(null)},[]),k=$.useCallback(()=>{u("create"),c(null),p(null)},[]),T=$.useCallback(async E=>{if(f){w(!0),p(null);try{const N=await S("PUT",f.id,E),I=Wg({...f,...N});a(M=>{if(!I)return M;const L=M.findIndex(D=>D.id===f.id);if(L<0)return M;const C=[...M];return C[L]={...C[L],...I},ta(C)}),m({type:"success",message:"Alerte mise à jour."}),u("create"),c(null)}catch(N){p(N.message||"Impossible de mettre à jour l'alerte.")}finally{w(!1)}}},[f,S]),P=$.useCallback(async E=>{if(!(!E||!(!(typeof window<"u")||window.confirm(`Supprimer l'alerte "${E.title}" ?`)))){x(E.id);try{await S("DELETE",E.id),a(I=>I.filter(M=>M.id!==E.id)),f&&f.id===E.id&&(u("create"),c(null)),m({type:"success",message:"Alerte supprimée."})}catch(I){m({type:"error",message:I.message||"Impossible de supprimer l'alerte."})}finally{x(null)}}},[f,S]);return h.jsxs("section",{className:"alerts-manager","aria-labelledby":"alerts-title",children:[y?h.jsx("div",{className:`alerts-manager__banner alerts-manager__banner--${y.type}`,role:y.type==="error"?"alert":"status",children:y.message}):null,h.jsxs("div",{className:"alerts-manager__grid",children:[h.jsxs("div",{className:"alerts-manager__form",children:[h.jsx("h3",{className:"heading heading--md",children:l==="edit"?"Modifier l'alerte":"Créer une alerte"}),h.jsx(EJ,{mode:l,initialAlert:f,onSubmit:l==="edit"?T:j,onCancel:k,submitting:b,error:d})]}),h.jsx("div",{className:"alerts-manager__list",children:h.jsx(NJ,{alerts:i,loading:o,onEdit:A,onDelete:P,pendingId:g})})]})]})}const DJ=(e,t,n,r)=>{var a,o,s,l;const i=[n,{code:t,...r||{}}];if((o=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&o.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);ki(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&l.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},IS={},Hg=(e,t,n,r)=>{ki(n)&&IS[n]||(ki(n)&&(IS[n]=new Date),DJ(e,t,n,r))},t$=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Gg=(e,t,n)=>{e.loadNamespaces(t,t$(e,n))},MS=(e,t,n,r)=>{if(ki(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Gg(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,t$(e,r))},RJ=(e,t,n={})=>!t.languages||!t.languages.length?(Hg(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),ki=e=>typeof e=="string",BJ=e=>typeof e=="object"&&e!==null,FJ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,zJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},UJ=e=>zJ[e],KJ=e=>e.replace(FJ,UJ);let Yg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:KJ};const VJ=(e={})=>{Yg={...Yg,...e}},qJ=()=>Yg;let n$;const WJ=e=>{n$=e},HJ=()=>n$,GJ={type:"3rdParty",init(e){VJ(e.options.react),WJ(e)}},r$=$.createContext();class YJ{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const XJ=(e,t)=>{const n=$.useRef();return $.useEffect(()=>{n.current=e},[e,t]),n.current},i$=(e,t,n,r)=>e.getFixedT(t,n,r),QJ=(e,t,n,r)=>$.useCallback(i$(e,t,n,r),[e,t,n,r]),Co=(e,t={})=>{var _,v,S,O;const{i18n:n}=t,{i18n:r,defaultNS:i}=$.useContext(r$)||{},a=n||r||HJ();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new YJ),!a){Hg(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(k,T)=>ki(T)?T:BJ(T)&&ki(T.defaultValue)?T.defaultValue:Array.isArray(k)?k[k.length-1]:k,A=[j,{},!1];return A.t=j,A.i18n={},A.ready=!1,A}(_=a.options.react)!=null&&_.wait&&Hg(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...qJ(),...a.options.react,...t},{useSuspense:s,keyPrefix:l}=o;let u=i||((v=a.options)==null?void 0:v.defaultNS);u=ki(u)?[u]:u||["translation"],(O=(S=a.reportNamespaces).addUsedNamespaces)==null||O.call(S,u);const f=(a.isInitialized||a.initializedStoreOnce)&&u.every(j=>RJ(j,a,o)),c=QJ(a,t.lng||null,o.nsMode==="fallback"?u:u[0],l),d=()=>c,p=()=>i$(a,t.lng||null,o.nsMode==="fallback"?u:u[0],l),[y,m]=$.useState(d);let b=u.join();t.lng&&(b=`${t.lng}${b}`);const w=XJ(b),g=$.useRef(!0);$.useEffect(()=>{const{bindI18n:j,bindI18nStore:A}=o;g.current=!0,!f&&!s&&(t.lng?MS(a,t.lng,u,()=>{g.current&&m(p)}):Gg(a,u,()=>{g.current&&m(p)})),f&&w&&w!==b&&g.current&&m(p);const k=()=>{g.current&&m(p)};return j&&(a==null||a.on(j,k)),A&&(a==null||a.store.on(A,k)),()=>{g.current=!1,a&&j&&(j==null||j.split(" ").forEach(T=>a.off(T,k))),A&&a&&A.split(" ").forEach(T=>a.store.off(T,k))}},[a,b]),$.useEffect(()=>{g.current&&f&&m(d)},[a,l,f]);const x=[y,a,f];if(x.t=y,x.i18n=a,x.ready=f,f||!f&&!s)return x;throw new Promise(j=>{t.lng?MS(a,t.lng,u,()=>j()):Gg(a,u,()=>j())})};function JJ({i18n:e,defaultNS:t,children:n}){const r=$.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return $.createElement(r$.Provider,{value:r},n)}function ZJ(e,t="fr"){if(!e)return"";try{const n=new Date(e);return new Intl.DateTimeFormat(t,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(n)}catch{return String(e)}}function eZ({endpoint:e="/alerts/history"}){const{t,i18n:n}=Co(),[r,i]=$.useState("idle"),[a,o]=$.useState([]),[s,l]=$.useState({page:1,pages:1,total:0,page_size:10}),[u,f]=$.useState({strategy:"",severity:""}),[c,d]=$.useState({strategies:[],severities:[]}),p=$.useMemo(()=>{const v=new URLSearchParams;return v.set("page",s.page),v.set("page_size",s.page_size||10),u.strategy&&v.set("strategy",u.strategy),u.severity&&v.set("severity",u.severity),v.toString()},[s.page,s.page_size,u.strategy,u.severity]);$.useEffect(()=>{async function v(){i("loading");try{const S=`${e}?${p}`,O=await fetch(S,{headers:{Accept:"application/json"}});if(!O.ok)throw new Error(`HTTP ${O.status}`);const j=await O.json();o(Array.isArray(j.items)?j.items:[]);const A=j.pagination||{};l(k=>({page:A.page||k.page,pages:A.pages||A.total_pages||1,total:A.total??k.total,page_size:A.page_size||k.page_size})),j.available_filters&&d({strategies:j.available_filters.strategies||[],severities:j.available_filters.severities||[]}),i("ready")}catch{i("error")}}v()},[e,p]);const y=s.page>1,m=s.page<(s.pages||1);function b(v){f(S=>({...S,severity:v.target.value})),l(S=>({...S,page:1}))}function w(v){f(S=>({...S,strategy:v.target.value})),l(S=>({...S,page:1}))}function g(v){const S=Number.parseInt(v.target.value,10)||10;l(O=>({...O,page_size:S,page:1}))}function x(){y&&l(v=>({...v,page:Math.max(1,v.page-1)}))}function _(){m&&l(v=>({...v,page:v.page+1}))}return h.jsxs("section",{className:"history-panel","aria-live":"polite",children:[h.jsxs("header",{className:"history-panel__header",children:[h.jsx("h2",{className:"heading heading--lg",children:t("Historique des alertes")}),h.jsx("p",{className:"text text--muted",children:t("Consultez les déclenchements passés et leurs métadonnées.")})]}),h.jsxs("div",{className:"history-panel__filters",children:[h.jsxs("label",{className:"form-field",children:[h.jsx("span",{className:"form-field__label",children:t("Sévérité")}),h.jsxs("select",{value:u.severity,onChange:b,children:[h.jsx("option",{value:"",children:t("Toutes")}),c.severities.map(v=>h.jsx("option",{value:v,children:v},v))]})]}),h.jsxs("label",{className:"form-field",children:[h.jsx("span",{className:"form-field__label",children:t("Stratégie")}),h.jsxs("select",{value:u.strategy,onChange:w,children:[h.jsx("option",{value:"",children:t("Toutes")}),c.strategies.map(v=>h.jsx("option",{value:v,children:v},v))]})]}),h.jsxs("label",{className:"form-field",children:[h.jsx("span",{className:"form-field__label",children:t("Entrées par page")}),h.jsx("select",{value:s.page_size,onChange:g,children:[5,10,20,50].map(v=>h.jsx("option",{value:v,children:v},v))})]})]}),r==="loading"&&h.jsx("p",{className:"text",role:"status",children:t("Chargement de l'historique…")}),r==="error"&&h.jsx("p",{className:"text text--critical",role:"alert",children:t("Impossible de récupérer l'historique pour le moment.")}),r==="ready"&&a.length===0&&h.jsx("p",{className:"text text--muted",children:t("Aucun déclenchement enregistré pour ces filtres.")}),a.length>0&&h.jsx("div",{className:"table-responsive",children:h.jsxs("table",{className:"table history-table",role:"grid",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",children:t("Déclenchée le")}),h.jsx("th",{scope:"col",children:t("Type")}),h.jsx("th",{scope:"col",children:t("Canal")}),h.jsx("th",{scope:"col",children:t("Règle")}),h.jsx("th",{scope:"col",children:t("Stratégie")}),h.jsx("th",{scope:"col",children:t("Sévérité")}),h.jsx("th",{scope:"col",children:t("Symbole")})]})}),h.jsx("tbody",{children:a.map(v=>h.jsxs("tr",{children:[h.jsx("td",{"data-label":t("Déclenchée le"),children:ZJ(v.triggered_at,n.language)}),h.jsx("td",{"data-label":t("Type"),children:v.notification_type||"trigger"}),h.jsx("td",{"data-label":t("Canal"),children:v.notification_channel||"-"}),h.jsx("td",{"data-label":t("Règle"),children:v.rule_name}),h.jsx("td",{"data-label":t("Stratégie"),children:v.strategy}),h.jsx("td",{"data-label":t("Sévérité"),children:h.jsx("span",{className:`badge badge--${v.severity||"info"}`,children:v.severity})}),h.jsx("td",{"data-label":t("Symbole"),children:v.symbol})]},v.id||`${v.trigger_id}-${v.rule_id}`))})]})}),h.jsxs("footer",{className:"history-panel__footer",children:[h.jsx("button",{type:"button",className:"button button--ghost",onClick:x,disabled:!y,children:t("Précédent")}),h.jsx("span",{className:"text text--muted",children:t("Page {page} sur {pages} ({total} alertes)",{page:s.page,pages:s.pages||1,total:s.total})}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:_,disabled:!m,children:t("Suivant")})]})]})}const LS={success:{label:"Terminé",className:"badge--success"},completed:{label:"Terminé",className:"badge--success"},ready:{label:"Prêt",className:"badge--success"},running:{label:"En cours",className:"badge--info"},processing:{label:"En cours",className:"badge--info"},pending:{label:"En file",className:"badge--warning"},queued:{label:"En file",className:"badge--warning"},failure:{label:"Échec",className:"badge--critical"},failed:{label:"Échec",className:"badge--critical"}};function tZ(e,t){if(!e||typeof e!="object")return null;const n=e.report_type||e.reportType||e.title||"Rapport personnalisé",r=e.period||e.coverage||null,i=e.generated_at||e.generatedAt||null,a=e.download_url||e.downloadUrl||null,o=e.filename||e.fileName||null,s=e.status||e.state||null,l=e.id||e.identifier||e.uid||e.uuid||e.slug||null;return{uid:l?String(l):`report-${t}`,identifier:l?String(l):null,reportType:n,period:r,generatedAt:i,downloadUrl:a,filename:o,status:s}}function nZ(e){if(!e)return null;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?typeof e=="string"?e:String(e):t.toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function rZ(e){if(!e||typeof e!="string")return null;const t=e.toLowerCase();return LS[t]?LS[t]:{label:e,className:"badge--info"}}function iZ(e){const t=Number(e);return!Number.isFinite(t)||t<=0?5:Math.max(1,Math.floor(t))}async function aZ(e,t,n){const{downloadUrl:r,reportType:i,filename:a,uid:o}=e;if(!r){t("Téléchargement indisponible pour ce rapport.");return}t(null),n(o);try{const s=await fetch(r,{headers:{Accept:"application/pdf,application/octet-stream"}});if(!s.ok)throw new Error(`HTTP ${s.status}`);const l=await s.blob();if(typeof window>"u")return;const u=window.URL||URL;if(u&&typeof u.createObjectURL=="function"){const f=u.createObjectURL(l),c=document.createElement("a");c.href=f,c.download=a||`${i.replace(/\s+/g,"-").toLowerCase()}.bin`,document.body.appendChild(c),c.click(),c.remove(),typeof u.revokeObjectURL=="function"&&u.revokeObjectURL(f)}else typeof window.open=="function"&&window.open(r,"_blank","noopener")}catch(s){console.error("Impossible de télécharger le rapport",s),t("Téléchargement impossible pour le moment.")}finally{n(null)}}function oZ({reports:e=[],pageSize:t=5}){const n=$.useMemo(()=>Array.isArray(e)?e.map((w,g)=>tZ(w,g)).filter(Boolean):[],[e]),r=iZ(t),[i,a]=$.useState(0),[o,s]=$.useState(null),[l,u]=$.useState(null);$.useEffect(()=>{a(0)},[n.length,r]),$.useEffect(()=>{u(null)},[i]);const f=Math.max(1,Math.ceil(n.length/r)),c=Math.min(i,f-1),d=c*r,p=n.slice(d,d+r),y=()=>{a(w=>Math.max(0,w-1))},m=()=>{a(w=>Math.min(f-1,w+1))},b=w=>{aZ(w,u,s)};return n.length?h.jsxs("div",{className:"reports-center",children:[h.jsx("ul",{className:"reports-list",role:"list",children:p.map(w=>{const g=rZ(w.status),x=nZ(w.generatedAt),_=o===w.uid;return h.jsxs("li",{className:"reports-list__item",role:"listitem",children:[h.jsxs("div",{className:"reports-list__meta",children:[h.jsx("span",{className:"reports-list__title heading heading--md",children:w.reportType}),h.jsxs("p",{className:"reports-list__period text text--muted",children:[w.period?`Période : ${w.period}`:"Période non précisée",x?` · Généré le ${x}`:""]}),g?h.jsx("span",{className:`badge ${g.className} reports-list__status`,children:g.label}):null]}),h.jsx("div",{className:"reports-list__actions",children:h.jsx("button",{type:"button",className:"button button--primary",onClick:()=>b(w),disabled:!w.downloadUrl||_,children:_?"Téléchargement…":"Télécharger"})})]},w.uid)})}),h.jsxs("div",{className:"reports-pagination",children:[h.jsxs("span",{children:["Page ",c+1," / ",f]}),h.jsxs("div",{className:"reports-pagination__controls",children:[h.jsx("button",{type:"button",className:"button button--ghost",onClick:y,disabled:c===0,children:"Précédent"}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:m,disabled:c>=f-1,children:"Suivant"})]})]}),l?h.jsx("p",{role:"alert",className:"reports-error",children:l}):null]}):h.jsxs("div",{className:"reports-center",children:[h.jsx("p",{className:"text text--muted",children:"Aucun rapport disponible pour le moment."}),l?h.jsx("p",{role:"alert",className:"reports-error",children:l}):null]})}const DS=[{id:"breakout",label:"Breakout intraday",prompt:"Identifie les cassures de range sur BTC/USDT en 15 minutes avec confirmation de volume."},{id:"mean_reversion",label:"Retour à la moyenne",prompt:"Stratégie de retour à la moyenne sur ETH en 1h avec RSI et bandes de Bollinger."},{id:"trend_following",label:"Suivi de tendance",prompt:"Suivi de tendance daily sur indices avec croisements de moyennes mobiles et trailing stop."}],sZ=["RSI","MACD","EMA 20","EMA 50","Bollinger Bands","VWAP","SuperTrend","OBV"];function lZ(e,t){return e.includes(t)?e.filter(n=>n!==t):[...e,t]}function uZ(e){return e?e.split(",").map(t=>t.trim()).filter(t=>t.length>0):[]}function a$({generateEndpoint:e="/strategies/generate",importEndpoint:t="/strategies/import/assistant"}){const[n,r]=$.useState({prompt:"",selectedPrompt:"",preferredFormat:"yaml",riskProfile:"",timeframe:"",capital:"",indicators:[],notes:""}),[i,a]=$.useState({state:"idle"}),[o,s]=$.useState(null),[l,u]=$.useState(""),[f,c]=$.useState(""),[d,p]=$.useState(""),[y,m]=$.useState(""),[b,w]=$.useState(!1),[g,x]=$.useState({state:"idle"}),_=$.useMemo(()=>sZ.map(A=>({label:A,selected:n.indicators.includes(A)})),[n.indicators]);async function v(A){var T;A.preventDefault(),a({state:"loading"}),x({state:"idle"});const k={prompt:n.prompt,preferred_format:n.preferredFormat,risk_profile:n.riskProfile||void 0,timeframe:n.timeframe||void 0,capital:n.capital||void 0,indicators:n.indicators,notes:n.notes||void 0};try{const P=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(k)});if(!P.ok){const N=await P.json().catch(()=>({}));throw new Error(N.detail||`HTTP ${P.status}`)}const E=await P.json();s(E.draft),u(E.draft.yaml||""),c(E.draft.python||""),p(((T=E.draft.metadata)==null?void 0:T.suggested_name)||""),a({state:"ready"})}catch(P){console.error("Impossible de générer la stratégie",P),a({state:"error",message:P.message})}}function S(A){const k=A.target.value,T=DS.find(P=>P.id===k);r(P=>({...P,selectedPrompt:k,prompt:T?T.prompt:P.prompt}))}function O(A){r(k=>({...k,indicators:lZ(k.indicators,A)}))}async function j(A){const k=A==="yaml"?l:f;if(!k||k.trim().length===0){x({state:"error",message:"Contenu vide."});return}x({state:"loading"});const T={format:A,content:k,enabled:b,tags:uZ(y)};d.trim().length>0&&(T.name=d.trim()),o&&o.metadata&&(T.metadata=o.metadata);try{const P=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(T)});if(!P.ok){const N=await P.json().catch(()=>({}));throw new Error(N.detail||`HTTP ${P.status}`)}const E=await P.json();x({state:"success",strategy:E})}catch(P){console.error("Import impossible",P),x({state:"error",message:P.message})}}return h.jsxs("section",{className:"ai-strategy-assistant",children:[h.jsx("h2",{children:"Assistant IA pour stratégies"}),h.jsx("p",{className:"assistant__intro",children:"Décrivez votre idée ou sélectionnez un prompt prédéfini pour générer un brouillon de stratégie au format YAML ou Python. Vous pouvez ensuite l'affiner avant de l'importer."}),h.jsxs("form",{className:"assistant__form",onSubmit:v,children:[h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-prompt-select",children:"Prompts prédéfinis"}),h.jsxs("select",{id:"assistant-prompt-select",value:n.selectedPrompt,onChange:S,children:[h.jsx("option",{value:"",children:"Choisir un prompt…"}),DS.map(A=>h.jsx("option",{value:A.id,children:A.label},A.id))]})]}),h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-prompt",children:"Description de la stratégie"}),h.jsx("textarea",{id:"assistant-prompt",value:n.prompt,onChange:A=>r(k=>({...k,prompt:A.target.value})),rows:4,placeholder:"Ex: Détecter les cassures de tendance sur BTC avec confirmation du volume",required:!0})]}),h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-format",children:"Format souhaité"}),h.jsxs("select",{id:"assistant-format",value:n.preferredFormat,onChange:A=>r(k=>({...k,preferredFormat:A.target.value})),children:[h.jsx("option",{value:"yaml",children:"YAML"}),h.jsx("option",{value:"python",children:"Python"}),h.jsx("option",{value:"both",children:"Les deux"})]})]}),h.jsxs("div",{className:"assistant__grid",children:[h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-risk",children:"Profil de risque"}),h.jsx("input",{id:"assistant-risk",type:"text",value:n.riskProfile,onChange:A=>r(k=>({...k,riskProfile:A.target.value})),placeholder:"Ex: modéré"})]}),h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-timeframe",children:"Timeframe"}),h.jsx("input",{id:"assistant-timeframe",type:"text",value:n.timeframe,onChange:A=>r(k=>({...k,timeframe:A.target.value})),placeholder:"Ex: 1h"})]}),h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-capital",children:"Capital"}),h.jsx("input",{id:"assistant-capital",type:"text",value:n.capital,onChange:A=>r(k=>({...k,capital:A.target.value})),placeholder:"Ex: 10 000 €"})]})]}),h.jsxs("fieldset",{className:"assistant__field",children:[h.jsx("legend",{children:"Indicateurs suggérés"}),h.jsx("div",{className:"assistant__chips",children:_.map(A=>h.jsx("button",{type:"button",className:A.selected?"assistant__chip assistant__chip--active":"assistant__chip",onClick:()=>O(A.label),children:A.label},A.label))})]}),h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-notes",children:"Contraintes supplémentaires"}),h.jsx("textarea",{id:"assistant-notes",value:n.notes,onChange:A=>r(k=>({...k,notes:A.target.value})),rows:3,placeholder:"Ex: Limiter le drawdown à 5%, privilégier les signaux multi-timeframe"})]}),h.jsx("button",{className:"assistant__submit",type:"submit",disabled:i.state==="loading",children:i.state==="loading"?"Génération en cours…":"Générer la stratégie"}),i.state==="error"&&h.jsx("p",{className:"assistant__error",children:i.message})]}),o&&h.jsxs("section",{className:"assistant__results",children:[h.jsx("h3",{children:"Proposition générée"}),h.jsx("p",{className:"assistant__summary",children:o.summary}),o.warnings&&o.warnings.length>0&&h.jsx("ul",{className:"assistant__warnings",children:o.warnings.map((A,k)=>h.jsx("li",{children:A},k))}),o.indicators&&o.indicators.length>0&&h.jsxs("p",{className:"assistant__indicators",children:["Indicateurs recommandés : ",h.jsx("strong",{children:o.indicators.join(", ")})]}),o.yaml!==null&&h.jsxs("div",{className:"assistant__editor",children:[h.jsx("label",{htmlFor:"assistant-yaml",children:"Définition YAML"}),h.jsx("textarea",{id:"assistant-yaml",rows:12,value:l,onChange:A=>u(A.target.value)})]}),o.python!==null&&h.jsxs("div",{className:"assistant__editor",children:[h.jsx("label",{htmlFor:"assistant-python",children:"Implémentation Python"}),h.jsx("textarea",{id:"assistant-python",rows:12,value:f,onChange:A=>c(A.target.value)})]}),h.jsxs("div",{className:"assistant__import",children:[h.jsx("h4",{children:"Importer dans l'algo engine"}),h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-name",children:"Nom de la stratégie"}),h.jsx("input",{id:"assistant-name",type:"text",value:d,onChange:A=>p(A.target.value),placeholder:"Ex: Breakout AI"})]}),h.jsxs("div",{className:"assistant__field",children:[h.jsx("label",{htmlFor:"assistant-tags",children:"Tags (séparés par des virgules)"}),h.jsx("input",{id:"assistant-tags",type:"text",value:y,onChange:A=>m(A.target.value),placeholder:"momentum, IA"})]}),h.jsxs("label",{className:"assistant__checkbox",children:[h.jsx("input",{type:"checkbox",checked:b,onChange:A=>w(A.target.checked)}),"Activer immédiatement la stratégie"]}),h.jsxs("div",{className:"assistant__buttons",children:[o.yaml!==null&&h.jsx("button",{type:"button",onClick:()=>j("yaml"),children:"Importer la version YAML"}),o.python!==null&&h.jsx("button",{type:"button",onClick:()=>j("python"),children:"Importer la version Python"})]}),g.state==="loading"&&h.jsx("p",{children:"Import en cours…"}),g.state==="error"&&h.jsx("p",{className:"assistant__error",children:g.message}),g.state==="success"&&h.jsxs("p",{className:"assistant__success",children:["Stratégie importée avec l'identifiant ",g.strategy.id,"."]})]})]})]})}a$.propTypes={generateEndpoint:ye.string,importEndpoint:ye.string};const cb="application/x-strategy-block",RS=["indicator","indicator_macd","indicator_bollinger","indicator_atr"],mt={condition:{type:"condition",label:"Condition",description:"Comparer un champ de marché à une valeur cible et définir le déclencheur d'une règle.",accepts:RS,category:"conditions",defaultConfig:{field:"close",operator:"gt",value:"100"},validation:{required:[{field:"field",label:"Champ"},{field:"operator",label:"Opérateur"},{field:"value",label:"Valeur"}],maxChildren:1}},market_cross:{type:"market_cross",label:"Croisement",description:"Détecter le croisement de deux indicateurs (ex. MACD vs moyenne mobile).",accepts:RS,category:"conditions",defaultConfig:{direction:"above",lookback:"3"},validation:{required:[{field:"direction",label:"Direction"}],minChildren:2,maxChildren:2}},market_volume:{type:"market_volume",label:"Volume seuil",description:"Vérifier si le volume respecte un seuil donné sur un intervalle.",accepts:[],category:"conditions",defaultConfig:{operator:"gt",value:"100000",timeframe:"1h"},validation:{required:[{field:"operator",label:"Opérateur"},{field:"value",label:"Seuil"},{field:"timeframe",label:"Intervalle"}]}},indicator:{type:"indicator",label:"Indicateur simple",description:"Calculer une mesure technique (SMA, RSI, VWAP…) afin de l'utiliser dans une condition.",accepts:[],category:"conditions",defaultConfig:{source:"close",kind:"sma",period:"20"},validation:{required:[{field:"source",label:"Source"},{field:"kind",label:"Type"},{field:"period",label:"Période"}]}},indicator_macd:{type:"indicator_macd",label:"MACD",description:"Oscillateur MACD avec périodes rapide/lente et signal configurable.",accepts:[],category:"conditions",defaultConfig:{source:"close",fastPeriod:"12",slowPeriod:"26",signalPeriod:"9"},validation:{required:[{field:"source",label:"Source"},{field:"fastPeriod",label:"Période rapide"},{field:"slowPeriod",label:"Période lente"},{field:"signalPeriod",label:"Période signal"}]}},indicator_bollinger:{type:"indicator_bollinger",label:"Bandes de Bollinger",description:"Bandes de volatilité basées sur une moyenne mobile et une déviation.",accepts:[],category:"conditions",defaultConfig:{source:"close",period:"20",deviation:"2"},validation:{required:[{field:"source",label:"Source"},{field:"period",label:"Période"},{field:"deviation",label:"Déviation"}]}},indicator_atr:{type:"indicator_atr",label:"ATR",description:"Average True Range permettant d'évaluer la volatilité.",accepts:[],category:"conditions",defaultConfig:{source:"hlc3",period:"14",smoothing:"14"},validation:{required:[{field:"source",label:"Source"},{field:"period",label:"Période"},{field:"smoothing",label:"Lissage"}]}},logic:{type:"logic",label:"Opérateur logique",description:"Regrouper plusieurs conditions avec un ET/OU imbriqué.",accepts:["condition","market_cross","market_volume","logic","negation","group"],category:"conditions",defaultConfig:{mode:"all"},validation:{required:[{field:"mode",label:"Mode"}],minChildren:2}},negation:{type:"negation",label:"Négation",description:"Inverser le résultat d'une condition (NON / NOT).",accepts:["condition","market_cross","market_volume","logic","group"],category:"conditions",defaultConfig:{},validation:{minChildren:1,maxChildren:1}},group:{type:"group",label:"Parenthèses",description:"Créer un sous-groupe afin de prioriser certaines conditions.",accepts:["condition","market_cross","market_volume","logic","negation"],category:"conditions",defaultConfig:{},validation:{minChildren:1}},action:{type:"action",label:"Action d'exécution",description:"Déclencher un ordre via le moteur d'exécution.",accepts:[],category:"actions",defaultConfig:{action:"buy",size:"1"},validation:{required:[{field:"action",label:"Action"},{field:"size",label:"Taille"}]}},take_profit:{type:"take_profit",label:"Take-profit",description:"Sécuriser les gains une fois qu'un objectif est atteint.",accepts:[],category:"actions",defaultConfig:{mode:"percent",value:"5",size:"full"},validation:{required:[{field:"mode",label:"Type de cible"},{field:"value",label:"Valeur"}]}},stop_loss:{type:"stop_loss",label:"Stop-loss",description:"Limiter les pertes avec un seuil fixe ou suiveur.",accepts:[],category:"actions",defaultConfig:{mode:"percent",value:"2",trailing:!1},validation:{required:[{field:"mode",label:"Type de seuil"},{field:"value",label:"Valeur"}]}},close_position:{type:"close_position",label:"Fermer la position",description:"Clôturer tout ou partie de la position ouverte.",accepts:[],category:"actions",defaultConfig:{side:"all"},validation:{required:[{field:"side",label:"Cible"}]}},alert:{type:"alert",label:"Alerte",description:"Notifier une équipe ou un canal externe lors du déclenchement.",accepts:[],category:"actions",defaultConfig:{channel:"email",message:"Alerte stratégie"},validation:{required:[{field:"channel",label:"Canal"},{field:"message",label:"Message"}]}},delay:{type:"delay",label:"Temporisation",description:"Attendre un délai défini avant l'étape suivante de la stratégie.",accepts:[],category:"actions",defaultConfig:{seconds:"60"},validation:{required:[{field:"seconds",label:"Délai (secondes)"}]}}};function qd(e){const t=mt[e];return t?JSON.parse(JSON.stringify(t.defaultConfig||{})):{}}function cZ({type:e,definition:t,onAdd:n}){const r=a=>{a.dataTransfer.setData(cb,e),a.dataTransfer.effectAllowed="copyMove"},i=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),n({type:e,section:t.category}))};return h.jsxs("article",{className:"palette-item",role:"listitem",children:[h.jsxs("header",{className:"palette-item__header",children:[h.jsxs("div",{children:[h.jsx("span",{className:"palette-item__title heading heading--sm",children:t.label}),h.jsx("p",{className:"palette-item__category text text--muted",children:t.category==="actions"?"Action":"Condition"})]}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:()=>n({type:e,section:t.category}),"aria-label":`Ajouter ${t.label}`,children:"Ajouter"})]}),h.jsx("p",{className:"palette-item__description text",children:t.description}),h.jsx("div",{className:"palette-item__draggable",role:"button",tabIndex:0,draggable:!0,"data-testid":`palette-item-${e}`,onDragStart:r,onKeyDown:i,"aria-label":`Glisser ${t.label} vers la zone de composition`,children:"Glisser-déposer"})]})}function fZ({onAdd:e}){return h.jsxs("section",{className:"designer-panel designer-panel--palette","aria-labelledby":"palette-title",children:[h.jsxs("div",{className:"designer-panel__header",children:[h.jsx("h2",{id:"palette-title",className:"heading heading--md",children:"Bibliothèque de blocs"}),h.jsx("p",{className:"text text--muted",children:"Faites glisser un bloc dans la colonne « Composition » ou cliquez sur « Ajouter » pour l'insérer."})]}),h.jsx("div",{className:"designer-panel__body",role:"list","aria-label":"Types de blocs disponibles",children:Object.entries(mt).map(([t,n])=>h.jsx(cZ,{type:t,definition:n,onAdd:e},t))})]})}function pe({label:e,children:t}){return h.jsxs("label",{className:"designer-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:e}),t]})}function dZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Champ",children:h.jsx("input",{type:"text",value:e.config.field||"",onChange:n=>t({...e.config,field:n.target.value})})}),h.jsx(pe,{label:"Opérateur",children:h.jsxs("select",{value:e.config.operator||"gt",onChange:n=>t({...e.config,operator:n.target.value}),children:[h.jsx("option",{value:"gt",children:"Supérieur à"}),h.jsx("option",{value:"lt",children:"Inférieur à"}),h.jsx("option",{value:"gte",children:"Supérieur ou égal"}),h.jsx("option",{value:"lte",children:"Inférieur ou égal"}),h.jsx("option",{value:"eq",children:"Égal"}),h.jsx("option",{value:"neq",children:"Différent"})]})}),h.jsx(pe,{label:"Valeur",children:h.jsx("input",{type:"text",value:e.config.value??"",onChange:n=>t({...e.config,value:n.target.value})})})]})}function pZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Source",children:h.jsxs("select",{value:e.config.source||"close",onChange:n=>t({...e.config,source:n.target.value}),children:[h.jsx("option",{value:"close",children:"Clôture"}),h.jsx("option",{value:"open",children:"Ouverture"}),h.jsx("option",{value:"high",children:"Haut"}),h.jsx("option",{value:"low",children:"Bas"}),h.jsx("option",{value:"volume",children:"Volume"})]})}),h.jsx(pe,{label:"Type",children:h.jsxs("select",{value:e.config.kind||"sma",onChange:n=>t({...e.config,kind:n.target.value}),children:[h.jsx("option",{value:"sma",children:"Moyenne mobile"}),h.jsx("option",{value:"ema",children:"EMA"}),h.jsx("option",{value:"rsi",children:"RSI"}),h.jsx("option",{value:"vwap",children:"VWAP"})]})}),h.jsx(pe,{label:"Période",children:h.jsx("input",{type:"number",min:"1",value:e.config.period||"",onChange:n=>t({...e.config,period:n.target.value})})})]})}function hZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Source",children:h.jsxs("select",{value:e.config.source||"close",onChange:n=>t({...e.config,source:n.target.value}),children:[h.jsx("option",{value:"close",children:"Clôture"}),h.jsx("option",{value:"open",children:"Ouverture"}),h.jsx("option",{value:"high",children:"Haut"}),h.jsx("option",{value:"low",children:"Bas"})]})}),h.jsx(pe,{label:"Période rapide",children:h.jsx("input",{type:"number",min:"1",value:e.config.fastPeriod||"",onChange:n=>t({...e.config,fastPeriod:n.target.value})})}),h.jsx(pe,{label:"Période lente",children:h.jsx("input",{type:"number",min:"1",value:e.config.slowPeriod||"",onChange:n=>t({...e.config,slowPeriod:n.target.value})})}),h.jsx(pe,{label:"Période signal",children:h.jsx("input",{type:"number",min:"1",value:e.config.signalPeriod||"",onChange:n=>t({...e.config,signalPeriod:n.target.value})})})]})}function mZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Source",children:h.jsxs("select",{value:e.config.source||"close",onChange:n=>t({...e.config,source:n.target.value}),children:[h.jsx("option",{value:"close",children:"Clôture"}),h.jsx("option",{value:"open",children:"Ouverture"}),h.jsx("option",{value:"high",children:"Haut"}),h.jsx("option",{value:"low",children:"Bas"})]})}),h.jsx(pe,{label:"Période",children:h.jsx("input",{type:"number",min:"1",value:e.config.period||"",onChange:n=>t({...e.config,period:n.target.value})})}),h.jsx(pe,{label:"Déviation",children:h.jsx("input",{type:"number",step:"0.1",min:"0",value:e.config.deviation||"",onChange:n=>t({...e.config,deviation:n.target.value})})})]})}function gZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Source",children:h.jsxs("select",{value:e.config.source||"hlc3",onChange:n=>t({...e.config,source:n.target.value}),children:[h.jsx("option",{value:"hlc3",children:"HLC3"}),h.jsx("option",{value:"close",children:"Clôture"}),h.jsx("option",{value:"high",children:"Haut"}),h.jsx("option",{value:"low",children:"Bas"})]})}),h.jsx(pe,{label:"Période",children:h.jsx("input",{type:"number",min:"1",value:e.config.period||"",onChange:n=>t({...e.config,period:n.target.value})})}),h.jsx(pe,{label:"Lissage",children:h.jsx("input",{type:"number",min:"1",value:e.config.smoothing||"",onChange:n=>t({...e.config,smoothing:n.target.value})})})]})}function yZ({node:e,onChange:t}){return h.jsx(pe,{label:"Mode",children:h.jsxs("select",{value:e.config.mode||"all",onChange:n=>t({...e.config,mode:n.target.value}),children:[h.jsx("option",{value:"all",children:"Toutes les conditions"}),h.jsx("option",{value:"any",children:"Au moins une condition"})]})})}function vZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Direction du croisement",children:h.jsxs("select",{value:e.config.direction||"above",onChange:n=>t({...e.config,direction:n.target.value}),children:[h.jsx("option",{value:"above",children:"Croise au-dessus"}),h.jsx("option",{value:"below",children:"Croise sous"})]})}),h.jsx(pe,{label:"Fenêtre d'observation",children:h.jsx("input",{type:"number",min:"1",value:e.config.lookback||"",onChange:n=>t({...e.config,lookback:n.target.value})})})]})}function bZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Opérateur",children:h.jsxs("select",{value:e.config.operator||"gt",onChange:n=>t({...e.config,operator:n.target.value}),children:[h.jsx("option",{value:"gt",children:"Supérieur à"}),h.jsx("option",{value:"lt",children:"Inférieur à"}),h.jsx("option",{value:"gte",children:"Supérieur ou égal"}),h.jsx("option",{value:"lte",children:"Inférieur ou égal"}),h.jsx("option",{value:"eq",children:"Égal"}),h.jsx("option",{value:"neq",children:"Différent"})]})}),h.jsx(pe,{label:"Seuil",children:h.jsx("input",{type:"number",min:"0",value:e.config.value||"",onChange:n=>t({...e.config,value:n.target.value})})}),h.jsx(pe,{label:"Intervalle",children:h.jsx("input",{type:"text",value:e.config.timeframe||"",onChange:n=>t({...e.config,timeframe:n.target.value})})})]})}function wZ(){return h.jsx("p",{className:"text text--muted",children:"Ce bloc inverse le résultat de son enfant direct."})}function xZ(){return h.jsx("p",{className:"text text--muted",children:"Utilisez ce regroupement pour prioriser l'évaluation des sous-conditions."})}function SZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Action",children:h.jsxs("select",{value:e.config.action||"buy",onChange:n=>t({...e.config,action:n.target.value}),children:[h.jsx("option",{value:"buy",children:"Achat"}),h.jsx("option",{value:"sell",children:"Vente"}),h.jsx("option",{value:"rebalance",children:"Rééquilibrage"}),h.jsx("option",{value:"alert",children:"Envoyer une alerte"})]})}),h.jsx(pe,{label:"Taille",children:h.jsx("input",{type:"number",step:"0.1",value:e.config.size||"",onChange:n=>t({...e.config,size:n.target.value})})})]})}function _Z({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Type de cible",children:h.jsxs("select",{value:e.config.mode||"percent",onChange:n=>t({...e.config,mode:n.target.value}),children:[h.jsx("option",{value:"percent",children:"Pourcentage"}),h.jsx("option",{value:"price",children:"Prix"})]})}),h.jsx(pe,{label:"Valeur",children:h.jsx("input",{type:"number",step:"0.1",value:e.config.value||"",onChange:n=>t({...e.config,value:n.target.value})})}),h.jsx(pe,{label:"Part de la position",children:h.jsxs("select",{value:e.config.size||"full",onChange:n=>t({...e.config,size:n.target.value}),children:[h.jsx("option",{value:"full",children:"100 %"}),h.jsx("option",{value:"half",children:"50 %"}),h.jsx("option",{value:"custom",children:"Personnalisé"})]})}),e.config.size==="custom"?h.jsx(pe,{label:"Taille personnalisée",children:h.jsx("input",{type:"number",step:"0.1",value:e.config.customSize||"",onChange:n=>t({...e.config,customSize:n.target.value})})}):null]})}function OZ({node:e,onChange:t}){const n=r=>{t({...e.config,trailing:r.target.checked})};return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Type de seuil",children:h.jsxs("select",{value:e.config.mode||"percent",onChange:r=>t({...e.config,mode:r.target.value}),children:[h.jsx("option",{value:"percent",children:"Pourcentage"}),h.jsx("option",{value:"price",children:"Prix"})]})}),h.jsx(pe,{label:"Valeur",children:h.jsx("input",{type:"number",step:"0.1",value:e.config.value||"",onChange:r=>t({...e.config,value:r.target.value})})}),h.jsxs("label",{className:"designer-field designer-field--inline",children:[h.jsx("input",{type:"checkbox",checked:!!e.config.trailing,onChange:n}),h.jsx("span",{className:"designer-field__label",children:"Activer le trailing stop"})]})]})}function jZ({node:e,onChange:t}){return h.jsx(pe,{label:"Cible",children:h.jsxs("select",{value:e.config.side||"all",onChange:n=>t({...e.config,side:n.target.value}),children:[h.jsx("option",{value:"all",children:"Tout fermer"}),h.jsx("option",{value:"long",children:"Positions longues"}),h.jsx("option",{value:"short",children:"Positions courtes"})]})})}function AZ({node:e,onChange:t}){return h.jsxs("div",{className:"designer-field-grid",children:[h.jsx(pe,{label:"Canal",children:h.jsxs("select",{value:e.config.channel||"email",onChange:n=>t({...e.config,channel:n.target.value}),children:[h.jsx("option",{value:"email",children:"E-mail"}),h.jsx("option",{value:"sms",children:"SMS"}),h.jsx("option",{value:"webhook",children:"Webhook"})]})}),h.jsx(pe,{label:"Message",children:h.jsx("textarea",{value:e.config.message||"",onChange:n=>t({...e.config,message:n.target.value})})})]})}function PZ({node:e,onChange:t}){return h.jsx(pe,{label:"Délai (secondes)",children:h.jsx("input",{type:"number",min:"0",value:e.config.seconds||"",onChange:n=>t({...e.config,seconds:n.target.value})})})}function kZ(e,t){switch(e.type){case"condition":return h.jsx(dZ,{node:e,onChange:t});case"market_cross":return h.jsx(vZ,{node:e,onChange:t});case"market_volume":return h.jsx(bZ,{node:e,onChange:t});case"indicator":return h.jsx(pZ,{node:e,onChange:t});case"indicator_macd":return h.jsx(hZ,{node:e,onChange:t});case"indicator_bollinger":return h.jsx(mZ,{node:e,onChange:t});case"indicator_atr":return h.jsx(gZ,{node:e,onChange:t});case"logic":return h.jsx(yZ,{node:e,onChange:t});case"negation":return h.jsx(wZ,{node:e,onChange:t});case"group":return h.jsx(xZ,{node:e,onChange:t});case"action":return h.jsx(SZ,{node:e,onChange:t});case"take_profit":return h.jsx(_Z,{node:e,onChange:t});case"stop_loss":return h.jsx(OZ,{node:e,onChange:t});case"close_position":return h.jsx(jZ,{node:e,onChange:t});case"alert":return h.jsx(AZ,{node:e,onChange:t});case"delay":return h.jsx(PZ,{node:e,onChange:t});default:return null}}function o$({node:e,section:t,layout:n,selection:r,clipboardAvailable:i,onDrop:a,onConfigChange:o,onRemove:s,onSelect:l,onCopy:u,onPaste:f,onDuplicate:c,depth:d=0}){const p=mt[e.type]||{accepts:[]},y=Array.isArray(p.accepts)&&p.accepts.length>0,m=(n==null?void 0:n[e.id])||{},b=(r==null?void 0:r.section)===t&&(r==null?void 0:r.nodeId)===e.id,w=k=>{k.preventDefault(),k.stopPropagation();const T=k.dataTransfer.getData(cb);T&&a({section:t,targetId:e.id,type:T})},g=k=>{k.preventDefault(),k.stopPropagation(),k.dataTransfer.dropEffect="copy"},x=k=>{o({section:t,nodeId:e.id,config:k})},_=()=>{s({section:t,nodeId:e.id})},v=k=>{k.stopPropagation(),l==null||l({section:t,nodeId:e.id})},S=k=>{k.preventDefault(),k.stopPropagation(),u==null||u({section:t,nodeId:e.id})},O=k=>{k.stopPropagation(),u==null||u({section:t,nodeId:e.id})},j=k=>{k.stopPropagation(),f==null||f({section:t,nodeId:e.id})},A=k=>{k.stopPropagation(),c==null||c({section:t,nodeId:e.id})};return h.jsxs("article",{className:`designer-block${b?" designer-block--selected":""}`,"data-node-id":e.id,"data-node-type":e.type,"data-depth":d,"data-layout-column":m.column??d,"data-layout-row":m.row??0,tabIndex:0,onClick:v,onFocus:v,onContextMenu:S,style:{"--layout-column":m.column??d,"--layout-row":m.row??0},children:[h.jsxs("header",{className:"designer-block__header",children:[h.jsx("span",{className:"designer-block__title heading heading--sm",children:p.label||e.type}),h.jsxs("div",{className:"designer-block__actions","aria-label":"Actions du bloc",children:[h.jsx("button",{type:"button",className:"button button--ghost",onClick:O,"aria-label":"Copier le bloc",children:"Copier"}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:A,"aria-label":"Dupliquer le bloc",children:"Dupliquer"}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:j,"aria-label":"Coller un bloc enfant",disabled:!i,children:"Coller"}),h.jsx("button",{type:"button",className:"button button--ghost designer-block__remove",onClick:_,"aria-label":`Supprimer le bloc ${p.label||e.type}`,children:"Retirer"})]})]}),h.jsx("div",{className:"designer-block__body",children:kZ(e,x)}),y?h.jsxs("div",{className:"designer-block__children",children:[(e.children||[]).map(k=>h.jsx(o$,{node:k,section:t,layout:n,selection:r,clipboardAvailable:i,onDrop:a,onConfigChange:o,onRemove:s,onSelect:l,onCopy:u,onPaste:f,onDuplicate:c,depth:d+1},k.id)),h.jsx("div",{className:"designer-dropzone","data-testid":`designer-dropzone-${e.type}`,"data-node-type":e.type,onDragOver:g,onDrop:w,children:"Déposer un bloc compatible ici"})]}):null]})}function BS({title:e,description:t,emptyMessage:n,nodes:r,section:i,layout:a,selection:o,clipboardAvailable:s,onDrop:l,onConfigChange:u,onRemove:f,onSelect:c,onSectionFocus:d,onCopy:p,onPaste:y,onDuplicate:m,onClearSelection:b,dropTestId:w}){const g=A=>{A.preventDefault();const k=A.dataTransfer.getData(cb);k&&l({section:i,targetId:null,type:k})},x=A=>{A.preventDefault(),A.dataTransfer.dropEffect="copy"},_=(o==null?void 0:o.section)===i&&!(o!=null&&o.nodeId),v=Math.max(0,...Object.values(a||{}).map(A=>typeof A.column=="number"?A.column:0)),S=A=>{A.target===A.currentTarget&&(d==null||d(i))},O=()=>{d==null||d(i)},j=A=>{A.currentTarget.contains(A.relatedTarget)||b==null||b()};return h.jsxs("section",{className:"designer-panel designer-panel--canvas","aria-labelledby":`${w}-title`,children:[h.jsxs("div",{className:"designer-panel__header",children:[h.jsx("h2",{id:`${w}-title`,className:"heading heading--md",children:e}),h.jsx("p",{className:"text text--muted",children:t})]}),h.jsx("div",{className:`designer-canvas${_?" designer-canvas--active":""}`,onDragOver:x,onDrop:g,onClick:S,onFocus:O,onBlur:j,"data-testid":w,tabIndex:0,"aria-selected":_,style:{"--layout-columns":v+1},children:r.length?r.map(A=>h.jsx(o$,{node:A,section:i,layout:a,selection:o,clipboardAvailable:s,onDrop:l,onConfigChange:u,onRemove:f,onSelect:c,onCopy:p,onPaste:y,onDuplicate:m},A.id)):h.jsx("p",{className:"designer-canvas__empty text text--muted",children:n})})]})}function $Z({conditions:e,actions:t,layout:n,selection:r,clipboardAvailable:i,onDrop:a,onConfigChange:o,onRemove:s,onSelect:l,onSectionFocus:u,onCopy:f,onPaste:c,onDuplicate:d,onClearSelection:p}){return h.jsxs("div",{className:"designer-canvas-grid",onClick:y=>{y.target===y.currentTarget&&(p==null||p())},children:[h.jsx(BS,{title:"Conditions",description:"Construisez l'arbre logique déclenchant la stratégie.",emptyMessage:"Glissez une condition, un opérateur logique ou un indicateur pour démarrer.",nodes:e,section:"conditions",layout:n,selection:r,clipboardAvailable:i,onDrop:a,onConfigChange:o,onRemove:s,onSelect:l,onSectionFocus:u,onCopy:f,onPaste:c,onDuplicate:d,onClearSelection:p,dropTestId:"designer-conditions-dropzone"}),h.jsx(BS,{title:"Actions",description:"Définissez la liste des actions à exécuter lorsque les conditions sont satisfaites.",emptyMessage:"Ajoutez une action d'exécution ou une temporisation.",nodes:t,section:"actions",layout:n,selection:r,clipboardAvailable:i,onDrop:a,onConfigChange:o,onRemove:s,onSelect:l,onSectionFocus:u,onCopy:f,onPaste:c,onDuplicate:d,onClearSelection:p,dropTestId:"designer-actions-dropzone"})]})}const fb=Symbol.for("yaml.alias"),Xg=Symbol.for("yaml.document"),Wr=Symbol.for("yaml.map"),s$=Symbol.for("yaml.pair"),Yn=Symbol.for("yaml.scalar"),Io=Symbol.for("yaml.seq"),mn=Symbol.for("yaml.node.type"),ii=e=>!!e&&typeof e=="object"&&e[mn]===fb,Hi=e=>!!e&&typeof e=="object"&&e[mn]===Xg,Mo=e=>!!e&&typeof e=="object"&&e[mn]===Wr,Re=e=>!!e&&typeof e=="object"&&e[mn]===s$,Ae=e=>!!e&&typeof e=="object"&&e[mn]===Yn,Lo=e=>!!e&&typeof e=="object"&&e[mn]===Io;function Fe(e){if(e&&typeof e=="object")switch(e[mn]){case Wr:case Io:return!0}return!1}function Ue(e){if(e&&typeof e=="object")switch(e[mn]){case fb:case Wr:case Yn:case Io:return!0}return!1}const l$=e=>(Ae(e)||Fe(e))&&!!e.anchor,Mt=Symbol("break visit"),u$=Symbol("skip children"),Wn=Symbol("remove node");function Gi(e,t){const n=c$(t);Hi(e)?xa(null,e.contents,n,Object.freeze([e]))===Wn&&(e.contents=null):xa(null,e,n,Object.freeze([]))}Gi.BREAK=Mt;Gi.SKIP=u$;Gi.REMOVE=Wn;function xa(e,t,n,r){const i=f$(e,t,n,r);if(Ue(i)||Re(i))return d$(e,r,i),xa(e,i,n,r);if(typeof i!="symbol"){if(Fe(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const o=xa(a,t.items[a],n,r);if(typeof o=="number")a=o-1;else{if(o===Mt)return Mt;o===Wn&&(t.items.splice(a,1),a-=1)}}}else if(Re(t)){r=Object.freeze(r.concat(t));const a=xa("key",t.key,n,r);if(a===Mt)return Mt;a===Wn&&(t.key=null);const o=xa("value",t.value,n,r);if(o===Mt)return Mt;o===Wn&&(t.value=null)}}return i}async function Wd(e,t){const n=c$(t);Hi(e)?await Sa(null,e.contents,n,Object.freeze([e]))===Wn&&(e.contents=null):await Sa(null,e,n,Object.freeze([]))}Wd.BREAK=Mt;Wd.SKIP=u$;Wd.REMOVE=Wn;async function Sa(e,t,n,r){const i=await f$(e,t,n,r);if(Ue(i)||Re(i))return d$(e,r,i),Sa(e,i,n,r);if(typeof i!="symbol"){if(Fe(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const o=await Sa(a,t.items[a],n,r);if(typeof o=="number")a=o-1;else{if(o===Mt)return Mt;o===Wn&&(t.items.splice(a,1),a-=1)}}}else if(Re(t)){r=Object.freeze(r.concat(t));const a=await Sa("key",t.key,n,r);if(a===Mt)return Mt;a===Wn&&(t.key=null);const o=await Sa("value",t.value,n,r);if(o===Mt)return Mt;o===Wn&&(t.value=null)}}return i}function c$(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function f$(e,t,n,r){var i,a,o,s,l;if(typeof n=="function")return n(e,t,r);if(Mo(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(Lo(t))return(a=n.Seq)==null?void 0:a.call(n,e,t,r);if(Re(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(Ae(t))return(s=n.Scalar)==null?void 0:s.call(n,e,t,r);if(ii(t))return(l=n.Alias)==null?void 0:l.call(n,e,t,r)}function d$(e,t,n){const r=t[t.length-1];if(Fe(r))r.items[e]=n;else if(Re(r))e==="key"?r.key=n:r.value=n;else if(Hi(r))r.contents=n;else{const i=ii(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const EZ={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},TZ=e=>e.replace(/[!,[\]{}]/g,t=>EZ[t]);class kt{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},kt.defaultYaml,t),this.tags=Object.assign({},kt.defaultTags,n)}clone(){const t=new kt(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new kt(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:kt.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},kt.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:kt.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},kt.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[a,o]=r;return this.tags[a]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[a]=r;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const o=/^\d+\.\d+$/.test(a);return n(6,`Unsupported YAML version ${a}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const a=this.tags[r];if(a)try{return a+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+TZ(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Ue(t.contents)){const a={};Gi(t.contents,(o,s)=>{Ue(s)&&s.tag&&(a[s.tag]=!0)}),i=Object.keys(a)}else i=[];for(const[a,o]of r)a==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(s=>s.startsWith(o)))&&n.push(`%TAG ${a} ${o}`);return n.join(`
`)}}kt.defaultYaml={explicit:!1,version:"1.2"};kt.defaultTags={"!!":"tag:yaml.org,2002:"};function p$(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function h$(e){const t=new Set;return Gi(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function m$(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function NZ(e,t){const n=[],r=new Map;let i=null;return{onAnchor:a=>{n.push(a),i??(i=h$(e));const o=m$(t,i);return i.add(o),o},setAnchors:()=>{for(const a of n){const o=r.get(a);if(typeof o=="object"&&o.anchor&&(Ae(o.node)||Fe(o.node)))o.node.anchor=o.anchor;else{const s=new Error("Failed to resolve repeated object (this should not happen)");throw s.source=a,s}}},sourceObjects:r}}function _a(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,a=r.length;i<a;++i){const o=r[i],s=_a(e,r,String(i),o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const a=r.get(i),o=_a(e,r,i,a);o===void 0?r.delete(i):o!==a&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const a=_a(e,r,i,i);a===void 0?r.delete(i):a!==i&&(r.delete(i),r.add(a))}else for(const[i,a]of Object.entries(r)){const o=_a(e,r,i,a);o===void 0?delete r[i]:o!==a&&(r[i]=o)}return e.call(t,n,r)}function fn(e,t,n){if(Array.isArray(e))return e.map((r,i)=>fn(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!l$(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=a=>{r.res=a,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class db{constructor(t){Object.defineProperty(this,mn,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:a}={}){if(!Hi(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},s=fn(this,"",o);if(typeof i=="function")for(const{count:l,res:u}of o.anchors.values())i(u,l);return typeof a=="function"?_a(a,{"":s},"",s):s}}class Hd extends db{constructor(t){super(fb),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n!=null&&n.aliasResolveCache?r=n.aliasResolveCache:(r=[],Gi(t,{Node:(a,o)=>{(ii(o)||l$(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let i;for(const a of r){if(a===this)break;a.anchor===this.source&&(i=a)}return i}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:a}=n,o=this.resolve(i,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let s=r.get(o);if(s||(fn(o,null,n),s=r.get(o)),!s||s.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(a>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=ac(i,o,r)),s.count*s.aliasCount>a)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return s.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(p$(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(t.implicitKey)return`${i} `}return i}}function ac(e,t,n){if(ii(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Fe(t)){let r=0;for(const i of t.items){const a=ac(e,i,n);a>r&&(r=a)}return r}else if(Re(t)){const r=ac(e,t.key,n),i=ac(e,t.value,n);return Math.max(r,i)}return 1}const g$=e=>!e||typeof e!="function"&&typeof e!="object";class se extends db{constructor(t){super(Yn),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:fn(this.value,t,n)}toString(){return String(this.value)}}se.BLOCK_FOLDED="BLOCK_FOLDED";se.BLOCK_LITERAL="BLOCK_LITERAL";se.PLAIN="PLAIN";se.QUOTE_DOUBLE="QUOTE_DOUBLE";se.QUOTE_SINGLE="QUOTE_SINGLE";const CZ="tag:yaml.org,2002:";function IZ(e,t,n){if(t){const r=n.filter(a=>a.tag===t),i=r.find(a=>!a.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function Pl(e,t,n){var c,d,p;if(Hi(e)&&(e=e.contents),Ue(e))return e;if(Re(e)){const y=(d=(c=n.schema[Wr]).createNode)==null?void 0:d.call(c,n.schema,null,n);return y.items.push(e),y}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:a,schema:o,sourceObjects:s}=n;let l;if(r&&e&&typeof e=="object"){if(l=s.get(e),l)return l.anchor??(l.anchor=i(e)),new Hd(l.anchor);l={anchor:null,node:null},s.set(e,l)}t!=null&&t.startsWith("!!")&&(t=CZ+t.slice(2));let u=IZ(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const y=new se(e);return l&&(l.node=y),y}u=e instanceof Map?o[Wr]:Symbol.iterator in Object(e)?o[Io]:o[Wr]}a&&(a(u),delete n.onTagObj);const f=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((p=u==null?void 0:u.nodeClass)==null?void 0:p.from)=="function"?u.nodeClass.from(n.schema,e,n):new se(e);return t?f.tag=t:u.default||(f.tag=u.tag),l&&(l.node=f),f}function Mf(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const a=t[i];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const o=[];o[a]=r,r=o}else r=new Map([[a,r]])}return Pl(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const fs=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class y$ extends db{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Ue(r)||Re(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(fs(t))this.add(n);else{const[r,...i]=t,a=this.get(r,!0);if(Fe(a))a.addIn(i,n);else if(a===void 0&&this.schema)this.set(r,Mf(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Fe(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,a=this.get(r,!0);return i.length===0?!n&&Ae(a)?a.value:a:Fe(a)?a.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Re(n))return!1;const r=n.value;return r==null||t&&Ae(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Fe(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const a=this.get(r,!0);if(Fe(a))a.setIn(i,n);else if(a===void 0&&this.schema)this.set(r,Mf(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const MZ=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function or(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const wi=(e,t,n)=>e.endsWith(`
`)?or(n,t):n.includes(`
`)?`
`+or(n,t):(e.endsWith(" ")?"":" ")+n,v$="flow",Qg="block",oc="quoted";function Gd(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:a=20,onFold:o,onOverflow:s}={}){if(!i||i<0)return e;i<a&&(a=0);const l=Math.max(1+a,1+i-t.length);if(e.length<=l)return e;const u=[],f={};let c=i-t.length;typeof r=="number"&&(r>i-Math.max(2,a)?u.push(0):c=i-r);let d,p,y=!1,m=-1,b=-1,w=-1;n===Qg&&(m=FS(e,m,t.length),m!==-1&&(c=m+l));for(let x;x=e[m+=1];){if(n===oc&&x==="\\"){switch(b=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}w=m}if(x===`
`)n===Qg&&(m=FS(e,m,t.length)),c=m+t.length+l,d=void 0;else{if(x===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const _=e[m+1];_&&_!==" "&&_!==`
`&&_!=="	"&&(d=m)}if(m>=c)if(d)u.push(d),c=d+l,d=void 0;else if(n===oc){for(;p===" "||p==="	";)p=x,x=e[m+=1],y=!0;const _=m>w+1?m-2:b-1;if(f[_])return e;u.push(_),f[_]=!0,c=_+l,d=void 0}else y=!0}p=x}if(y&&s&&s(),u.length===0)return e;o&&o();let g=e.slice(0,u[0]);for(let x=0;x<u.length;++x){const _=u[x],v=u[x+1]||e.length;_===0?g=`
${t}${e.slice(0,v)}`:(n===oc&&f[_]&&(g+=`${e[_]}\\`),g+=`
${t}${e.slice(_+1,v)}`)}return g}function FS(e,t,n){let r=t,i=t+1,a=e[i];for(;a===" "||a==="	";)if(t<i+n)a=e[++t];else{do a=e[++t];while(a&&a!==`
`);r=t,i=t+1,a=e[i]}return r}const Yd=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Xd=e=>/^(%|---|\.\.\.)/m.test(e);function LZ(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let a=0,o=0;a<i;++a)if(e[a]===`
`){if(a-o>r)return!0;if(o=a+1,i-o<=r)return!1}return!0}function As(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,a=t.indent||(Xd(e)?"  ":"");let o="",s=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(s,l)+"\\ ",l+=1,s=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(s,l);const f=n.substr(l+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(l,6)}l+=5,s=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(s,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=a,n[l+2]===" "&&(o+="\\"),l+=1,s=l+1}break;default:l+=1}return o=s?o+n.slice(s):n,r?o:Gd(o,a,oc,Yd(t,!1))}function Jg(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return As(e,t);const n=t.indent||(Xd(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Gd(r,n,v$,Yd(t,!1))}function Oa(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=As;else{const i=e.includes('"'),a=e.includes("'");i&&!a?r=Jg:a&&!i?r=As:r=n?Jg:As}return r(e,t)}let Zg;try{Zg=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Zg=/\n+(?!\n|$)/g}function sc({comment:e,type:t,value:n},r,i,a){const{blockQuote:o,commentString:s,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return Oa(n,r);const u=r.indent||(r.forceBlockIndent||Xd(n)?"  ":""),f=o==="literal"?!0:o==="folded"||t===se.BLOCK_FOLDED?!1:t===se.BLOCK_LITERAL?!0:!LZ(n,l,u.length);if(!n)return f?`|
`:`>
`;let c,d;for(d=n.length;d>0;--d){const v=n[d-1];if(v!==`
`&&v!=="	"&&v!==" ")break}let p=n.substring(d);const y=p.indexOf(`
`);y===-1?c="-":n===p||y!==p.length-1?(c="+",a&&a()):c="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(Zg,`$&${u}`));let m=!1,b,w=-1;for(b=0;b<n.length;++b){const v=n[b];if(v===" ")m=!0;else if(v===`
`)w=b;else break}let g=n.substring(0,w<b?w+1:b);g&&(n=n.substring(g.length),g=g.replace(/\n+/g,`$&${u}`));let _=(m?u?"2":"1":"")+c;if(e&&(_+=" "+s(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!f){const v=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let S=!1;const O=Yd(r,!0);o!=="folded"&&t!==se.BLOCK_FOLDED&&(O.onOverflow=()=>{S=!0});const j=Gd(`${g}${v}${p}`,u,Qg,O);if(!S)return`>${_}
${u}${j}`}return n=n.replace(/\n+/g,`$&${u}`),`|${_}
${u}${g}${n}${p}`}function DZ(e,t,n,r){const{type:i,value:a}=e,{actualString:o,implicitKey:s,indent:l,indentStep:u,inFlow:f}=t;if(s&&a.includes(`
`)||f&&/[[\]{},]/.test(a))return Oa(a,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return s||f||!a.includes(`
`)?Oa(a,t):sc(e,t,n,r);if(!s&&!f&&i!==se.PLAIN&&a.includes(`
`))return sc(e,t,n,r);if(Xd(a)){if(l==="")return t.forceBlockIndent=!0,sc(e,t,n,r);if(s&&l===u)return Oa(a,t)}const c=a.replace(/\n+/g,`$&
${l}`);if(o){const d=m=>{var b;return m.default&&m.tag!=="tag:yaml.org,2002:str"&&((b=m.test)==null?void 0:b.test(c))},{compat:p,tags:y}=t.doc.schema;if(y.some(d)||p!=null&&p.some(d))return Oa(a,t)}return s?c:Gd(c,l,v$,Yd(t,!1))}function Xl(e,t,n,r){const{implicitKey:i,inFlow:a}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:s}=e;s!==se.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(s=se.QUOTE_DOUBLE);const l=f=>{switch(f){case se.BLOCK_FOLDED:case se.BLOCK_LITERAL:return i||a?Oa(o.value,t):sc(o,t,n,r);case se.QUOTE_DOUBLE:return As(o.value,t);case se.QUOTE_SINGLE:return Jg(o.value,t);case se.PLAIN:return DZ(o,t,n,r);default:return null}};let u=l(s);if(u===null){const{defaultKeyType:f,defaultStringType:c}=t.options,d=i&&f||c;if(u=l(d),u===null)throw new Error(`Unsupported default string type ${d}`)}return u}function b$(e,t){const n=Object.assign({blockQuote:!0,commentString:MZ,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function RZ(e,t){var i;if(t.tag){const a=e.filter(o=>o.tag===t.tag);if(a.length>0)return a.find(o=>o.format===t.format)??a[0]}let n,r;if(Ae(t)){r=t.value;let a=e.filter(o=>{var s;return(s=o.identify)==null?void 0:s.call(o,r)});if(a.length>1){const o=a.filter(s=>s.test);o.length>0&&(a=o)}n=a.find(o=>o.format===t.format)??a.find(o=>!o.format)}else r=t,n=e.find(a=>a.nodeClass&&r instanceof a.nodeClass);if(!n){const a=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${a} value`)}return n}function BZ(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],a=(Ae(e)||Fe(e))&&e.anchor;a&&p$(a)&&(n.add(a),i.push(`&${a}`));const o=e.tag??(t.default?null:t.tag);return o&&i.push(r.directives.tagString(o)),i.join(" ")}function ho(e,t,n,r){var l;if(Re(e))return e.toString(t,n,r);if(ii(e)){if(t.doc.directives)return e.toString(t);if((l=t.resolvedAliases)!=null&&l.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const a=Ue(e)?e:t.doc.createNode(e,{onTagObj:u=>i=u});i??(i=RZ(t.doc.schema.tags,a));const o=BZ(a,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const s=typeof i.stringify=="function"?i.stringify(a,t,n,r):Ae(a)?Xl(a,t,n,r):a.toString(t,n,r);return o?Ae(a)||s[0]==="{"||s[0]==="["?`${o} ${s}`:`${o}
${t.indent}${s}`:s}function FZ({key:e,value:t},n,r,i){const{allNullValues:a,doc:o,indent:s,indentStep:l,options:{commentString:u,indentSeq:f,simpleKeys:c}}=n;let d=Ue(e)&&e.comment||null;if(c){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Fe(e)||!Ue(e)&&typeof e=="object"){const O="With simple keys, collection cannot be used as a key value";throw new Error(O)}}let p=!c&&(!e||d&&t==null&&!n.inFlow||Fe(e)||(Ae(e)?e.type===se.BLOCK_FOLDED||e.type===se.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(c||!a),indent:s+l});let y=!1,m=!1,b=ho(e,n,()=>y=!0,()=>m=!0);if(!p&&!n.inFlow&&b.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(a||t==null)return y&&r&&r(),b===""?"?":p?`? ${b}`:b}else if(a&&!c||t==null&&p)return b=`? ${b}`,d&&!y?b+=wi(b,n.indent,u(d)):m&&i&&i(),b;y&&(d=null),p?(d&&(b+=wi(b,n.indent,u(d))),b=`? ${b}
${s}:`):(b=`${b}:`,d&&(b+=wi(b,n.indent,u(d))));let w,g,x;Ue(t)?(w=!!t.spaceBefore,g=t.commentBefore,x=t.comment):(w=!1,g=null,x=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!p&&!d&&Ae(t)&&(n.indentAtStart=b.length+1),m=!1,!f&&l.length>=2&&!n.inFlow&&!p&&Lo(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let _=!1;const v=ho(t,n,()=>_=!0,()=>m=!0);let S=" ";if(d||w||g){if(S=w?`
`:"",g){const O=u(g);S+=`
${or(O,n.indent)}`}v===""&&!n.inFlow?S===`
`&&(S=`

`):S+=`
${n.indent}`}else if(!p&&Fe(t)){const O=v[0],j=v.indexOf(`
`),A=j!==-1,k=n.inFlow??t.flow??t.items.length===0;if(A||!k){let T=!1;if(A&&(O==="&"||O==="!")){let P=v.indexOf(" ");O==="&"&&P!==-1&&P<j&&v[P+1]==="!"&&(P=v.indexOf(" ",P+1)),(P===-1||j<P)&&(T=!0)}T||(S=`
${n.indent}`)}}else(v===""||v[0]===`
`)&&(S="");return b+=S+v,n.inFlow?_&&r&&r():x&&!_?b+=wi(b,n.indent,u(x)):m&&i&&i(),b}function w$(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const Cu="<<",fr={identify:e=>e===Cu||typeof e=="symbol"&&e.description===Cu,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new se(Symbol(Cu)),{addToJSMap:x$}),stringify:()=>Cu},zZ=(e,t)=>(fr.identify(t)||Ae(t)&&(!t.type||t.type===se.PLAIN)&&fr.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===fr.tag&&n.default));function x$(e,t,n){if(n=e&&ii(n)?n.resolve(e.doc):n,Lo(n))for(const r of n.items)sh(e,t,r);else if(Array.isArray(n))for(const r of n)sh(e,t,r);else sh(e,t,n)}function sh(e,t,n){const r=e&&ii(n)?n.resolve(e.doc):n;if(!Mo(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[a,o]of i)t instanceof Map?t.has(a)||t.set(a,o):t instanceof Set?t.add(a):Object.prototype.hasOwnProperty.call(t,a)||Object.defineProperty(t,a,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function S$(e,t,{key:n,value:r}){if(Ue(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(zZ(e,n))x$(e,t,r);else{const i=fn(n,"",e);if(t instanceof Map)t.set(i,fn(r,i,e));else if(t instanceof Set)t.add(i);else{const a=UZ(n,i,e),o=fn(r,a,e);a in t?Object.defineProperty(t,a,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[a]=o}}return t}function UZ(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Ue(e)&&(n!=null&&n.doc)){const r=b$(n.doc,{});r.anchors=new Set;for(const a of n.anchors.keys())r.anchors.add(a.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let a=JSON.stringify(i);a.length>40&&(a=a.substring(0,36)+'..."'),w$(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function pb(e,t,n){const r=Pl(e,void 0,n),i=Pl(t,void 0,n);return new jt(r,i)}class jt{constructor(t,n=null){Object.defineProperty(this,mn,{value:s$}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Ue(n)&&(n=n.clone(t)),Ue(r)&&(r=r.clone(t)),new jt(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return S$(n,r,this)}toString(t,n,r){return t!=null&&t.doc?FZ(this,t,n,r):JSON.stringify(this)}}function _$(e,t,n){return(t.inFlow??e.flow?VZ:KZ)(e,t,n)}function KZ({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:a,onChompKeep:o,onComment:s}){const{indent:l,options:{commentString:u}}=n,f=Object.assign({},n,{indent:a,type:null});let c=!1;const d=[];for(let y=0;y<t.length;++y){const m=t[y];let b=null;if(Ue(m))!c&&m.spaceBefore&&d.push(""),Lf(n,d,m.commentBefore,c),m.comment&&(b=m.comment);else if(Re(m)){const g=Ue(m.key)?m.key:null;g&&(!c&&g.spaceBefore&&d.push(""),Lf(n,d,g.commentBefore,c))}c=!1;let w=ho(m,f,()=>b=null,()=>c=!0);b&&(w+=wi(w,a,u(b))),c&&b&&(c=!1),d.push(r+w)}let p;if(d.length===0)p=i.start+i.end;else{p=d[0];for(let y=1;y<d.length;++y){const m=d[y];p+=m?`
${l}${m}`:`
`}}return e?(p+=`
`+or(u(e),l),s&&s()):c&&o&&o(),p}function VZ({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:a,flowCollectionPadding:o,options:{commentString:s}}=t;r+=a;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,f=0;const c=[];for(let y=0;y<e.length;++y){const m=e[y];let b=null;if(Ue(m))m.spaceBefore&&c.push(""),Lf(t,c,m.commentBefore,!1),m.comment&&(b=m.comment);else if(Re(m)){const g=Ue(m.key)?m.key:null;g&&(g.spaceBefore&&c.push(""),Lf(t,c,g.commentBefore,!1),g.comment&&(u=!0));const x=Ue(m.value)?m.value:null;x?(x.comment&&(b=x.comment),x.commentBefore&&(u=!0)):m.value==null&&(g!=null&&g.comment)&&(b=g.comment)}b&&(u=!0);let w=ho(m,l,()=>b=null);y<e.length-1&&(w+=","),b&&(w+=wi(w,r,s(b))),!u&&(c.length>f||w.includes(`
`))&&(u=!0),c.push(w),f=c.length}const{start:d,end:p}=n;if(c.length===0)return d+p;if(!u){const y=c.reduce((m,b)=>m+b.length+2,2);u=t.options.lineWidth>0&&y>t.options.lineWidth}if(u){let y=d;for(const m of c)y+=m?`
${a}${i}${m}`:`
`;return`${y}
${i}${p}`}else return`${d}${o}${c.join(" ")}${o}${p}`}function Lf({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const a=or(t(r),e);n.push(a.trimStart())}}function xi(e,t){const n=Ae(t)?t.value:t;for(const r of e)if(Re(r)&&(r.key===t||r.key===n||Ae(r.key)&&r.key.value===n))return r}class Ht extends y${static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Wr,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:a}=r,o=new this(t),s=(l,u)=>{if(typeof a=="function")u=a.call(n,l,u);else if(Array.isArray(a)&&!a.includes(l))return;(u!==void 0||i)&&o.items.push(pb(l,u,r))};if(n instanceof Map)for(const[l,u]of n)s(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))s(l,n[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;Re(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new jt(t,t==null?void 0:t.value):r=new jt(t.key,t.value);const i=xi(this.items,r.key),a=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Ae(i.value)&&g$(r.value)?i.value.value=r.value:i.value=r.value}else if(a){const s=this.items.findIndex(l=>a(r,l)<0);s===-1?this.items.push(r):this.items.splice(s,0,r)}else this.items.push(r)}delete(t){const n=xi(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=xi(this.items,t),i=r==null?void 0:r.value;return(!n&&Ae(i)?i.value:i)??void 0}has(t){return!!xi(this.items,t)}set(t,n){this.add(new jt(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const a of this.items)S$(n,i,a);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Re(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),_$(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Do={collection:"map",default:!0,nodeClass:Ht,tag:"tag:yaml.org,2002:map",resolve(e,t){return Mo(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Ht.from(e,t,n)};class Yr extends y${static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Io,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Iu(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Iu(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Ae(i)?i.value:i}has(t){const n=Iu(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Iu(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Ae(i)&&g$(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const a of this.items)r.push(fn(a,String(i++),n));return r}toString(t,n,r){return t?_$(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,a=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let s of n){if(typeof i=="function"){const l=n instanceof Set?s:String(o++);s=i.call(n,l,s)}a.items.push(Pl(s,void 0,r))}}return a}}function Iu(e){let t=Ae(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Ro={collection:"seq",default:!0,nodeClass:Yr,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Lo(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Yr.from(e,t,n)},Qd={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Xl(e,t,n,r)}},Jd={identify:e=>e==null,createNode:()=>new se(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new se(null),stringify:({source:e},t)=>typeof e=="string"&&Jd.test.test(e)?e:t.options.nullStr},hb={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new se(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&hb.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Mn({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let a=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let o=a.indexOf(".");o<0&&(o=a.length,a+=".");let s=t-(a.length-o-1);for(;s-- >0;)a+="0"}return a}const O$={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Mn},j$={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Mn(e)}},A$={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new se(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Mn},Zd=e=>typeof e=="bigint"||Number.isInteger(e),mb=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function P$(e,t,n){const{value:r}=e;return Zd(r)&&r>=0?n+r.toString(t):Mn(e)}const k$={identify:e=>Zd(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>mb(e,2,8,n),stringify:e=>P$(e,8,"0o")},$$={identify:Zd,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>mb(e,0,10,n),stringify:Mn},E$={identify:e=>Zd(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>mb(e,2,16,n),stringify:e=>P$(e,16,"0x")},qZ=[Do,Ro,Qd,Jd,hb,k$,$$,E$,O$,j$,A$];function zS(e){return typeof e=="bigint"||Number.isInteger(e)}const Mu=({value:e})=>JSON.stringify(e),WZ=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Mu},{identify:e=>e==null,createNode:()=>new se(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Mu},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:Mu},{identify:zS,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>zS(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Mu}],HZ={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},GZ=[Do,Ro].concat(WZ,HZ),gb={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,a){if(!n)return"";const o=n;let s;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);s=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=se.BLOCK_LITERAL),t!==se.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(s.length/l),f=new Array(u);for(let c=0,d=0;c<u;++c,d+=l)f[c]=s.substr(d,l);s=f.join(t===se.BLOCK_LITERAL?`
`:" ")}return Xl({comment:e,type:t,value:s},r,i,a)}};function T$(e,t){if(Lo(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Re(r)){if(Mo(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new jt(new se(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const a=i.value??i.key;a.comment=a.comment?`${r.comment}
${a.comment}`:r.comment}r=i}e.items[n]=Re(r)?r:new jt(r)}}else t("Expected a sequence for this tag");return e}function N$(e,t,n){const{replacer:r}=n,i=new Yr(e);i.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(a++),o));let s,l;if(Array.isArray(o))if(o.length===2)s=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)s=u[0],l=o[s];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else s=o;i.items.push(pb(s,l,n))}return i}const yb={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:T$,createNode:N$};class La extends Yr{constructor(){super(),this.add=Ht.prototype.add.bind(this),this.delete=Ht.prototype.delete.bind(this),this.get=Ht.prototype.get.bind(this),this.has=Ht.prototype.has.bind(this),this.set=Ht.prototype.set.bind(this),this.tag=La.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let a,o;if(Re(i)?(a=fn(i.key,"",n),o=fn(i.value,a,n)):a=fn(i,"",n),r.has(a))throw new Error("Ordered maps must not include duplicate keys");r.set(a,o)}return r}static from(t,n,r){const i=N$(t,n,r),a=new this;return a.items=i.items,a}}La.tag="tag:yaml.org,2002:omap";const vb={collection:"seq",identify:e=>e instanceof Map,nodeClass:La,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=T$(e,t),r=[];for(const{key:i}of n.items)Ae(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new La,n)},createNode:(e,t,n)=>La.from(e,t,n)};function C$({value:e,source:t},n){return t&&(e?I$:M$).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const I$={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new se(!0),stringify:C$},M$={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new se(!1),stringify:C$},YZ={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Mn},XZ={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Mn(e)}},QZ={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new se(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Mn},Ql=e=>typeof e=="bigint"||Number.isInteger(e);function ep(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return i==="-"?BigInt(-1)*o:o}const a=parseInt(e,n);return i==="-"?-1*a:a}function bb(e,t,n){const{value:r}=e;if(Ql(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Mn(e)}const JZ={identify:Ql,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>ep(e,2,2,n),stringify:e=>bb(e,2,"0b")},ZZ={identify:Ql,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>ep(e,1,8,n),stringify:e=>bb(e,8,"0")},eee={identify:Ql,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>ep(e,0,10,n),stringify:Mn},tee={identify:Ql,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>ep(e,2,16,n),stringify:e=>bb(e,16,"0x")};class Da extends Ht{constructor(t){super(t),this.tag=Da.tag}add(t){let n;Re(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new jt(t.key,null):n=new jt(t,null),xi(this.items,n.key)||this.items.push(n)}get(t,n){const r=xi(this.items,t);return!n&&Re(r)?Ae(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=xi(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new jt(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,a=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),a.items.push(pb(o,null,r));return a}}Da.tag="tag:yaml.org,2002:set";const wb={collection:"map",identify:e=>e instanceof Set,nodeClass:Da,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Da.from(e,t,n),resolve(e,t){if(Mo(e)){if(e.hasAllNullValues(!0))return Object.assign(new Da,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function xb(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),a=r.replace(/_/g,"").split(":").reduce((o,s)=>o*i(60)+i(s),i(0));return n==="-"?i(-1)*a:a}function L$(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Mn(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),a=[t%i];return t<60?a.unshift(0):(t=(t-a[0])/i,a.unshift(t%i),t>=60&&(t=(t-a[0])/i,a.unshift(t))),r+a.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const D$={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>xb(e,n),stringify:L$},R$={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>xb(e,!1),stringify:L$},tp={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(tp.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,a,o,s]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,a||0,o||0,s||0,l);const f=t[8];if(f&&f!=="Z"){let c=xb(f,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:e})=>(e==null?void 0:e.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},US=[Do,Ro,Qd,Jd,I$,M$,JZ,ZZ,eee,tee,YZ,XZ,QZ,gb,fr,vb,yb,wb,D$,R$,tp],KS=new Map([["core",qZ],["failsafe",[Do,Ro,Qd]],["json",GZ],["yaml11",US],["yaml-1.1",US]]),VS={binary:gb,bool:hb,float:A$,floatExp:j$,floatNaN:O$,floatTime:R$,int:$$,intHex:E$,intOct:k$,intTime:D$,map:Do,merge:fr,null:Jd,omap:vb,pairs:yb,seq:Ro,set:wb,timestamp:tp},nee={"tag:yaml.org,2002:binary":gb,"tag:yaml.org,2002:merge":fr,"tag:yaml.org,2002:omap":vb,"tag:yaml.org,2002:pairs":yb,"tag:yaml.org,2002:set":wb,"tag:yaml.org,2002:timestamp":tp};function lh(e,t,n){const r=KS.get(t);if(r&&!e)return n&&!r.includes(fr)?r.concat(fr):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const a=Array.from(KS.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${a} or define customTags array`)}if(Array.isArray(e))for(const a of e)i=i.concat(a);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(fr)),i.reduce((a,o)=>{const s=typeof o=="string"?VS[o]:o;if(!s){const l=JSON.stringify(o),u=Object.keys(VS).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return a.includes(s)||a.push(s),a},[])}const ree=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class np{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:a,sortMapEntries:o,toStringDefaults:s}){this.compat=Array.isArray(t)?lh(t,"compat"):t?lh(null,t):null,this.name=typeof a=="string"&&a||"core",this.knownTags=i?nee:{},this.tags=lh(n,this.name,r),this.toStringOptions=s??null,Object.defineProperty(this,Wr,{value:Do}),Object.defineProperty(this,Yn,{value:Qd}),Object.defineProperty(this,Io,{value:Ro}),this.sortMapEntries=typeof o=="function"?o:o===!0?ree:null}clone(){const t=Object.create(np.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function iee(e,t){var l;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=b$(e,t),{commentString:a}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=a(e.commentBefore);n.unshift(or(u,""))}let o=!1,s=null;if(e.contents){if(Ue(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=a(e.contents.commentBefore);n.push(or(c,""))}i.forceBlockIndent=!!e.comment,s=e.contents.comment}const u=s?void 0:()=>o=!0;let f=ho(e.contents,i,()=>s=null,u);s&&(f+=wi(f,"",a(s))),(f[0]==="|"||f[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${f}`:n.push(f)}else n.push(ho(e.contents,i));if((l=e.directives)!=null&&l.docEnd)if(e.comment){const u=a(e.comment);u.includes(`
`)?(n.push("..."),n.push(or(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||s)&&n[n.length-1]!==""&&n.push(""),n.push(or(a(u),"")))}return n.join(`
`)+`
`}class Bo{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,mn,{value:Xg});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=a;let{version:o}=a;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new kt({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(Bo.prototype,{[mn]:{value:Xg}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ue(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){na(this.contents)&&this.contents.add(t)}addIn(t,n){na(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=h$(this);t.anchor=!n||r.has(n)?m$(n||"a",r):n}return new Hd(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const b=g=>typeof g=="number"||g instanceof String||g instanceof Number,w=n.filter(b).map(String);w.length>0&&(n=n.concat(w)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:a,anchorPrefix:o,flow:s,keepUndefined:l,onTagObj:u,tag:f}=r??{},{onAnchor:c,setAnchors:d,sourceObjects:p}=NZ(this,o||"a"),y={aliasDuplicateObjects:a??!0,keepUndefined:l??!1,onAnchor:c,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:p},m=Pl(t,f,y);return s&&Fe(m)&&(m.flow=!0),d(),m}createPair(t,n,r={}){const i=this.createNode(t,null,r),a=this.createNode(n,null,r);return new jt(i,a)}delete(t){return na(this.contents)?this.contents.delete(t):!1}deleteIn(t){return fs(t)?this.contents==null?!1:(this.contents=null,!0):na(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Fe(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return fs(t)?!n&&Ae(this.contents)?this.contents.value:this.contents:Fe(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Fe(this.contents)?this.contents.has(t):!1}hasIn(t){return fs(t)?this.contents!==void 0:Fe(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Mf(this.schema,[t],n):na(this.contents)&&this.contents.set(t,n)}setIn(t,n){fs(t)?this.contents=n:this.contents==null?this.contents=Mf(this.schema,Array.from(t),n):na(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new kt({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new kt({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new np(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:a,reviver:o}={}){const s={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=fn(this.contents,n??"",s);if(typeof a=="function")for(const{count:u,res:f}of s.anchors.values())a(f,u);return typeof o=="function"?_a(o,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return iee(this,t)}}function na(e){if(Fe(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Sb extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class Si extends Sb{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class B$ extends Sb{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const Df=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(s=>t.linePos(s));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let a=i-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(a>=60&&o.length>80){const s=Math.min(a-39,o.length-79);o="…"+o.substring(s),a-=s-1}if(o.length>80&&(o=o.substring(0,79)+"…"),r>1&&/^ *$/.test(o.substring(0,a))){let s=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);s.length>80&&(s=s.substring(0,79)+`…
`),o=s+o}if(/[^ ]/.test(o)){let s=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(s=Math.max(1,Math.min(l.col-i,80-a)));const u=" ".repeat(a)+"^".repeat(s);n.message+=`:

${o}
${u}
`}};function mo(e,{flow:t,indicator:n,next:r,offset:i,onError:a,parentIndent:o,startOnNewline:s}){let l=!1,u=s,f=s,c="",d="",p=!1,y=!1,m=null,b=null,w=null,g=null,x=null,_=null,v=null;for(const j of e)switch(y&&(j.type!=="space"&&j.type!=="newline"&&j.type!=="comma"&&a(j.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),m&&(u&&j.type!=="comment"&&j.type!=="newline"&&a(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),j.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&j.source.includes("	")&&(m=j),f=!0;break;case"comment":{f||a(j,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const A=j.source.substring(1)||" ";c?c+=d+A:c=A,d="",u=!1;break}case"newline":u?c?c+=j.source:(!_||n!=="seq-item-ind")&&(l=!0):d+=j.source,u=!0,p=!0,(b||w)&&(g=j),f=!0;break;case"anchor":b&&a(j,"MULTIPLE_ANCHORS","A node can have at most one anchor"),j.source.endsWith(":")&&a(j.offset+j.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),b=j,v??(v=j.offset),u=!1,f=!1,y=!0;break;case"tag":{w&&a(j,"MULTIPLE_TAGS","A node can have at most one tag"),w=j,v??(v=j.offset),u=!1,f=!1,y=!0;break}case n:(b||w)&&a(j,"BAD_PROP_ORDER",`Anchors and tags must be after the ${j.source} indicator`),_&&a(j,"UNEXPECTED_TOKEN",`Unexpected ${j.source} in ${t??"collection"}`),_=j,u=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(t){x&&a(j,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),x=j,u=!1,f=!1;break}default:a(j,"UNEXPECTED_TOKEN",`Unexpected ${j.type} token`),u=!1,f=!1}const S=e[e.length-1],O=S?S.offset+S.source.length:i;return y&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&a(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(u&&m.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&a(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:x,found:_,spaceBefore:l,comment:c,hasNewline:p,anchor:b,tag:w,newlineAfterProp:g,end:O,start:v??O}}function kl(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(kl(t.key)||kl(t.value))return!0}return!1;default:return!0}}function ey(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&kl(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function F$(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(a,o)=>a===o||Ae(a)&&Ae(o)&&a.value===o.value;return t.some(a=>i(a.key,n))}const qS="All mapping items must start at the same column";function aee({composeNode:e,composeEmptyNode:t},n,r,i,a){var f;const o=(a==null?void 0:a.nodeClass)??Ht,s=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:d,key:p,sep:y,value:m}=c,b=mo(d,{indicator:"explicit-key-ind",next:p??(y==null?void 0:y[0]),offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),w=!b.found;if(w){if(p&&(p.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&i(l,"BAD_INDENT",qS)),!b.anchor&&!b.tag&&!y){u=b.end,b.comment&&(s.comment?s.comment+=`
`+b.comment:s.comment=b.comment);continue}(b.newlineAfterProp||kl(p))&&i(p??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((f=b.found)==null?void 0:f.indent)!==r.indent&&i(l,"BAD_INDENT",qS);n.atKey=!0;const g=b.end,x=p?e(n,p,b,i):t(n,g,d,null,b,i);n.schema.compat&&ey(r.indent,p,i),n.atKey=!1,F$(n,s.items,x)&&i(g,"DUPLICATE_KEY","Map keys must be unique");const _=mo(y??[],{indicator:"map-value-ind",next:m,offset:x.range[2],onError:i,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(l=_.end,_.found){w&&((m==null?void 0:m.type)==="block-map"&&!_.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&b.start<_.found.offset-1024&&i(x.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const v=m?e(n,m,_,i):t(n,l,y,null,_,i);n.schema.compat&&ey(r.indent,m,i),l=v.range[2];const S=new jt(x,v);n.options.keepSourceTokens&&(S.srcToken=c),s.items.push(S)}else{w&&i(x.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),_.comment&&(x.comment?x.comment+=`
`+_.comment:x.comment=_.comment);const v=new jt(x);n.options.keepSourceTokens&&(v.srcToken=c),s.items.push(v)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),s.range=[r.offset,l,u??l],s}function oee({composeNode:e,composeEmptyNode:t},n,r,i,a){const o=(a==null?void 0:a.nodeClass)??Yr,s=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:f,value:c}of r.items){const d=mo(f,{indicator:"seq-item-ind",next:c,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||c)c&&c.type==="block-seq"?i(d.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=d.end,d.comment&&(s.comment=d.comment);continue}const p=c?e(n,c,d,i):t(n,d.end,f,null,d,i);n.schema.compat&&ey(r.indent,c,i),l=p.range[2],s.items.push(p)}return s.range=[r.offset,l,u??l],s}function Jl(e,t,n,r){let i="";if(e){let a=!1,o="";for(const s of e){const{source:l,type:u}=s;switch(u){case"space":a=!0;break;case"comment":{n&&!a&&r(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const f=l.substring(1)||" ";i?i+=o+f:i=f,o="";break}case"newline":i&&(o+=l),a=!0;break;default:r(s,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:i,offset:t}}const uh="Block collections are not allowed within flow collections",ch=e=>e&&(e.type==="block-map"||e.type==="block-seq");function see({composeNode:e,composeEmptyNode:t},n,r,i,a){const o=r.start.source==="{",s=o?"flow map":"flow sequence",l=(a==null?void 0:a.nodeClass)??(o?Ht:Yr),u=new l(n.schema);u.flow=!0;const f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let b=0;b<r.items.length;++b){const w=r.items[b],{start:g,key:x,sep:_,value:v}=w,S=mo(g,{flow:s,indicator:"explicit-key-ind",next:x??(_==null?void 0:_[0]),offset:c,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!_&&!v){b===0&&S.comma?i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):b<r.items.length-1&&i(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),S.comment&&(u.comment?u.comment+=`
`+S.comment:u.comment=S.comment),c=S.end;continue}!o&&n.options.strict&&kl(x)&&i(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)S.comma&&i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(S.comma||i(S.start,"MISSING_CHAR",`Missing , between ${s} items`),S.comment){let O="";e:for(const j of g)switch(j.type){case"comma":case"space":break;case"comment":O=j.source.substring(1);break e;default:break e}if(O){let j=u.items[u.items.length-1];Re(j)&&(j=j.value??j.key),j.comment?j.comment+=`
`+O:j.comment=O,S.comment=S.comment.substring(O.length+1)}}if(!o&&!_&&!S.found){const O=v?e(n,v,S,i):t(n,S.end,_,null,S,i);u.items.push(O),c=O.range[2],ch(v)&&i(O.range,"BLOCK_IN_FLOW",uh)}else{n.atKey=!0;const O=S.end,j=x?e(n,x,S,i):t(n,O,g,null,S,i);ch(x)&&i(j.range,"BLOCK_IN_FLOW",uh),n.atKey=!1;const A=mo(_??[],{flow:s,indicator:"map-value-ind",next:v,offset:j.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(A.found){if(!o&&!S.found&&n.options.strict){if(_)for(const P of _){if(P===A.found)break;if(P.type==="newline"){i(P,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<A.found.offset-1024&&i(A.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else v&&("source"in v&&v.source&&v.source[0]===":"?i(v,"MISSING_CHAR",`Missing space after : in ${s}`):i(A.start,"MISSING_CHAR",`Missing , or : between ${s} items`));const k=v?e(n,v,A,i):A.found?t(n,A.end,_,null,A,i):null;k?ch(v)&&i(k.range,"BLOCK_IN_FLOW",uh):A.comment&&(j.comment?j.comment+=`
`+A.comment:j.comment=A.comment);const T=new jt(j,k);if(n.options.keepSourceTokens&&(T.srcToken=w),o){const P=u;F$(n,P.items,j)&&i(O,"DUPLICATE_KEY","Map keys must be unique"),P.items.push(T)}else{const P=new Ht(n.schema);P.flow=!0,P.items.push(T);const E=(k??j).range;P.range=[j.range[0],E[1],E[2]],u.items.push(P)}c=k?k.range[2]:A.end}}const d=o?"}":"]",[p,...y]=r.end;let m=c;if(p&&p.source===d)m=p.offset+p.source.length;else{const b=s[0].toUpperCase()+s.substring(1),w=f?`${b} must end with a ${d}`:`${b} in block collection must be sufficiently indented and end with a ${d}`;i(c,f?"MISSING_CHAR":"BAD_INDENT",w),p&&p.source.length!==1&&y.unshift(p)}if(y.length>0){const b=Jl(y,m,n.options.strict,i);b.comment&&(u.comment?u.comment+=`
`+b.comment:u.comment=b.comment),u.range=[r.offset,m,b.offset]}else u.range=[r.offset,m,m];return u}function fh(e,t,n,r,i,a){const o=n.type==="block-map"?aee(e,t,n,r,a):n.type==="block-seq"?oee(e,t,n,r,a):see(e,t,n,r,a),s=o.constructor;return i==="!"||i===s.tagName?(o.tag=s.tagName,o):(i&&(o.tag=i),o)}function lee(e,t,n,r,i){var d;const a=r.tag,o=a?t.directives.tagName(a.source,p=>i(a,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){const{anchor:p,newlineAfterProp:y}=r,m=p&&a?p.offset>a.offset?p:a:p??a;m&&(!y||y.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const s=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!a||!o||o==="!"||o===Ht.tagName&&s==="map"||o===Yr.tagName&&s==="seq")return fh(e,t,n,i,o);let l=t.schema.tags.find(p=>p.tag===o&&p.collection===s);if(!l){const p=t.schema.knownTags[o];if(p&&p.collection===s)t.schema.tags.push(Object.assign({},p,{default:!1})),l=p;else return p?i(a,"BAD_COLLECTION_TYPE",`${p.tag} used for ${s} collection, but expects ${p.collection??"scalar"}`,!0):i(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),fh(e,t,n,i,o)}const u=fh(e,t,n,i,o,l),f=((d=l.resolve)==null?void 0:d.call(l,u,p=>i(a,"TAG_RESOLVE_FAILED",p),t.options))??u,c=Ue(f)?f:new se(f);return c.range=u.range,c.tag=o,l!=null&&l.format&&(c.format=l.format),c}function z$(e,t,n){const r=t.offset,i=uee(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const a=i.mode===">"?se.BLOCK_FOLDED:se.BLOCK_LITERAL,o=t.source?cee(t.source):[];let s=o.length;for(let m=o.length-1;m>=0;--m){const b=o[m][1];if(b===""||b==="\r")s=m;else break}if(s===0){const m=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let b=r+i.length;return t.source&&(b+=t.source.length),{value:m,type:a,comment:i.comment,range:[r,b,b]}}let l=t.indent+i.indent,u=t.offset+i.length,f=0;for(let m=0;m<s;++m){const[b,w]=o[m];if(w===""||w==="\r")i.indent===0&&b.length>l&&(l=b.length);else{b.length<l&&n(u+b.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=b.length),f=m,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=b.length+w.length+1}for(let m=o.length-1;m>=s;--m)o[m][0].length>l&&(s=m+1);let c="",d="",p=!1;for(let m=0;m<f;++m)c+=o[m][0].slice(l)+`
`;for(let m=f;m<s;++m){let[b,w]=o[m];u+=b.length+w.length+1;const g=w[w.length-1]==="\r";if(g&&(w=w.slice(0,-1)),w&&b.length<l){const _=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-w.length-(g?2:1),"BAD_INDENT",_),b=""}a===se.BLOCK_LITERAL?(c+=d+b.slice(l)+w,d=`
`):b.length>l||w[0]==="	"?(d===" "?d=`
`:!p&&d===`
`&&(d=`

`),c+=d+b.slice(l)+w,d=`
`,p=!0):w===""?d===`
`?c+=`
`:d=`
`:(c+=d+w,d=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let m=s;m<o.length;++m)c+=`
`+o[m][0].slice(l);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const y=r+i.length+t.source.length;return{value:c,type:a,comment:i.comment,range:[r,y,y]}}function uee({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],a=i[0];let o=0,s="",l=-1;for(let d=1;d<i.length;++d){const p=i[d];if(!s&&(p==="-"||p==="+"))s=p;else{const y=Number(p);!o&&y?o=y:l===-1&&(l=e+d)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,f="",c=i.length;for(let d=1;d<t.length;++d){const p=t[d];switch(p.type){case"space":u=!0;case"newline":c+=p.source.length;break;case"comment":n&&!u&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=p.source.length,f=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),c+=p.source.length;break;default:{const y=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",y);const m=p.source;m&&typeof m=="string"&&(c+=m.length)}}}return{mode:a,indent:o,chomp:s,comment:f,length:c}}function cee(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),a=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)a.push([t[o],t[o+1]]);return a}function U$(e,t,n){const{offset:r,type:i,source:a,end:o}=e;let s,l;const u=(d,p,y)=>n(r+d,p,y);switch(i){case"scalar":s=se.PLAIN,l=fee(a,u);break;case"single-quoted-scalar":s=se.QUOTE_SINGLE,l=dee(a,u);break;case"double-quoted-scalar":s=se.QUOTE_DOUBLE,l=pee(a,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+a.length,r+a.length]}}const f=r+a.length,c=Jl(o,f,t,n);return{value:l,type:s,comment:c.comment,range:[r,f,c.offset]}}function fee(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),K$(e)}function dee(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),K$(e.slice(1,-1)).replace(/''/g,"'")}function K$(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],a=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?a===`
`?i+=a:a=`
`:(i+=a+r[1],a=" "),o=n.lastIndex;const s=/[ \t]*(.*)/sy;return s.lastIndex=o,r=s.exec(e),i+a+((r==null?void 0:r[1])??"")}function pee(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:a,offset:o}=hee(e,r);n+=a,r=o}else if(i==="\\"){let a=e[++r];const o=mee[a];if(o)n+=o;else if(a===`
`)for(a=e[r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="\r"&&e[r+1]===`
`)for(a=e[++r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="x"||a==="u"||a==="U"){const s={x:2,u:4,U:8}[a];n+=gee(e,r+1,s,t),r+=s}else{const s=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),n+=s}}else if(i===" "||i==="	"){const a=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>a?e.slice(a,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function hee(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const mee={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function gee(e,t,n,r){const i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const s=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),s}return String.fromCodePoint(o)}function V$(e,t,n,r){const{value:i,type:a,comment:o,range:s}=t.type==="block-scalar"?z$(e,t,r):U$(t,e.options.strict,r),l=n?e.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[Yn]:l?u=yee(e.schema,i,l,n,r):t.type==="scalar"?u=vee(e,i,t,r):u=e.schema[Yn];let f;try{const c=u.resolve(i,d=>r(n??t,"TAG_RESOLVE_FAILED",d),e.options);f=Ae(c)?c:new se(c)}catch(c){const d=c instanceof Error?c.message:String(c);r(n??t,"TAG_RESOLVE_FAILED",d),f=new se(i)}return f.range=s,f.source=i,a&&(f.type=a),l&&(f.tag=l),u.format&&(f.format=u.format),o&&(f.comment=o),f}function yee(e,t,n,r,i){var s;if(n==="!")return e[Yn];const a=[];for(const l of e.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)a.push(l);else return l;for(const l of a)if((s=l.test)!=null&&s.test(t))return l;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Yn])}function vee({atKey:e,directives:t,schema:n},r,i,a){const o=n.tags.find(s=>{var l;return(s.default===!0||e&&s.default==="key")&&((l=s.test)==null?void 0:l.test(r))})||n[Yn];if(n.compat){const s=n.compat.find(l=>{var u;return l.default&&((u=l.test)==null?void 0:u.test(r))})??n[Yn];if(o.tag!==s.tag){const l=t.tagString(o.tag),u=t.tagString(s.tag),f=`Value may be parsed as either ${l} or ${u}`;a(i,"TAG_RESOLVE_FAILED",f,!0)}}return o}function bee(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const wee={composeNode:q$,composeEmptyNode:_b};function q$(e,t,n,r){const i=e.atKey,{spaceBefore:a,comment:o,anchor:s,tag:l}=n;let u,f=!0;switch(t.type){case"alias":u=xee(e,t,r),(s||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=V$(e,t,l,r),s&&(u.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=lee(wee,e,t,n,r),s&&(u.anchor=s.source.substring(1));break;default:{const c=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",c),u=_b(e,t.offset,void 0,null,n,r),f=!1}}return s&&u.anchor===""&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!Ae(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),a&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&f&&(u.srcToken=t),u}function _b(e,t,n,r,{spaceBefore:i,comment:a,anchor:o,tag:s,end:l},u){const f={type:"scalar",offset:bee(t,n,r),indent:-1,source:""},c=V$(e,f,s,u);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(c.spaceBefore=!0),a&&(c.comment=a,c.range[2]=l),c}function xee({options:e},{offset:t,source:n,end:r},i){const a=new Hd(n.substring(1));a.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,s=Jl(r,o,e.strict,i);return a.range=[t,o,s.offset],s.comment&&(a.comment=s.comment),a}function See(e,t,{offset:n,start:r,value:i,end:a},o){const s=Object.assign({_directives:t},e),l=new Bo(void 0,s),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=mo(r,{indicator:"doc-start",next:i??(a==null?void 0:a[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?q$(u,i,f,o):_b(u,f.end,r,null,f,o);const c=l.contents.range[2],d=Jl(a,c,!1,o);return d.comment&&(l.comment=d.comment),l.range=[n,c,d.offset],l}function is(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function WS(e){var i;let t="",n=!1,r=!1;for(let a=0;a<e.length;++a){const o=e[a];switch(o[0]){case"#":t+=(t===""?"":r?`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[a+1])==null?void 0:i[0])!=="#"&&(a+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class Ob{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,a)=>{const o=is(n);a?this.warnings.push(new B$(o,r,i)):this.errors.push(new Si(o,r,i))},this.directives=new kt({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=WS(this.prelude);if(r){const a=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!a)t.commentBefore=r;else if(Fe(a)&&!a.flow&&a.items.length>0){let o=a.items[0];Re(o)&&(o=o.key);const s=o.commentBefore;o.commentBefore=s?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:WS(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const a=is(t);a[0]+=n,this.onError(a,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=See(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Si(is(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Si(is(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Jl(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Si(is(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new Bo(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function _ee(e,t=!0,n){if(e){const r=(i,a,o)=>{const s=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(s,a,o);else throw new Si([s,s+1],a,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return U$(e,t,r);case"block-scalar":return z$({options:{strict:t}},e,r)}}return null}function Oee(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:a=-1,type:o="PLAIN"}=t,s=Xl({type:o,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:r,source:`
`,d=[{type:"block-scalar-header",offset:a,indent:r,source:f}];return W$(d,l)||d.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:a,indent:r,props:d,source:c}}case'"':return{type:"double-quoted-scalar",offset:a,indent:r,source:s,end:l};case"'":return{type:"single-quoted-scalar",offset:a,indent:r,source:s,end:l};default:return{type:"scalar",offset:a,indent:r,source:s,end:l}}}function jee(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:a=!1,type:o}=n,s="indent"in e?e.indent:null;if(r&&typeof s=="number"&&(s+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=e.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=Xl({type:o,value:t},{implicitKey:i||s===null,indent:s!==null&&s>0?" ".repeat(s):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Aee(e,l);break;case'"':dh(e,l,"double-quoted-scalar");break;case"'":dh(e,l,"single-quoted-scalar");break;default:dh(e,l,"scalar")}}function Aee(e,t){const n=t.indexOf(`
`;if(e.type==="block-scalar"){const a=e.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a.source=r,e.source=i}else{const{offset:a}=e,o="indent"in e?e.indent:-1,s=[{type:"block-scalar-header",offset:a,indent:o,source:r}];W$(s,"end"in e?e.end:void 0)||s.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(e))l!=="type"&&l!=="offset"&&delete e[l];Object.assign(e,{type:"block-scalar",indent:o,props:s,source:i})}}function W$(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function dh(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const a of r)a.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(a=>a.type==="space"||a.type==="comment"||a.type==="newline"):[];for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const Pee=e=>"type"in e?Rf(e):lc(e);function Rf(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Rf(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=lc(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=lc(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=lc(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function lc({start:e,key:t,sep:n,value:r}){let i="";for(const a of e)i+=a.source;if(t&&(i+=Rf(t)),n)for(const a of n)i+=a.source;return r&&(i+=Rf(r)),i}const ty=Symbol("break visit"),kee=Symbol("skip children"),H$=Symbol("remove item");function Fi(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),G$(Object.freeze([]),e,t)}Fi.BREAK=ty;Fi.SKIP=kee;Fi.REMOVE=H$;Fi.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const a=n==null?void 0:n[r];if(a&&"items"in a)n=a.items[i];else return}return n};Fi.parentCollection=(e,t)=>{const n=Fi.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function G$(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const a=t[i];if(a&&"items"in a){for(let o=0;o<a.items.length;++o){const s=G$(Object.freeze(e.concat([[i,o]])),a.items[o],n);if(typeof s=="number")o=s-1;else{if(s===ty)return ty;s===H$&&(a.items.splice(o,1),o-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const rp="\uFEFF",ip="",ap="",$l="",$ee=e=>!!e&&"items"in e,Eee=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function Tee(e){switch(e){case rp:return"<BOM>";case ip:return"<DOC>";case ap:return"<FLOW_END>";case $l:return"<SCALAR>";default:return JSON.stringify(e)}}function Y$(e){switch(e){case rp:return"byte-order-mark";case ip:return"doc-mode";case ap:return"flow-error-end";case $l:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Nee=Object.freeze(Object.defineProperty({__proto__:null,BOM:rp,DOCUMENT:ip,FLOW_END:ap,SCALAR:$l,createScalarToken:Oee,isCollection:$ee,isScalar:Eee,prettyToken:Tee,resolveAsScalar:_ee,setScalarValue:jee,stringify:Pee,tokenType:Y$,visit:Fi},Symbol.toStringTag,{value:"Module"}));function xn(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const HS=new Set("0123456789ABCDEFabcdef"),Cee=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Lu=new Set(",[]{}"),Iee=new Set(` ,[]{}
\r	`),ph=e=>!e||Iee.has(e);class X${constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&xn(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===rp&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const a=t[r-1];if(a===" "||a==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const a=t[n-1];if(a===" "||a==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield ip,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&xn(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!xn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&xn(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ph),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&xn(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield ap,yield*this.parseLineStart();let a=0;for(;i[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),i[a]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ph),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||xn(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let a=0;for(;this.buffer[n-1-a]==="\\";)a+=1;if(a%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,a)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>xn(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let a=this.pos;r=this.buffer[a];++a)switch(r){case" ":n+=1;break;case`
`&&a>=this.pos&&a+1+n>s)t=a;else break}while(!0);return yield $l,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const a=this.buffer[r+1];if(xn(a)||t&&Lu.has(a))break;n=r}else if(xn(i)){let a=this.buffer[r+1];if(i==="\r"&&(a===`
`,a=this.buffer[r+1]):n=r),a==="#"||t&&Lu.has(a))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&Lu.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield $l,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ph))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(xn(n)||t&&Lu.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!xn(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(Cee.has(n))n=this.buffer[++t];else if(n==="%"&&HS.has(this.buffer[t+1])&&HS.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Q${constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const a=n+r>>1;this.lineStarts[a]<t?n=a+1:r=a}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function $r(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function GS(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function J$(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Du(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function ra(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function YS(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!$r(t.start,"explicit-key-ind")&&!$r(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,J$(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class jb{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new X$,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Y$(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&YS(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&GS(i.start)===-1&&(n.indent===0||i.start.every(a=>a.type!=="comment"||a.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{GS(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Du(this.peek(2)),r=ra(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent,a=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(a&&n.sep&&!n.value){const s=[];for(let l=0;l<n.sep.length;++l){const u=n.sep[l];switch(u.type){case"newline":s.push(l);break;case"space":break;case"comment":u.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":a||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):a||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if($r(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(J$(n.key)&&!$r(n.sep,"newline")){const s=ra(n.start),l=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:l,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if($r(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=ra(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||a?t.items.push({start:o,key:null,sep:[this.sourceToken]}):$r(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);a||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){if(s.type==="block-seq"){if(!n.explicitKey&&n.sep&&!$r(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&t.items.push({start:o});this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||$r(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=Du(r),a=ra(i);YS(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:a,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Du(t),r=ra(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Du(t),r=ra(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Z$(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Q$||null,prettyErrors:t}}function Mee(e,t={}){const{lineCounter:n,prettyErrors:r}=Z$(t),i=new jb(n==null?void 0:n.addNewLine),a=new Ob(t),o=Array.from(a.compose(i.parse(e)));if(r&&n)for(const s of o)s.errors.forEach(Df(e,n)),s.warnings.forEach(Df(e,n));return o.length>0?o:Object.assign([],{empty:!0},a.streamInfo())}function eE(e,t={}){const{lineCounter:n,prettyErrors:r}=Z$(t),i=new jb(n==null?void 0:n.addNewLine),a=new Ob(t);let o=null;for(const s of a.compose(i.parse(e),!0,e.length))if(!o)o=s;else if(o.options.logLevel!=="silent"){o.errors.push(new Si(s.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(Df(e,n)),o.warnings.forEach(Df(e,n))),o}function Lee(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=eE(e,n);if(!i)return null;if(i.warnings.forEach(a=>w$(i.options.logLevel,a)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function Dee(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return Hi(e)&&!r?e.toString(n):new Bo(e,r,n).toString(n)}const tE=Object.freeze(Object.defineProperty({__proto__:null,Alias:Hd,CST:Nee,Composer:Ob,Document:Bo,Lexer:X$,LineCounter:Q$,Pair:jt,Parser:jb,Scalar:se,Schema:np,YAMLError:Sb,YAMLMap:Ht,YAMLParseError:Si,YAMLSeq:Yr,YAMLWarning:B$,isAlias:ii,isCollection:Fe,isDocument:Hi,isMap:Mo,isNode:Ue,isPair:Re,isScalar:Ae,isSeq:Lo,parse:Lee,parseAllDocuments:Mee,parseDocument:eE,stringify:Dee,visit:Gi,visitAsync:Wd},Symbol.toStringTag,{value:"Module"})),hh=new Set(["indicator","indicator_macd","indicator_bollinger","indicator_atr"]);function Ps(e){if(!e)return null;if(e.type==="logic"){const t=e.config.mode==="any"?"any":"all",n=(e.children||[]).map(Ps).filter(r=>r!==null);return n.length?{[t]:n}:null}if(e.type==="group"){const t=(e.children||[]).map(Ps).filter(n=>n!==null);return t.length?{all:t}:null}if(e.type==="negation"){const t=Ps((e.children||[])[0]);return t?{not:t}:null}if(e.type==="condition"){const t={field:e.config.field||"close",operator:e.config.operator||"gt",value:XS(e.config.value)},n=(e.children||[]).find(r=>hh.has(r.type));return n&&(t.field=Ru(n.config,n.type)),t}if(e.type==="market_cross"){const t=(e.children||[]).filter(i=>hh.has(i.type));if(t.length<2)return null;const n=t[0],r=t[1];return{cross:{left:Ru(n.config,n.type),right:Ru(r.config,r.type),direction:e.config.direction==="below"?"below":"above",lookback:Number(e.config.lookback)||1}}}if(e.type==="market_volume"){const t={field:"volume",operator:e.config.operator||"gt",value:XS(e.config.value)};return e.config.timeframe&&(t.timeframe=e.config.timeframe),t}return hh.has(e.type)?{field:Ru(e.config,e.type),operator:"exists",value:!0}:null}function XS(e){if(e==null)return null;const t=Number(e);return!Number.isNaN(t)&&String(e).trim()!==""?t:e}function Ru(e={},t="indicator"){const n=e.source||"close";if(t==="indicator_macd")return`MACD(${n}, ${e.fastPeriod||"12"}, ${e.slowPeriod||"26"}, ${e.signalPeriod||"9"})`;if(t==="indicator_bollinger")return`BOLL(${n}, ${e.period||"20"}, ${e.deviation||"2"})`;if(t==="indicator_atr")return`ATR(${e.source||"hlc3"}, ${e.period||"14"}, ${e.smoothing||"14"})`;const r=(e.kind||"sma").toUpperCase(),i=e.period||"20";return`${r}(${n}, ${i})`}function Ree(e){if(!e||!e.length)return{action:"noop"};const t=[];for(const i of e)if(i.type==="action")t.push({type:"order",action:i.config.action||"buy",size:Number(i.config.size)||1});else if(i.type==="delay")t.push({type:"delay",seconds:Number(i.config.seconds)||0});else if(i.type==="take_profit"){const a={type:"take_profit",mode:i.config.mode||"percent",value:Number(i.config.value)||0,size:i.config.size||"full"};i.config.size==="custom"&&(a.customSize=Number(i.config.customSize)||0),t.push(a)}else i.type==="stop_loss"?t.push({type:"stop_loss",mode:i.config.mode||"percent",value:Number(i.config.value)||0,trailing:!!i.config.trailing}):i.type==="close_position"?t.push({type:"close_position",side:i.config.side||"all"}):i.type==="alert"&&t.push({type:"alert",channel:i.config.channel||"email",message:i.config.message||""});const n=t.find(i=>i.type==="order"),r={steps:t};return n&&(r.action=n.action,r.size=n.size),r.action||(r.action="noop"),r}function Bee(e){if(!e||!e.length)return{};if(e.length===1)return Ps(e[0])||{};const t=e.map(Ps).filter(n=>n!==null);return t.length?{all:t}:{}}function Fee(e,t,n){const r=Bee(t),i=Ree(n);return{name:e||"Nouvelle stratégie",rules:[{when:r,signal:i}],metadata:{editor:"web-dashboard"}}}function zee(e){if(typeof e=="function")return()=>e();let t=1;return()=>`node-${t++}`}function Uee(e,t){return e==="trailing"?!!t:t==null?"":typeof t=="boolean"?t:String(t)}function pt(e,t,n,r){var o;const a={...qd(e)};return Object.entries(t||{}).forEach(([s,l])=>{a[s]=Uee(s,l)}),{id:r(),type:e,label:((o=mt[e])==null?void 0:o.label)||e,config:a,children:Array.isArray(n)?n:[]}}const Kee=/^MACD\(([^,]+),\s*([^,]+),\s*([^,]+),\s*([^)]+)\)$/i,Vee=/^BOLL\(([^,]+),\s*([^,]+),\s*([^)]+)\)$/i,qee=/^ATR\(([^,]+),\s*([^,]+),\s*([^)]+)\)$/i,Wee=/^([A-Z0-9_]+)\(([^,]+),\s*([^)]+)\)$/i;function Bu(e){if(typeof e!="string")return null;const t=e.trim(),n=t.match(Kee);if(n)return{type:"indicator_macd",config:{source:n[1].trim(),fastPeriod:n[2].trim(),slowPeriod:n[3].trim(),signalPeriod:n[4].trim()}};const r=t.match(Vee);if(r)return{type:"indicator_bollinger",config:{source:r[1].trim(),period:r[2].trim(),deviation:r[3].trim()}};const i=t.match(qee);if(i)return{type:"indicator_atr",config:{source:i[1].trim(),period:i[2].trim(),smoothing:i[3].trim()}};const a=t.match(Wee);return a?{type:"indicator",config:{kind:a[1].trim().toLowerCase(),source:a[2].trim(),period:a[3].trim()}}:null}function uc(e,t,n,r="condition"){if(!e||typeof e!="object")return n.push(`${r}: bloc de condition invalide.`),null;if(Array.isArray(e)){if(!e.length)return n.push(`${r}: la condition est vide.`),null;const i=e.map((a,o)=>uc(a,t,n,`${r}[${o}]`)).filter(Boolean);return i.length?pt("logic",{mode:"all"},i,t):null}if(e.any||e.all){const i=Array.isArray(e.any)?"any":"all",o=(Array.isArray(e[i])?e[i]:[]).map((l,u)=>uc(l,t,n,`${r}.${i}[${u}]`)).filter(Boolean);return o.length?pt("logic",{mode:i==="any"?"any":"all"},o,t):(n.push(`${r}: aucune sous-condition valide n'a été trouvée.`),null)}if(e.not!==void 0){const i=uc(e.not,t,n,`${r}.not`);return i?pt("negation",{},[i],t):(n.push(`${r}: la négation n'a pas de bloc valide.`),null)}if(e.cross){if(!Hn(e.cross))return n.push(`${r}: le croisement est mal formé.`),null;const{left:i,right:a,direction:o,lookback:s}=e.cross,l=[],u=Bu(i);u?l.push(pt(u.type,u.config,[],t)):i&&n.push(`${r}: indicateur de gauche inconnu (${i}).`);const f=Bu(a);f?l.push(pt(f.type,f.config,[],t)):a&&n.push(`${r}: indicateur de droite inconnu (${a}).`),l.length<2&&n.push(`${r}: un croisement requiert deux indicateurs valides.`);const c={direction:o==="below"?"below":"above"};return s!==void 0&&(c.lookback=s),pt("market_cross",c,l.slice(0,2),t)}if(e.operator==="exists"&&e.field){const i=Bu(e.field);if(i)return pt(i.type,i.config,[],t)}if(e.field&&typeof e.field=="string"){if(e.field.trim().toLowerCase()==="volume"){const s={operator:e.operator||"gt",value:e.value,timeframe:e.timeframe};return pt("market_volume",s,[],t)}const i=Bu(e.field),a=[],o={field:e.field,operator:e.operator||"gt",value:e.value};if(i){a.push(pt(i.type,i.config,[],t));const s=qd("condition").field;o.field=s||"close"}return pt("condition",o,a,t)}return n.push(`${r}: condition non reconnue.`),null}function Hee(e,t,n){if(!e||typeof e!="object"||Object.keys(e).length===0)return[];const r=uc(e,t,n,"when");return r?[r]:[]}function Gee(e,t,n){if(!e||typeof e!="object")return n.push("Signal invalide dans la stratégie importée."),[];const r=Array.isArray(e.steps)?e.steps:[],i=[],a=()=>{i.some(o=>o.type==="action")||i.unshift(pt("action",{action:e.action||"buy",size:e.size??1},[],t))};return r.forEach((o,s)=>{if(!Hn(o)){n.push(`Étape de signal invalide à l'index ${s}.`);return}switch(o.type){case"order":i.push(pt("action",{action:o.action||e.action||"buy",size:o.size??e.size??1},[],t));break;case"delay":i.push(pt("delay",{seconds:o.seconds??0},[],t));break;case"take_profit":i.push(pt("take_profit",{mode:o.mode||"percent",value:o.value??0,size:o.size||"full",customSize:o.customSize??""},[],t));break;case"stop_loss":i.push(pt("stop_loss",{mode:o.mode||"percent",value:o.value??0,trailing:!!o.trailing},[],t));break;case"close_position":i.push(pt("close_position",{side:o.side||"all"},[],t));break;case"alert":i.push(pt("alert",{channel:o.channel||"email",message:o.message||""},[],t));break;default:n.push(`Type d'action inconnu: ${o.type}`);break}}),!r.length&&(e.action||e.size)&&a(),i.length||a(),i}function Yee(e){const t=e.indexOf("{");if(t===-1)throw new Error("Aucun dictionnaire trouvé dans le fichier Python.");let n=0;for(let r=t;r<e.length;r+=1){const i=e[r];if(i==="{")n+=1;else if(i==="}"&&(n-=1,n===0))return e.slice(t,r+1)}throw new Error("Parenthèses non équilibrées dans le fichier Python.")}function Xee(e){const n=Yee(e).replace(/\bTrue\b/g,"true").replace(/\bFalse\b/g,"false").replace(/\bNone\b/g,"null");return tE.parse(n)}function Qee(e,t="yaml"){const n=[];if(!e||!e.trim())return n.push("Le contenu de la stratégie est vide."),{document:null,errors:n};const r=t==="python"?"python":"yaml";let i=null;try{r==="python"?i=Xee(e):i=tE.parse(e)}catch{return n.push("Impossible d'analyser le fichier de stratégie fourni."),{document:null,errors:n}}return Hn(i)?{document:i,errors:n}:(n.push("Le document de stratégie doit être un objet JSON/YAML valide."),{document:null,errors:n})}function Jee(e,t){const n=[];if(!Hn(e))return n.push("Le document de stratégie doit être un objet."),{name:"",metadata:{},conditions:[],actions:[],errors:n};const r=zee(t),i=Array.isArray(e.rules)?e.rules:[];if(!i.length)return n.push("La stratégie ne contient aucune règle."),{name:e.name||"",metadata:e.metadata||{},conditions:[],actions:[],errors:n};const a=i[0];if(!Hn(a))return n.push("La règle principale est invalide."),{name:e.name||"",metadata:e.metadata||{},conditions:[],actions:[],errors:n};const o=Hee(a.when||{},r,n),s=Gee(a.signal||{},r,n);return{name:typeof e.name=="string"?e.name:"",metadata:Hn(e.metadata)?e.metadata:{},conditions:o,actions:s,errors:n}}function mh({code:e,format:t="yaml",createId:n}={}){const r=Qee(e,t),i=r.document?Jee(r.document,n):{name:"",metadata:{},conditions:[],actions:[],errors:[]};return{name:i.name,metadata:i.metadata,conditions:i.conditions,actions:i.actions,format:t==="python"?"python":"yaml",errors:[...r.errors,...i.errors]}}function Hn(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ja(e){return"  ".repeat(e)}function Zee(e,t){if(Array.isArray(e))return e.length?`
${e.map(n=>`${ja(t+1)}- ${El(n,t+1)}`).join(`
`)}`:"[]";if(Hn(e)){const n=Object.entries(e);return n.length?`
${n.map(([r,i])=>`${ja(t+1)}${r}: ${El(i,t+1)}`).join(`
`)}`:"{}"}return typeof e=="string"?/[:\n#-]/.test(e)?`'${e.replace(/'/g,"''")}'`:e:typeof e=="boolean"?e?"true":"false":e==null?"null":String(e)}function El(e,t){if(Array.isArray(e))return e.length?`
${e.map(r=>{const i=El(r,t+1);return Array.isArray(r)||Hn(r)?`
${ja(t+2)}${i.trimStart()}`:i}).map((r,i)=>{const a=e[i];return Array.isArray(a)||Hn(a)?`${ja(t+1)}- ${r.trimStart()}`:`${ja(t+1)}- ${r}`}).join(`
`)}`:"[]";if(Hn(e)){const n=Object.entries(e);return n.length?`
${n.map(([r,i])=>`${ja(t+1)}${r}: ${El(i,t+1)}`).join(`
`)}`:"{}"}return Zee(e,t)}function ete(e){return Object.entries(e||{}).map(([n,r])=>`${n}: ${El(r,0)}`).join(`
`)}function tte(e){return`STRATEGY = ${JSON.stringify(e||{},null,2).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")}`}function nte(e,t,n){const r=Fee(e,t,n);return{document:r,yaml:ete(r),python:tte(r)}}const Ab=[{id:"momentum_breakout",label:"Cassure momentum",description:"Détecte une cassure haussière via le MACD accompagné d'un volume soutenu, puis sécurise la position.",format:"yaml",content:`name: Cassure Momentum
`&&a>=this.pos&&a+1+n>s)t=a;else break}while(!0);return yield pl,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const a=this.buffer[r+1];if(mn(a)||t&&vu.has(a))break;n=r}else if(mn(i)){let a=this.buffer[r+1];if(i==="\r"&&(a===`
`?(r+=1,i=`
`,a=this.buffer[r+1]):n=r),a==="#"||t&&vu.has(a))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&vu.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield pl,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(qp))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(mn(n)||t&&vu.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!mn(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(uZ.has(n))n=this.buffer[++t];else if(n==="%"&&cS.has(this.buffer[t+1])&&cS.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class YE{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const a=n+r>>1;this.lineStarts[a]<t?n=a+1:r=a}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function wr(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function fS(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function XE(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function bu(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function qi(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function dS(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!wr(t.start,"explicit-key-ind")&&!wr(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,XE(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class qv{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new GE,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=VE(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&dS(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&fS(i.start)===-1&&(n.indent===0||i.start.every(a=>a.type!=="comment"||a.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{fS(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=bu(this.peek(2)),r=qi(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent,a=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(a&&n.sep&&!n.value){const s=[];for(let l=0;l<n.sep.length;++l){const u=n.sep[l];switch(u.type){case"newline":s.push(l);break;case"space":break;case"comment":u.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":a||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):a||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(wr(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(XE(n.key)&&!wr(n.sep,"newline")){const s=qi(n.start),l=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:l,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(wr(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=qi(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||a?t.items.push({start:o,key:null,sep:[this.sourceToken]}):wr(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);a||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){if(s.type==="block-seq"){if(!n.explicitKey&&n.sep&&!wr(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&t.items.push({start:o});this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||wr(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=bu(r),a=qi(i);dS(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:a,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=bu(t),r=qi(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=bu(t),r=qi(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function QE(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new YE||null,prettyErrors:t}}function fZ(e,t={}){const{lineCounter:n,prettyErrors:r}=QE(t),i=new qv(n==null?void 0:n.addNewLine),a=new Wv(t),o=Array.from(a.compose(i.parse(e)));if(r&&n)for(const s of o)s.errors.forEach(vf(e,n)),s.warnings.forEach(vf(e,n));return o.length>0?o:Object.assign([],{empty:!0},a.streamInfo())}function JE(e,t={}){const{lineCounter:n,prettyErrors:r}=QE(t),i=new qv(n==null?void 0:n.addNewLine),a=new Wv(t);let o=null;for(const s of a.compose(i.parse(e),!0,e.length))if(!o)o=s;else if(o.options.logLevel!=="silent"){o.errors.push(new di(s.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(vf(e,n)),o.warnings.forEach(vf(e,n))),o}function dZ(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=JE(e,n);if(!i)return null;if(i.warnings.forEach(a=>vE(i.options.logLevel,a)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function pZ(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return Ii(e)&&!r?e.toString(n):new Ao(e,r,n).toString(n)}const ZE=Object.freeze(Object.defineProperty({__proto__:null,Alias:Ad,CST:lZ,Composer:Wv,Document:Ao,Lexer:GE,LineCounter:YE,Pair:wt,Parser:qv,Scalar:ie,Schema:Md,YAMLError:zv,YAMLMap:Ut,YAMLParseError:di,YAMLSeq:Fr,YAMLWarning:LE,isAlias:Xr,isCollection:Be,isDocument:Ii,isMap:xo,isNode:ze,isPair:De,isScalar:Ae,isSeq:So,parse:dZ,parseAllDocuments:fZ,parseDocument:JE,stringify:pZ,visit:Di,visitAsync:Od},Symbol.toStringTag,{value:"Module"})),Kp=new Set(["indicator","indicator_macd","indicator_bollinger","indicator_atr"]);function ds(e){if(!e)return null;if(e.type==="logic"){const t=e.config.mode==="any"?"any":"all",n=(e.children||[]).map(ds).filter(r=>r!==null);return n.length?{[t]:n}:null}if(e.type==="group"){const t=(e.children||[]).map(ds).filter(n=>n!==null);return t.length?{all:t}:null}if(e.type==="negation"){const t=ds((e.children||[])[0]);return t?{not:t}:null}if(e.type==="condition"){const t={field:e.config.field||"close",operator:e.config.operator||"gt",value:pS(e.config.value)},n=(e.children||[]).find(r=>Kp.has(r.type));return n&&(t.field=wu(n.config,n.type)),t}if(e.type==="market_cross"){const t=(e.children||[]).filter(i=>Kp.has(i.type));if(t.length<2)return null;const n=t[0],r=t[1];return{cross:{left:wu(n.config,n.type),right:wu(r.config,r.type),direction:e.config.direction==="below"?"below":"above",lookback:Number(e.config.lookback)||1}}}if(e.type==="market_volume"){const t={field:"volume",operator:e.config.operator||"gt",value:pS(e.config.value)};return e.config.timeframe&&(t.timeframe=e.config.timeframe),t}return Kp.has(e.type)?{field:wu(e.config,e.type),operator:"exists",value:!0}:null}function pS(e){if(e==null)return null;const t=Number(e);return!Number.isNaN(t)&&String(e).trim()!==""?t:e}function wu(e={},t="indicator"){const n=e.source||"close";if(t==="indicator_macd")return`MACD(${n}, ${e.fastPeriod||"12"}, ${e.slowPeriod||"26"}, ${e.signalPeriod||"9"})`;if(t==="indicator_bollinger")return`BOLL(${n}, ${e.period||"20"}, ${e.deviation||"2"})`;if(t==="indicator_atr")return`ATR(${e.source||"hlc3"}, ${e.period||"14"}, ${e.smoothing||"14"})`;const r=(e.kind||"sma").toUpperCase(),i=e.period||"20";return`${r}(${n}, ${i})`}function hZ(e){if(!e||!e.length)return{action:"noop"};const t=[];for(const i of e)if(i.type==="action")t.push({type:"order",action:i.config.action||"buy",size:Number(i.config.size)||1});else if(i.type==="delay")t.push({type:"delay",seconds:Number(i.config.seconds)||0});else if(i.type==="take_profit"){const a={type:"take_profit",mode:i.config.mode||"percent",value:Number(i.config.value)||0,size:i.config.size||"full"};i.config.size==="custom"&&(a.customSize=Number(i.config.customSize)||0),t.push(a)}else i.type==="stop_loss"?t.push({type:"stop_loss",mode:i.config.mode||"percent",value:Number(i.config.value)||0,trailing:!!i.config.trailing}):i.type==="close_position"?t.push({type:"close_position",side:i.config.side||"all"}):i.type==="alert"&&t.push({type:"alert",channel:i.config.channel||"email",message:i.config.message||""});const n=t.find(i=>i.type==="order"),r={steps:t};return n&&(r.action=n.action,r.size=n.size),r.action||(r.action="noop"),r}function mZ(e){if(!e||!e.length)return{};if(e.length===1)return ds(e[0])||{};const t=e.map(ds).filter(n=>n!==null);return t.length?{all:t}:{}}function yZ(e,t,n){const r=mZ(t),i=hZ(n);return{name:e||"Nouvelle stratégie",rules:[{when:r,signal:i}],metadata:{editor:"web-dashboard"}}}function gZ(e){if(typeof e=="function")return()=>e();let t=1;return()=>`node-${t++}`}function vZ(e,t){return e==="trailing"?!!t:t==null?"":typeof t=="boolean"?t:String(t)}function ut(e,t,n,r){var o;const a={..._d(e)};return Object.entries(t||{}).forEach(([s,l])=>{a[s]=vZ(s,l)}),{id:r(),type:e,label:((o=ft[e])==null?void 0:o.label)||e,config:a,children:Array.isArray(n)?n:[]}}const bZ=/^MACD\(([^,]+),\s*([^,]+),\s*([^,]+),\s*([^)]+)\)$/i,wZ=/^BOLL\(([^,]+),\s*([^,]+),\s*([^)]+)\)$/i,xZ=/^ATR\(([^,]+),\s*([^,]+),\s*([^)]+)\)$/i,SZ=/^([A-Z0-9_]+)\(([^,]+),\s*([^)]+)\)$/i;function xu(e){if(typeof e!="string")return null;const t=e.trim(),n=t.match(bZ);if(n)return{type:"indicator_macd",config:{source:n[1].trim(),fastPeriod:n[2].trim(),slowPeriod:n[3].trim(),signalPeriod:n[4].trim()}};const r=t.match(wZ);if(r)return{type:"indicator_bollinger",config:{source:r[1].trim(),period:r[2].trim(),deviation:r[3].trim()}};const i=t.match(xZ);if(i)return{type:"indicator_atr",config:{source:i[1].trim(),period:i[2].trim(),smoothing:i[3].trim()}};const a=t.match(SZ);return a?{type:"indicator",config:{kind:a[1].trim().toLowerCase(),source:a[2].trim(),period:a[3].trim()}}:null}function qu(e,t,n,r="condition"){if(!e||typeof e!="object")return n.push(`${r}: bloc de condition invalide.`),null;if(Array.isArray(e)){if(!e.length)return n.push(`${r}: la condition est vide.`),null;const i=e.map((a,o)=>qu(a,t,n,`${r}[${o}]`)).filter(Boolean);return i.length?ut("logic",{mode:"all"},i,t):null}if(e.any||e.all){const i=Array.isArray(e.any)?"any":"all",o=(Array.isArray(e[i])?e[i]:[]).map((l,u)=>qu(l,t,n,`${r}.${i}[${u}]`)).filter(Boolean);return o.length?ut("logic",{mode:i==="any"?"any":"all"},o,t):(n.push(`${r}: aucune sous-condition valide n'a été trouvée.`),null)}if(e.not!==void 0){const i=qu(e.not,t,n,`${r}.not`);return i?ut("negation",{},[i],t):(n.push(`${r}: la négation n'a pas de bloc valide.`),null)}if(e.cross){if(!Bn(e.cross))return n.push(`${r}: le croisement est mal formé.`),null;const{left:i,right:a,direction:o,lookback:s}=e.cross,l=[],u=xu(i);u?l.push(ut(u.type,u.config,[],t)):i&&n.push(`${r}: indicateur de gauche inconnu (${i}).`);const f=xu(a);f?l.push(ut(f.type,f.config,[],t)):a&&n.push(`${r}: indicateur de droite inconnu (${a}).`),l.length<2&&n.push(`${r}: un croisement requiert deux indicateurs valides.`);const c={direction:o==="below"?"below":"above"};return s!==void 0&&(c.lookback=s),ut("market_cross",c,l.slice(0,2),t)}if(e.operator==="exists"&&e.field){const i=xu(e.field);if(i)return ut(i.type,i.config,[],t)}if(e.field&&typeof e.field=="string"){if(e.field.trim().toLowerCase()==="volume"){const s={operator:e.operator||"gt",value:e.value,timeframe:e.timeframe};return ut("market_volume",s,[],t)}const i=xu(e.field),a=[],o={field:e.field,operator:e.operator||"gt",value:e.value};if(i){a.push(ut(i.type,i.config,[],t));const s=_d("condition").field;o.field=s||"close"}return ut("condition",o,a,t)}return n.push(`${r}: condition non reconnue.`),null}function _Z(e,t,n){if(!e||typeof e!="object"||Object.keys(e).length===0)return[];const r=qu(e,t,n,"when");return r?[r]:[]}function OZ(e,t,n){if(!e||typeof e!="object")return n.push("Signal invalide dans la stratégie importée."),[];const r=Array.isArray(e.steps)?e.steps:[],i=[],a=()=>{i.some(o=>o.type==="action")||i.unshift(ut("action",{action:e.action||"buy",size:e.size??1},[],t))};return r.forEach((o,s)=>{if(!Bn(o)){n.push(`Étape de signal invalide à l'index ${s}.`);return}switch(o.type){case"order":i.push(ut("action",{action:o.action||e.action||"buy",size:o.size??e.size??1},[],t));break;case"delay":i.push(ut("delay",{seconds:o.seconds??0},[],t));break;case"take_profit":i.push(ut("take_profit",{mode:o.mode||"percent",value:o.value??0,size:o.size||"full",customSize:o.customSize??""},[],t));break;case"stop_loss":i.push(ut("stop_loss",{mode:o.mode||"percent",value:o.value??0,trailing:!!o.trailing},[],t));break;case"close_position":i.push(ut("close_position",{side:o.side||"all"},[],t));break;case"alert":i.push(ut("alert",{channel:o.channel||"email",message:o.message||""},[],t));break;default:n.push(`Type d'action inconnu: ${o.type}`);break}}),!r.length&&(e.action||e.size)&&a(),i.length||a(),i}function AZ(e){const t=e.indexOf("{");if(t===-1)throw new Error("Aucun dictionnaire trouvé dans le fichier Python.");let n=0;for(let r=t;r<e.length;r+=1){const i=e[r];if(i==="{")n+=1;else if(i==="}"&&(n-=1,n===0))return e.slice(t,r+1)}throw new Error("Parenthèses non équilibrées dans le fichier Python.")}function PZ(e){const n=AZ(e).replace(/\bTrue\b/g,"true").replace(/\bFalse\b/g,"false").replace(/\bNone\b/g,"null");return ZE.parse(n)}function $Z(e,t="yaml"){const n=[];if(!e||!e.trim())return n.push("Le contenu de la stratégie est vide."),{document:null,errors:n};const r=t==="python"?"python":"yaml";let i=null;try{r==="python"?i=PZ(e):i=ZE.parse(e)}catch{return n.push("Impossible d'analyser le fichier de stratégie fourni."),{document:null,errors:n}}return Bn(i)?{document:i,errors:n}:(n.push("Le document de stratégie doit être un objet JSON/YAML valide."),{document:null,errors:n})}function EZ(e,t){const n=[];if(!Bn(e))return n.push("Le document de stratégie doit être un objet."),{name:"",metadata:{},conditions:[],actions:[],errors:n};const r=gZ(t),i=Array.isArray(e.rules)?e.rules:[];if(!i.length)return n.push("La stratégie ne contient aucune règle."),{name:e.name||"",metadata:e.metadata||{},conditions:[],actions:[],errors:n};const a=i[0];if(!Bn(a))return n.push("La règle principale est invalide."),{name:e.name||"",metadata:e.metadata||{},conditions:[],actions:[],errors:n};const o=_Z(a.when||{},r,n),s=OZ(a.signal||{},r,n);return{name:typeof e.name=="string"?e.name:"",metadata:Bn(e.metadata)?e.metadata:{},conditions:o,actions:s,errors:n}}function hS({code:e,format:t="yaml",createId:n}={}){const r=$Z(e,t),i=r.document?EZ(r.document,n):{name:"",metadata:{},conditions:[],actions:[],errors:[]};return{name:i.name,metadata:i.metadata,conditions:i.conditions,actions:i.actions,format:t==="python"?"python":"yaml",errors:[...r.errors,...i.errors]}}function Bn(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function fa(e){return"  ".repeat(e)}function jZ(e,t){if(Array.isArray(e))return e.length?`
${e.map(n=>`${fa(t+1)}- ${hl(n,t+1)}`).join(`
`)}`:"[]";if(Bn(e)){const n=Object.entries(e);return n.length?`
${n.map(([r,i])=>`${fa(t+1)}${r}: ${hl(i,t+1)}`).join(`
`)}`:"{}"}return typeof e=="string"?/[:\n#-]/.test(e)?`'${e.replace(/'/g,"''")}'`:e:typeof e=="boolean"?e?"true":"false":e==null?"null":String(e)}function hl(e,t){if(Array.isArray(e))return e.length?`
${e.map(r=>{const i=hl(r,t+1);return Array.isArray(r)||Bn(r)?`
${fa(t+2)}${i.trimStart()}`:i}).map((r,i)=>{const a=e[i];return Array.isArray(a)||Bn(a)?`${fa(t+1)}- ${r.trimStart()}`:`${fa(t+1)}- ${r}`}).join(`
`)}`:"[]";if(Bn(e)){const n=Object.entries(e);return n.length?`
${n.map(([r,i])=>`${fa(t+1)}${r}: ${hl(i,t+1)}`).join(`
`)}`:"{}"}return jZ(e,t)}function kZ(e){return Object.entries(e||{}).map(([n,r])=>`${n}: ${hl(r,0)}`).join(`
`)}function TZ(e){return`STRATEGY = ${JSON.stringify(e||{},null,2).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")}`}function CZ(e,t,n){const r=yZ(e,t,n);return{document:r,yaml:kZ(r),python:TZ(r)}}const Kv=[{id:"momentum_breakout",label:"Cassure momentum",description:"Détecte une cassure haussière via le MACD accompagné d'un volume soutenu, puis sécurise la position.",format:"yaml",content:`name: Cassure Momentum
rules:
  - when:
      all:
        - field: MACD(close, 12, 26, 9)
          operator: gt
          value: 0
        - field: volume
          operator: gt
          value: 150000
          timeframe: 1h
    signal:
      action: buy
      size: 1
      steps:
        - type: order
          action: buy
          size: 1
        - type: take_profit
          mode: percent
          value: 6
          size: half
        - type: stop_loss
          mode: percent
          value: 2
metadata:
  preset: momentum_breakout
`},{id:"mean_reversion",label:"Retour à la moyenne",description:"Vend lorsque le prix touche la bande haute de Bollinger et rouvre lors du retour vers la moyenne.",format:"yaml",content:`name: Retour à la moyenne
rules:
  - when:
      all:
        - field: BOLL(close, 20, 2)
          operator: gt
          value: close
        - field: ATR(hlc3, 14, 14)
          operator: lt
          value: 3
    signal:
      action: sell
      size: 1
      steps:
        - type: order
          action: sell
          size: 1
        - type: take_profit
          mode: price
          value: 0.5
          size: half
        - type: delay
          seconds: 3600
`}];function rte(e){return Ab.find(t=>t.id===e)||null}const ia=new Set(Object.keys(mt).filter(e=>e.startsWith("indicator"))),QS={gt:">",gte:"≥",lt:"<",lte:"≤",eq:"=",neq:"≠"};function Aa(e){if(e==null||e==="")return null;const t=Number(e);return Number.isNaN(t)?null:t}function Pb(e,t,n,r){const i=(t==null?void 0:t.validation)||{},a=(e==null?void 0:e.config)||{},o=Array.isArray(e==null?void 0:e.children)?e.children:[],s=Array.isArray(i.required)?i.required:[];for(const l of s){const u=typeof l=="string"?l:l.field,f=typeof l=="string"?l:l.label||l.field||l.toString(),c=a[u];(c==null||typeof c=="string"&&c.trim()==="")&&r.push(`${n} — ${t.label}: le champ « ${f} » est requis.`)}return typeof i.minChildren=="number"&&o.length<i.minChildren&&r.push(`${n} — ${t.label}: au moins ${i.minChildren} bloc(s) enfant sont requis.`),typeof i.maxChildren=="number"&&o.length>i.maxChildren&&r.push(`${n} — ${t.label}: maximum ${i.maxChildren} bloc(s) enfant autorisés.`),Array.isArray(t.accepts)&&(t.accepts.length===0&&o.length?r.push(`${n} — ${t.label}: n'accepte pas de bloc enfant.`):t.accepts.length>0&&o.forEach((l,u)=>{var f;if(!t.accepts.includes(l.type)){const c=((f=mt[l.type])==null?void 0:f.label)||l.type;r.push(`${n} — ${t.label}: le bloc enfant #${u+1} (${c}) est incompatible.`)}})),o}function Fu(e,t,n){const r=mt[e.type];if(!r)return n.push(`${t}: type d'indicateur inconnu (${e.type}).`),null;Pb(e,r,t,n);const i=e.config||{};switch(e.type){case"indicator":{const a=(i.kind||"sma").toUpperCase(),o=i.source||"source",s=i.period||"?";return`${a}(${o}, ${s})`}case"indicator_macd":return`MACD(${i.source||"source"}, ${i.fastPeriod||"?"}, ${i.slowPeriod||"?"}, ${i.signalPeriod||"?"})`;case"indicator_bollinger":return`BOLL(${i.source||"source"}, ${i.period||"?"}, ${i.deviation||"?"})`;case"indicator_atr":return`ATR(${i.source||"hlc3"}, ${i.period||"?"}, ${i.smoothing||"?"})`;default:return n.push(`${t}: type d'indicateur non géré (${e.type}).`),null}}function cc(e,t,n){var o,s;const r=mt[e.type];if(!r)return n.push(`${t}: type de condition inconnu (${e.type}).`),null;const i=Pb(e,r,t,n),a=e.config||{};switch(e.type){case"condition":{let l=a.field||"champ";const u=i.find(d=>ia.has(d.type));if(u){const d=Fu(u,`${t} > ${((o=mt[u.type])==null?void 0:o.label)||u.type}`,n);d&&(l=d)}const f=QS[a.operator]||a.operator||"?",c=a.value??"?";return`${l} ${f} ${c}`}case"market_cross":{const l=Aa(a.lookback);(l===null||l<=0)&&n.push(`${t} — ${r.label}: la fenêtre d'observation doit être un entier positif.`);const[u,f]=i;u&&!ia.has(u.type)&&n.push(`${t} — ${r.label}: seuls des indicateurs peuvent être utilisés.`),f&&!ia.has(f.type)&&n.push(`${t} — ${r.label}: seuls des indicateurs peuvent être utilisés.`);const c=u&&ia.has(u.type)?Fu(u,`${t} > Indicateur #1`,n):null,d=f&&ia.has(f.type)?Fu(f,`${t} > Indicateur #2`,n):null;if(!c||!d)return null;const p=a.direction==="below"?"croise sous":"croise au-dessus",y=a.lookback?` (fenêtre ${a.lookback})`:"";return`${c} ${p} ${d}${y}`}case"market_volume":{const l=Aa(a.value);(l===null||l<0)&&n.push(`${t} — ${r.label}: le seuil de volume doit être un nombre positif.`);const u=QS[a.operator]||a.operator||"?",f=a.timeframe?` (${a.timeframe})`:"";return`Volume ${u} ${a.value??"?"}${f}`}case"logic":{const l=a.mode==="any"?" OU ":" ET ",u=i.map((f,c)=>cc(f,`${t} > Bloc ${c+1}`,n)).filter(Boolean);return u.length?u.map(f=>`(${f})`).join(l):null}case"negation":{const[l]=i;if(!l)return null;const u=cc(l,`${t} > ${((s=mt[l.type])==null?void 0:s.label)||l.type}`,n);return u?`NON (${u})`:null}case"group":{const l=i.map((u,f)=>cc(u,`${t} > Bloc ${f+1}`,n)).filter(Boolean);return l.length?`(${l.join(" ET ")})`:null}default:return ia.has(e.type)?Fu(e,t,n):(n.push(`${t}: type de condition non géré (${e.type}).`),null)}}function ite(e,t,n,r){const i=mt[e.type];if(!i)return n.push(`${t}: type d'action inconnu (${e.type}).`),null;Pb(e,i,t,n).length&&r.push(`${t} — ${i.label}: les blocs enfants seront ignorés lors de l'exécution.`);const o=e.config||{};switch(e.type){case"action":return`${(o.action||"").toUpperCase()||"ACTION"} x${o.size||"?"}`;case"take_profit":{const s=Aa(o.value);if((s===null||s<=0)&&n.push(`${t} — ${i.label}: renseignez une valeur numérique strictement positive.`),o.size==="custom"){const f=Aa(o.customSize);(f===null||f<=0)&&n.push(`${t} — ${i.label}: la taille personnalisée doit être un nombre positif.`)}const l=o.mode==="price"?" (prix)":"%";let u="";return o.size==="half"?u=" (50 %)":o.size==="custom"?u=` (${o.customSize||"?"})`:u=" (100 %)",`Take-profit ${o.value||"?"}${l}${u}`}case"stop_loss":{const s=Aa(o.value);(s===null||s<=0)&&n.push(`${t} — ${i.label}: renseignez une valeur numérique strictement positive.`);const l=o.mode==="price"?" (prix)":"%",u=o.trailing?" (trailing)":"";return`Stop-loss ${o.value||"?"}${l}${u}`}case"close_position":return{all:"Fermer toutes les positions",long:"Fermer les positions longues",short:"Fermer les positions courtes"}[o.side]||`Fermer (${o.side||"?"})`;case"alert":return`Alerte ${o.channel||"?"}: ${o.message||"?"}`;case"delay":{const s=Aa(o.seconds);return(s===null||s<0)&&n.push(`${t} — ${i.label}: le délai doit être un nombre positif.`),`Attendre ${o.seconds||"?"}s`}default:return n.push(`${t}: type d'action non géré (${e.type}).`),null}}function ate(e,t){const n=[],r=[],i=[];!e||!e.length?n.push("Ajoutez au moins une condition."):e.forEach((u,f)=>{const c=cc(u,`Condition #${f+1}`,n);c&&i.push(c)});const a=[];!t||!t.length?n.push("Ajoutez au moins une action."):t.forEach((u,f)=>{const c=ite(u,`Action #${f+1}`,n,r);c&&a.push(c)});const o=i.length===0?null:i.length===1?i[0]:i.map(u=>`(${u})`).join(" ET "),s=a.length===0?null:a.join(" puis "),l=o&&s?`${o} ⇒ ${s}`:null;return{errors:n,warnings:r,conditionExpression:o,actionSummary:s,rule:l,isValid:n.length===0}}function ote(e,t){const n=mt[e];return{id:`node-${t.current++}`,type:e,label:n?n.label:e,config:qd(e),children:[]}}function kb(e){return{type:e.type,config:e.config,children:Array.isArray(e.children)?e.children.map(t=>kb(t)):[]}}function ny(e,t){const n=mt[e.type];return{id:`node-${t.current++}`,type:e.type,label:n?n.label:e.type,config:e.config?{...e.config}:qd(e.type),children:Array.isArray(e.children)?e.children.map(r=>ny(r,t)):[]}}function Ra(e,t){for(const n of e){if(n.id===t)return n;const r=Ra(n.children||[],t);if(r)return r}return null}function ry(e,t,n){if(!t)return[...e,n];let r=!1;const i=e.map(a=>{if(a.id===t){r=!0;const o=Array.isArray(a.children)?[...a.children,n]:[n];return{...a,children:o}}if(a.children&&a.children.length){const o=ry(a.children,t,n);if(o!==a.children)return r=!0,{...a,children:o}}return a});return r?i:e}function nE(e,t,n){let r=!1;const i=e.map(a=>{if(a.id===t)return r=!0,n(a);if(a.children&&a.children.length){const o=nE(a.children,t,n);if(o!==a.children)return r=!0,{...a,children:o}}return a});return r?i:e}function rE(e,t){let n=!1;const r=[];for(const i of e){if(i.id===t){n=!0;continue}let a=i;if(i.children&&i.children.length){const o=rE(i.children,t);o!==i.children&&(a={...i,children:o},n=!0)}r.push(a)}return n?r:e}function iE(e,t,n){const r=e.findIndex(o=>o.id===t);if(r!==-1){const o=e.slice();return o.splice(r+1,0,n),o}let i=!1;const a=e.map(o=>{if(o.children&&o.children.length){const s=iE(o.children,t,n);if(s!==o.children)return i=!0,{...o,children:s}}return o});return i?a:e}function iy(e,t=0,n=1,r={}){let i=n;return e.forEach(a=>{r[a.id]={row:i,column:t},i+=1,a.children&&a.children.length&&(i=iy(a.children,t+1,i,r).nextRow)}),{map:r,nextRow:i}}function zu(e,t){if(!t)return null;const n=e[t.section];return n?t.nodeId?Ra(n,t.nodeId)?t:null:t:null}function ste(e,t){const n=JSON.stringify(e.present),r=JSON.stringify(t);return n===r?e:{past:[...e.past,e.present],present:t,future:[]}}function lte(e){if(!e.past.length)return e;const t=e.past[e.past.length-1];return{past:e.past.slice(0,-1),present:t,future:[e.present,...e.future]}}function ute(e){if(!e.future.length)return e;const[t,...n]=e.future;return{past:[...e.past,e.present],present:t,future:n}}const cte={past:[],present:{conditions:[],actions:[]},future:[]};function fte(e,t){var n;switch(t.type){case"APPLY":{const r=t.updater(e.history.present),i=ste(e.history,r);return i===e.history?e:{...e,history:i,selection:zu(i.present,e.selection)}}case"SET_PRESENT":{const r={past:t.resetHistory?[]:e.history.past,present:t.present,future:[]};return{...e,history:r,selection:zu(t.present,e.selection)}}case"UNDO":{const r=lte(e.history);return r===e.history?e:{...e,history:r,selection:zu(r.present,e.selection)}}case"REDO":{const r=ute(e.history);return r===e.history?e:{...e,history:r,selection:zu(r.present,e.selection)}}case"SELECT":return{...e,selection:t.selection};case"CLEAR_SELECTION":return{...e,selection:null};case"COPY":{if(!((n=e.selection)!=null&&n.nodeId))return e;const r=e.history.present[e.selection.section],i=Ra(r,e.selection.nodeId);return i?{...e,clipboard:JSON.stringify(kb(i))}:e}case"CLEAR_CLIPBOARD":return{...e,clipboard:null};case"SET_CLIPBOARD":return{...e,clipboard:t.clipboard};default:return e}}function dte({presets:e,onApply:t}){return!Array.isArray(e)||e.length===0?null:h.jsxs("section",{className:"designer-panel designer-panel--presets","aria-labelledby":"presets-title",children:[h.jsxs("div",{className:"designer-panel__header",children:[h.jsx("h2",{id:"presets-title",className:"heading heading--md",children:"Modèles rapides"}),h.jsx("p",{className:"text text--muted",children:"Chargez une base préconfigurée puis personnalisez-la dans la composition."})]}),h.jsx("div",{className:"designer-panel__body",role:"list","aria-label":"Modèles de stratégies",children:e.map(n=>h.jsxs("article",{className:"palette-item palette-item--preset",role:"listitem",children:[h.jsxs("header",{className:"palette-item__header",children:[h.jsx("div",{children:h.jsx("span",{className:"palette-item__title heading heading--sm",children:n.label})}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:()=>t==null?void 0:t(n.id),"data-testid":`preset-apply-${n.id}`,children:"Charger"})]}),h.jsx("p",{className:"palette-item__description text",children:n.description})]},n.id))})]})}function pte({saveEndpoint:e="/strategies/save",defaultName:t="Nouvelle stratégie",defaultFormat:n="yaml",presets:r=Ab,initialStrategy:i=null}){const a=$.useRef(1),o=((i==null?void 0:i.name)||"").trim()||t,s=(i==null?void 0:i.source_format)==="python"||(i==null?void 0:i.format)==="python"||n==="python"?"python":"yaml",l=i!=null&&i.status_message?{type:i.status_type||"success",message:i.status_message}:{type:"idle",message:null},[u,f]=$.useState(o),[c,d]=$.useState(s),[p,y]=$.useState(l),[m,b]=$.useState(null),[w,g]=$.useReducer(fte,{history:cte,selection:null,clipboard:null}),{conditions:x,actions:_}=w.history.present,{selection:v,clipboard:S}=w,O=$.useMemo(()=>nte(u,x,_),[u,x,_]),j=$.useMemo(()=>ate(x,_),[x,_]),A=$.useMemo(()=>Array.isArray(r)?r:[],[r]),k=$.useRef(null),T=$.useCallback(()=>`node-${a.current++}`,[]),P=$.useRef(!1),E=$.useCallback(q=>{g({type:"APPLY",updater:X=>{const te=q(X);if(!te)return X;const ie=Array.isArray(te.conditions)?te.conditions:X.conditions,ge=Array.isArray(te.actions)?te.actions:X.actions;return ie===X.conditions&&ge===X.actions?X:{conditions:ie,actions:ge}}})},[g]),N=$.useCallback((q,{resetHistory:X=!1}={})=>{g({type:"SET_PRESENT",present:q,resetHistory:X})},[g]),I=$.useCallback(()=>{g({type:"CLEAR_SELECTION"}),g({type:"CLEAR_CLIPBOARD"})},[g]),M=$.useCallback((q,X,te="")=>{var $e;if(!q||Array.isArray(q.errors)&&q.errors.length>0){const vt=($e=q==null?void 0:q.errors)!=null&&$e.length?q.errors.join(" "):"Impossible d'importer la stratégie fournie.";return y({type:"error",message:vt}),!1}const ge={conditions:Array.isArray(q.conditions)?q.conditions:[],actions:Array.isArray(q.actions)?q.actions:[]};N(ge,{resetHistory:!0}),d(q.format==="python"?"python":"yaml");const xe=(q.name||"").trim()||(te||"").trim();return xe&&f(xe),b(null),y({type:"success",message:X}),I(),!0},[I,N]),L=$.useCallback(q=>{const X=A.find(ie=>ie.id===q)||rte(q);if(!X){y({type:"error",message:"Modèle introuvable."});return}const te=mh({code:X.content,format:X.format,createId:T});M(te,`Modèle « ${X.label} » chargé.`,X.label)},[M,A,T]),C=()=>{var q;(q=k.current)==null||q.click()},D=async q=>{var xe;const{files:X}=q.target,te=X&&X[0];if(!te)return;const ie=(xe=te.name.split(".").pop())==null?void 0:xe.toLowerCase();let ge="yaml";ie==="py"||te.type.includes("python")?ge="python":(ie==="yaml"||ie==="yml")&&(ge="yaml");try{const $e=await te.text(),vt=mh({code:$e,format:ge,createId:T}),vn=te.name.replace(/\.[^.]+$/,"").trim();M(vt,`Fichier « ${te.name} » importé.`,vn)}catch{y({type:"error",message:"Impossible de lire le fichier sélectionné."})}finally{q.target&&(q.target.value="")}};$.useEffect(()=>{if(!i||P.current)return;P.current=!0;const q=typeof i.source=="string"?i.source:null,X=typeof i.source_format=="string"?i.source_format:typeof i.format=="string"?i.format:null,te=(i.name||"").toString(),ie=typeof i.status_message=="string"?i.status_message:null,ge=typeof i.status_type=="string"?i.status_type:"success";if(q&&X){const xe=mh({code:q,format:X,createId:T}),$e=ie||(te?`Stratégie « ${te} » chargée.`:"Stratégie clonée chargée.");!M(xe,$e,te)&&ie&&y({type:ge,message:ie})}else te&&f(te),ie&&y({type:ge,message:ie}),X&&d(X==="python"?"python":"yaml")},[i,M,T]);const B=$.useCallback(q=>{g(q?{type:"SELECT",selection:q}:{type:"CLEAR_SELECTION"})},[g]),K=$.useCallback(({section:q,targetId:X,type:te})=>{var vt,vn;const ie=mt[te];if(!ie){y({type:"error",message:"Type de bloc inconnu."});return}if(q==="conditions"&&ie.category!=="conditions"){y({type:"error",message:"Ce bloc ne peut pas être utilisé dans les conditions."});return}if(q==="actions"&&ie.category!=="actions"){y({type:"error",message:"Ce bloc ne peut pas être utilisé dans les actions."});return}const xe=X?Ra(q==="conditions"?x:_,X):null;if(X&&(!xe||!((vn=(vt=mt[xe.type])==null?void 0:vt.accepts)!=null&&vn.includes(te)))){y({type:"error",message:"La cible ne peut pas contenir ce type de bloc."});return}const $e=ote(te,a);E(Ln=>({...Ln,[q]:ry(Ln[q],X,$e)})),B({section:q,nodeId:$e.id}),y({type:"idle",message:null})},[_,E,x,B]),z=({section:q,type:X})=>{K({section:q,targetId:null,type:X})},Y=$.useCallback(({section:q,nodeId:X,config:te})=>{E(ie=>({...ie,[q]:nE(ie[q],X,ge=>({...ge,config:te}))})),y({type:"idle",message:null})},[E]),ee=$.useCallback(({section:q,nodeId:X})=>{E(te=>({...te,[q]:rE(te[q],X)})),y({type:"idle",message:null})},[E]),ue=$.useCallback(q=>{q&&B(q);const X=q||v;X!=null&&X.nodeId&&(g({type:"COPY"}),y({type:"idle",message:null}))},[g,B,v]),ke=$.useCallback(()=>{if(!S)return null;try{return JSON.parse(S)}catch{return null}},[S]),Je=$.useCallback(({section:q,nodeId:X}={})=>{const te=ke();if(!te){y({type:"error",message:"Presse-papiers vide ou invalide."});return}const ie=q?{section:q,nodeId:X}:v||{section:"conditions",nodeId:null},ge=ie.section||"conditions",xe=mt[te.type];if(!xe){y({type:"error",message:"Bloc inconnu dans le presse-papiers."});return}if(ge==="conditions"&&xe.category!=="conditions"){y({type:"error",message:"Ce bloc ne peut pas être collé dans les conditions."});return}if(ge==="actions"&&xe.category!=="actions"){y({type:"error",message:"Ce bloc ne peut pas être collé dans les actions."});return}let $e=null,vt=!1;const vn=()=>($e||($e=ny(te,a)),$e);E(Ln=>{var Eb;const Yi=Ln[ge]||[];if(ie.nodeId){const Zl=Ra(Yi,ie.nodeId),uE=((Eb=mt[Zl==null?void 0:Zl.type])==null?void 0:Eb.accepts)||[];if(Zl&&uE.includes(te.type)){vt=!0;const cE=vn();return{...Ln,[ge]:ry(Yi,ie.nodeId,cE)}}}vt=!0;const lE=vn();return{...Ln,[ge]:[...Yi,lE]}}),$e&&vt?(B({section:ge,nodeId:$e.id}),y({type:"idle",message:null})):vt||y({type:"error",message:"Impossible de coller le bloc ici."})},[E,B,ke,v]),Ge=$.useCallback(({section:q,nodeId:X})=>{const ie=Ra(q==="actions"?_:x,X);if(!ie)return;const ge=kb(ie);let xe=null,$e=!1;E(vt=>{const vn=vt[q]||[],Ln=ny(ge,a);xe=Ln;const Yi=iE(vn,X,Ln);return Yi!==vn?($e=!0,{...vt,[q]:Yi}):($e=!0,{...vt,[q]:[...vn,Ln]})}),xe&&$e&&(B({section:q,nodeId:xe.id}),g({type:"SET_CLIPBOARD",clipboard:JSON.stringify(ge)}),y({type:"idle",message:null}))},[_,E,x,g,B]),G=$.useCallback(q=>{B({section:q,nodeId:null})},[B]),V=$.useCallback(()=>{g({type:"CLEAR_SELECTION"})},[g]),Z=w.history.past.length>0,U=w.history.future.length>0,oe=!!S,re=$.useCallback(()=>{Z&&g({type:"UNDO"})},[Z,g]),be=$.useCallback(()=>{U&&g({type:"REDO"})},[U,g]);$.useEffect(()=>{const q=X=>{if(!(X.metaKey||X.ctrlKey))return;const ie=X.key.toLowerCase();if(ie==="z"){X.preventDefault(),X.shiftKey?be():re();return}if(ie==="y"){X.preventDefault(),be();return}if(ie==="c"){v!=null&&v.nodeId&&(X.preventDefault(),ue());return}if(ie==="v"){oe&&(X.preventDefault(),Je());return}ie==="d"&&v!=null&&v.nodeId&&(X.preventDefault(),Ge(v))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[ue,Ge,Je,be,re,oe,v]);const we=$.useMemo(()=>{const q=iy(x);return iy(_,0,q.nextRow,q.map).map},[_,x]),Ze=j.errors.length?"error":j.warnings.length?"warning":"success",Ct=async q=>{if(q.preventDefault(),!j.isValid){y({type:"error",message:"Corrigez la configuration avant d'enregistrer."});return}y({type:"saving",message:"Enregistrement en cours…"}),b(null);const X={name:u.trim(),format:c,code:c==="python"?O.python:O.yaml};try{const te=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)});if(!te.ok){let ge=`Échec de l'enregistrement (HTTP ${te.status}).`;try{const xe=await te.json();xe&&xe.detail&&(ge=Array.isArray(xe.detail)?xe.detail.map($e=>$e.msg||$e.detail).join("; "):typeof xe.detail=="string"?xe.detail:JSON.stringify(xe.detail))}catch{}y({type:"error",message:ge});return}let ie=null;try{ie=await te.json()}catch{ie=null}b(ie),y({type:"success",message:"Stratégie enregistrée avec succès."})}catch{y({type:"error",message:"Impossible de contacter le service de sauvegarde des stratégies."})}};return h.jsxs("form",{className:"strategy-designer",onSubmit:Ct,"aria-labelledby":"designer-title",children:[h.jsxs("header",{className:"strategy-designer__header",children:[h.jsxs("div",{children:[h.jsx("h1",{id:"designer-title",className:"heading heading--lg",children:"Éditeur de stratégies"}),h.jsx("p",{className:"text text--muted",children:"Composez vos règles en glissant-déposant des blocs puis exportez-les vers l'algo-engine."})]}),h.jsxs("div",{className:"strategy-designer__actions",children:[h.jsxs("label",{className:"designer-field strategy-designer__name-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:"Nom de la stratégie"}),h.jsx("input",{type:"text",value:u,onChange:q=>f(q.target.value),required:!0})]}),h.jsxs("label",{className:"designer-field strategy-designer__format-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:"Format d'export"}),h.jsxs("select",{value:c,onChange:q=>d(q.target.value),children:[h.jsx("option",{value:"yaml",children:"YAML"}),h.jsx("option",{value:"python",children:"Python"})]})]}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:C,"data-testid":"designer-import-button",children:"Importer un fichier"}),h.jsx("input",{ref:k,type:"file",accept:".yaml,.yml,.py,.json,.txt",style:{display:"none"},onChange:D,"data-testid":"designer-file-input"}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:re,disabled:!Z,"data-testid":"designer-undo-button",children:"Annuler"}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:be,disabled:!U,"data-testid":"designer-redo-button",children:"Rétablir"}),h.jsx("button",{type:"button",className:"button button--ghost",onClick:()=>Je(),disabled:!oe,"data-testid":"designer-paste-button",children:"Coller"}),h.jsx("button",{type:"submit",className:"button button--primary",children:"Enregistrer la stratégie"})]})]}),p.message?h.jsx("div",{className:`designer-status designer-status--${p.type}`,role:p.type==="error"?"alert":"status","aria-live":"polite",children:p.message}):null,h.jsxs("div",{className:"strategy-designer__layout",children:[h.jsxs("div",{className:"designer-sidebar",children:[h.jsx(dte,{presets:A,onApply:L}),h.jsx(fZ,{onAdd:z})]}),h.jsx($Z,{conditions:x,actions:_,layout:we,selection:v,clipboardAvailable:oe,onDrop:K,onConfigChange:Y,onRemove:ee,onSelect:B,onSectionFocus:G,onCopy:ue,onPaste:Je,onDuplicate:Ge,onClearSelection:V}),h.jsxs("section",{className:"designer-panel designer-panel--validation","aria-labelledby":"validation-title",children:[h.jsxs("div",{className:"designer-panel__header",children:[h.jsx("h2",{id:"validation-title",className:"heading heading--md",children:"Validation temps réel"}),h.jsx("p",{className:"text text--muted",children:"Contrôlez la cohérence de la règle lors de la composition."})]}),h.jsx("div",{className:"designer-panel__body",children:h.jsx("div",{className:`designer-validation designer-validation--${Ze}`,"data-testid":"designer-validation",role:"region","aria-live":"polite",children:j.errors.length?h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"heading heading--sm",children:"Erreurs de configuration"}),h.jsx("ul",{children:j.errors.map((q,X)=>h.jsx("li",{children:q},X))}),j.warnings.length?h.jsxs(h.Fragment,{children:[h.jsx("h4",{className:"heading heading--xs",children:"Avertissements"}),h.jsx("ul",{children:j.warnings.map((q,X)=>h.jsx("li",{children:q},`warning-${X}`))})]}):null]}):h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text",children:"Règle valide : vous pouvez sauvegarder ou exporter la stratégie."}),j.rule?h.jsx("p",{className:"text text--muted designer-validation__rule",children:j.rule}):null,j.warnings.length?h.jsxs(h.Fragment,{children:[h.jsx("h4",{className:"heading heading--xs",children:"Avertissements"}),h.jsx("ul",{children:j.warnings.map((q,X)=>h.jsx("li",{children:q},`warning-${X}`))})]}):null]})})})]}),h.jsxs("section",{className:"designer-panel designer-panel--preview","aria-labelledby":"preview-title",children:[h.jsxs("div",{className:"designer-panel__header",children:[h.jsx("h2",{id:"preview-title",className:"heading heading--md",children:"Aperçu du code"}),h.jsx("p",{className:"text text--muted",children:"Utilisez les onglets YAML / Python pour vérifier le rendu avant sauvegarde."})]}),h.jsxs("div",{className:"designer-panel__body",children:[h.jsx("textarea",{className:"designer-preview",readOnly:!0,value:c==="python"?O.python:O.yaml,"data-testid":"strategy-preview","aria-label":`Aperçu ${c}`}),m?h.jsxs("details",{className:"designer-response",children:[h.jsx("summary",{children:"Réponse du moteur"}),h.jsx("pre",{children:JSON.stringify(m,null,2)})]}):null]})]})]})]})}const gh=new Map;function oi(e){return!e||typeof e!="string"?"":e.trim().toUpperCase()}function JS(e,t){if(!e||!t||typeof t!="object")return"";const n=new Map;Object.entries(t).forEach(([i,a])=>{typeof i=="string"&&typeof a=="string"&&n.set(i.toLowerCase(),a)});const r=[];e.id&&r.push(String(e.id)),e.name&&r.push(String(e.name)),e.strategy_type&&r.push(String(e.strategy_type)),r.push("__default__");for(const i of r){const a=n.get(i.toLowerCase());if(a)return a}return""}function hte(e){if(typeof window<"u"&&window.TradingView&&typeof window.TradingView.widget=="function")return Promise.resolve();if(!e)return Promise.reject(new Error("Aucun bundle TradingView disponible"));if(gh.has(e))return gh.get(e);const t=new Promise((n,r)=>{if(typeof document>"u"){r(new Error("Environnement non compatible avec le chargement du script TradingView"));return}const i=document.createElement("script");i.src=e,i.type="text/javascript",i.async=!0,i.onload=()=>n(),i.onerror=a=>{r(new Error("Impossible de charger la librairie TradingView"))},document.body.appendChild(i)});return gh.set(e,t),t}async function mte(e,t){const n=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({overlays:t})});let r={};try{r=await n.json()}catch{r={}}if(!n.ok){const i=(r==null?void 0:r.detail)||(r==null?void 0:r.message),a=typeof i=="string"?i:`HTTP ${n.status}`;throw new Error(a)}return r&&Array.isArray(r.overlays)?r.overlays:t}function gte({configEndpoint:e="/config/tradingview",updateEndpoint:t="/config/tradingview",selectedStrategy:n=null,symbol:r="",onSymbolChange:i}){const a=$.useId().replace(/[:]/g,"-"),o=$.useRef(null),s=$.useRef(null),l=$.useRef(!1),u=$.useRef(""),f=$.useRef(new Set),c=$.useRef([]),[d,p]=$.useState("loading"),[y,m]=$.useState(null),[b,w]=$.useState(null),[g,x]=$.useState(oi(r)),[_,v]=$.useState([]),[S,O]=$.useState("idle"),[j,A]=$.useState({title:"RSI",type:"indicator"});$.useEffect(()=>{c.current=_,!(!l.current||!s.current)&&_.forEach(P=>{if(!P||!P.id||f.current.has(P.id))return;const E=typeof s.current.chart=="function"?s.current.chart():null;if(E){if(P.type==="annotation"){if(typeof E.createShape=="function"){const N=P.settings&&typeof P.settings=="object"?P.settings:{};E.createShape({text:P.title,shape:"label",...N})}}else if(typeof E.createStudy=="function"){const N=P.settings&&typeof P.settings=="object"?P.settings:{},I=Array.isArray(N.inputs)?N.inputs:[],M=N.options&&typeof N.options=="object"?N.options:{},L=typeof N.overlay=="boolean"?N.overlay:!0;E.createStudy(P.title,L,I,M)}f.current.add(P.id)}})},[_]),$.useEffect(()=>{let P=!1;p("loading"),m(null);async function E(){try{const N=await fetch(e,{headers:{Accept:"application/json"}});if(!N.ok)throw new Error(`HTTP ${N.status}`);const I=await N.json();if(P)return;w(I);const M=Array.isArray(I.overlays)?I.overlays:[];v(M),c.current=M,p("ready")}catch(N){P||(p("error"),m(N))}}return E(),()=>{P=!0}},[e]),$.useEffect(()=>{if(d!=="ready"||!b||!o.current)return;let P=!1;async function E(){try{if(await hte(b.library_url),P)return;if(!window.TradingView||typeof window.TradingView.widget!="function")throw new Error("La librairie TradingView n'est pas disponible");const N=oi(g||JS(n,b.symbol_map)||b.default_symbol)||"BINANCE:BTCUSDT";u.current=N;const I=window.TradingView.widget({symbol:N,interval:"60",container:a,locale:"fr",autosize:!0,timezone:"Etc/UTC",theme:"dark",studies_overrides:{}});s.current=I,f.current=new Set,typeof I.onChartReady=="function"?I.onChartReady(()=>{if(P)return;l.current=!0;const M=u.current||N;M&&typeof I.setSymbol=="function"&&I.setSymbol(M,()=>{}),c.current.forEach(L=>{if(L&&L.id){const C=typeof I.chart=="function"?I.chart():null;if(!C)return;if(L.type==="annotation"){if(typeof C.createShape=="function"){const D=L.settings&&typeof L.settings=="object"?L.settings:{};C.createShape({text:L.title,shape:"label",...D})}}else if(typeof C.createStudy=="function"){const D=L.settings&&typeof L.settings=="object"?L.settings:{},B=Array.isArray(D.inputs)?D.inputs:[],K=D.options&&typeof D.options=="object"?D.options:{},z=typeof D.overlay=="boolean"?D.overlay:!0;C.createStudy(L.title,z,B,K)}f.current.add(L.id)}})}):l.current=!0}catch(N){P||(p("error"),m(N))}}return E(),()=>{P=!0,l.current=!1,s.current&&typeof s.current.remove=="function"&&s.current.remove(),s.current=null,f.current=new Set}},[d,b,a,g,n]);const k=$.useMemo(()=>b?oi(r)||oi(JS(n,b.symbol_map))||oi(b.default_symbol):oi(r),[r,n,b]);$.useEffect(()=>{if(!b)return;const P=k||"";if(!P)return;if(P===g){u.current=P;return}x(P),u.current=P,l.current&&s.current&&typeof s.current.setSymbol=="function"&&s.current.setSymbol(P,()=>{});const E=oi(r);i&&P&&P!==E&&i(P)},[k,b,g,i,r]);const T=async P=>{P.preventDefault();const E=j.title?j.title.trim():"";if(!E)return;const N=`overlay-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,I=j.type==="annotation"?{shape:"label",text:E}:{overlay:!0,inputs:[],options:{}},M={id:N,title:E,type:j.type,settings:I},L=c.current,C=[...L,M];c.current=C,v(C),O("saving");try{const D=await mte(t,C);c.current=D,v(D),O("saved"),A({title:"",type:j.type})}catch(D){c.current=L,v(L),O("error"),console.error("Impossible de persister les overlays TradingView",D)}};return d==="loading"?h.jsx("div",{className:"tradingview-panel",role:"status",children:"Chargement de la configuration TradingView…"}):d==="error"?h.jsx("div",{className:"tradingview-panel tradingview-panel--error",role:"alert",children:"Impossible d'initialiser le graphique TradingView."}):h.jsxs("section",{className:"tradingview-panel","aria-label":"Graphique TradingView et overlays",children:[h.jsx("div",{id:a,ref:o,className:"tradingview-panel__chart",role:"img","aria-label":`Graphique TradingView pour ${g||"l'instrument sélectionné"}`}),h.jsxs("form",{className:"tradingview-panel__form",onSubmit:T,children:[h.jsxs("label",{className:"tradingview-panel__field",children:[h.jsx("span",{className:"tradingview-panel__label",children:"Nom de l'overlay"}),h.jsx("input",{type:"text",value:j.title,onChange:P=>A(E=>({...E,title:P.target.value})),placeholder:"RSI"})]}),h.jsxs("label",{className:"tradingview-panel__field",children:[h.jsx("span",{className:"tradingview-panel__label",children:"Type"}),h.jsxs("select",{value:j.type,onChange:P=>A(E=>({...E,type:P.target.value})),children:[h.jsx("option",{value:"indicator",children:"Indicateur"}),h.jsx("option",{value:"annotation",children:"Annotation"})]})]}),h.jsx("button",{type:"submit",className:"button button--secondary",children:"Ajouter l'overlay"}),S==="saving"&&h.jsx("span",{className:"tradingview-panel__status",role:"status",children:"Sauvegarde en cours…"}),S==="error"&&h.jsx("span",{className:"tradingview-panel__status tradingview-panel__status--error",role:"alert",children:"Impossible d'enregistrer l'overlay."}),S==="saved"&&h.jsx("span",{className:"tradingview-panel__status tradingview-panel__status--success",role:"status",children:"Overlay enregistré."})]}),h.jsxs("ul",{className:"tradingview-panel__overlays","aria-live":"polite",children:[_.length===0&&h.jsx("li",{className:"tradingview-panel__overlays-empty",children:"Aucun overlay enregistré."}),_.map(P=>h.jsxs("li",{className:"tradingview-panel__overlay",children:[h.jsx("strong",{children:P.title}),h.jsx("span",{className:"tradingview-panel__overlay-type",children:P.type==="annotation"?"Annotation":"Indicateur"})]},P.id))]})]})}const yte=[{value:"15m",label:"15 minutes"},{value:"1h",label:"1 heure"},{value:"4h",label:"4 heures"},{value:"1d",label:"1 jour"}];function yh(e){if(!e||typeof e!="object")return null;const t=Array.isArray(e.equity_curve)?e.equity_curve:[],n=typeof e.pnl=="number"?e.pnl:typeof e.profit_loss=="number"?e.profit_loss:0,r=typeof e.drawdown=="number"?e.drawdown:typeof e.max_drawdown=="number"?e.max_drawdown:0,i=typeof e.total_return=="number"?e.total_return:0,a=typeof e.initial_balance=="number"?e.initial_balance:0;return{...e,equity_curve:t,pnl:n,drawdown:r,total_return:i,initial_balance:a}}function Uu(e,t="USD"){try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:t,maximumFractionDigits:2}).format(e||0)}catch{return`${(e||0).toFixed(2)} ${t}`}}function vh(e){return`${(typeof e=="number"?e*100:0).toFixed(2)} %`}function bh(e,t){return!e||!t?"":e.replace("__id__",encodeURIComponent(t))}function vte({strategiesEndpoint:e,runEndpointTemplate:t,uiEndpointTemplate:n,historyEndpointTemplate:r,defaultStrategyId:i="",defaultSymbol:a="BTCUSDT",historyPageSize:o=5,tradingViewConfigEndpoint:s="/config/tradingview",tradingViewUpdateEndpoint:l="/config/tradingview"}){const[u,f]=$.useState([]),[c,d]=$.useState("idle"),[p,y]=$.useState(i),[m,b]=$.useState(a),[w,g]=$.useState("1h"),[x,_]=$.useState(30),[v,S]=$.useState(1e4),[O,j]=$.useState(null),[A,k]=$.useState({items:[],total:0,page:1}),[T,P]=$.useState("idle"),[E,N]=$.useState("idle"),[I,M]=$.useState(""),[L,C]=$.useState(null),D=$.useMemo(()=>u.find(V=>V.id===p)||null,[u,p]),B=$.useCallback(async()=>{if(!e){f([]),d("ready");return}d("loading");try{const V=await fetch(e,{headers:{Accept:"application/json"}});if(!V.ok)throw new Error(`HTTP ${V.status}`);const Z=await V.json(),U=Array.isArray(Z.items)?Z.items.filter(oe=>oe&&oe.id):[];f(U),d("ready"),y(oe=>{var re;return oe||(((re=U[0])==null?void 0:re.id)??"")})}catch(V){console.error("Impossible de charger les stratégies",V),f([]),d("error"),C(V)}},[e]);$.useEffect(()=>{B()},[B]);const K=$.useCallback(async V=>{if(!V||!n){j(null);return}const Z=bh(n,V);try{const U=await fetch(Z,{headers:{Accept:"application/json"}});if(!U.ok)throw new Error(`HTTP ${U.status}`);const oe=await U.json();j(yh(oe))}catch(U){console.error("Impossible de charger les métriques du backtest",U)}},[n]),z=$.useCallback(async(V,Z=1,U=!1)=>{if(!V||!r){k({items:[],total:0,page:1});return}const oe=bh(r,V);if(oe){P("loading");try{const re=new URL(oe,window.location.origin);re.searchParams.set("page",String(Z)),re.searchParams.set("page_size",String(o));const be=await fetch(re.toString(),{headers:{Accept:"application/json"}});if(!be.ok)throw new Error(`HTTP ${be.status}`);const we=await be.json(),Ct=(Array.isArray(we.items)?we.items:[]).map(q=>yh(q)).filter(Boolean);k(q=>({page:Z,total:typeof we.total=="number"?we.total:Ct.length,items:U?[...q.items,...Ct]:Ct})),P("ready")}catch(re){console.error("Impossible de charger l'historique des backtests",re),P("error")}}},[r,o]);$.useEffect(()=>{if(!p){j(null),k({items:[],total:0,page:1});return}K(p),z(p,1,!1)},[p,K,z]);const Y=$.useMemo(()=>!O||!Array.isArray(O.equity_curve)?[]:O.equity_curve.map((V,Z)=>({index:Z,equity:typeof V=="number"?V:Number.parseFloat(V)||0})),[O]),ee=$.useMemo(()=>O&&O.metadata&&O.metadata.currency?O.metadata.currency:"USD",[O]),ue=!!(p&&m.trim()),ke=A.items.length<A.total,Je=$.useCallback(async V=>{if(V.preventDefault(),!p){C(new Error("Aucune stratégie sélectionnée."));return}const Z=bh(t,p);if(!Z){C(new Error("Endpoint de backtest introuvable."));return}N("running"),M(""),C(null);const U={symbol:m.trim(),timeframe:w,lookback_days:x,initial_balance:v};try{const oe=await fetch(Z,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(U)});if(!oe.ok){const we=await oe.json().catch(()=>null),Ze=we&&we.message?we.message:`HTTP ${oe.status}`;throw new Error(Ze)}const re=await oe.json(),be=yh(re);j(be),N("success"),M("Backtest exécuté avec succès."),await K(p),await z(p,1,!1)}catch(oe){console.error("Échec de l'exécution du backtest",oe),N("error"),C(oe)}},[p,t,m,w,x,v,K,z]),Ge=$.useCallback(V=>{V&&b(V.toUpperCase())},[]),G=$.useCallback(()=>{p&&z(p,A.page+1,!0)},[p,A.page,z]);return h.jsxs("div",{className:"backtest-console",children:[h.jsxs("form",{className:"backtest-console__form",onSubmit:Je,children:[h.jsxs("div",{className:"backtest-console__fields",children:[h.jsxs("label",{className:"designer-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:"Stratégie"}),h.jsxs("select",{value:p,onChange:V=>y(V.target.value),disabled:c==="loading",children:[u.length===0&&h.jsx("option",{value:"",disabled:!0,children:c==="loading"?"Chargement des stratégies…":"Aucune stratégie disponible"}),u.map(V=>h.jsx("option",{value:V.id,children:V.name||V.id},V.id))]})]}),h.jsxs("label",{className:"designer-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:"Actif"}),h.jsx("input",{type:"text",value:m,onChange:V=>b(V.target.value.toUpperCase()),placeholder:"BTCUSDT"})]}),h.jsxs("label",{className:"designer-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:"Période"}),h.jsx("select",{value:w,onChange:V=>g(V.target.value),children:yte.map(V=>h.jsx("option",{value:V.value,children:V.label},V.value))})]}),h.jsxs("label",{className:"designer-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:"Fenêtre (jours)"}),h.jsx("input",{type:"number",min:"1",max:"180",value:x,onChange:V=>_(Math.max(1,Number.parseInt(V.target.value,10)||1))})]}),h.jsxs("label",{className:"designer-field",children:[h.jsx("span",{className:"designer-field__label text text--muted",children:"Capital initial"}),h.jsx("input",{type:"number",min:"100",step:"100",value:v,onChange:V=>S(Math.max(100,Number.parseFloat(V.target.value)||100))})]})]}),h.jsx("div",{className:"backtest-console__actions",children:h.jsx("button",{type:"submit",className:"button button--primary",disabled:!ue||E==="running",children:E==="running"?"Backtest en cours…":"Lancer le backtest"})})]}),h.jsxs("section",{className:"backtest-console__tradingview","aria-labelledby":"backtest-tradingview-title",children:[h.jsx("h3",{id:"backtest-tradingview-title",className:"heading heading--md",children:"Analyse graphique TradingView"}),h.jsx(gte,{configEndpoint:s,updateEndpoint:l,selectedStrategy:D,symbol:m,onSymbolChange:Ge})]}),I&&h.jsx("div",{className:"backtest-console__message",role:"status",children:I}),L&&h.jsx("div",{className:"backtest-console__error",role:"alert",children:L.message||"Une erreur est survenue lors du backtest."}),h.jsxs("section",{className:"backtest-console__results","aria-labelledby":"backtest-results-title",children:[h.jsx("h3",{id:"backtest-results-title",className:"heading heading--md",children:"Résultat du dernier backtest"}),!O&&h.jsx("p",{className:"text text--muted",children:"Lancez un backtest pour visualiser l'équity et les indicateurs de performance."}),O&&h.jsxs(h.Fragment,{children:[h.jsxs("ul",{className:"backtest-console__metrics",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"P&L"}),h.jsx("span",{children:Uu(O.pnl,ee)})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Rendement"}),h.jsx("span",{children:vh(O.total_return)})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Max drawdown"}),h.jsx("span",{children:vh(O.drawdown)})]})]}),Y.length>0?h.jsx("div",{className:"backtest-console__chart",role:"img","aria-label":"Équity du backtest",children:h.jsx(UA,{width:"100%",height:240,children:h.jsxs(e$,{data:Y,margin:{top:8,right:16,bottom:8,left:8},children:[h.jsx(ub,{strokeDasharray:"3 3"}),h.jsx(Gl,{dataKey:"index",tickFormatter:V=>`#${V}`}),h.jsx(Yl,{tickFormatter:V=>Uu(V,ee)}),h.jsx(On,{formatter:V=>Uu(V,ee),labelFormatter:V=>`Point ${V}`}),h.jsx(No,{type:"monotone",dataKey:"equity",stroke:"#2563eb",strokeWidth:2,dot:!1})]})})}):h.jsx("p",{className:"text text--muted",children:"Les données d'équity ne sont pas disponibles pour ce backtest."})]})]}),h.jsxs("section",{className:"backtest-console__history","aria-labelledby":"backtest-history-title",children:[h.jsx("h3",{id:"backtest-history-title",className:"heading heading--md",children:"Historique des backtests"}),T==="error"&&h.jsx("p",{className:"text text--muted",role:"alert",children:"Impossible de charger l'historique pour le moment."}),A.items.length===0&&T!=="error"?h.jsx("p",{className:"text text--muted",children:"Aucun backtest enregistré pour cette stratégie."}):h.jsx("ul",{className:"backtest-console__history-list","aria-live":"polite",children:A.items.map((V,Z)=>h.jsxs("li",{children:[h.jsxs("div",{children:[h.jsx("strong",{children:V.metadata&&V.metadata.symbol?`${V.metadata.symbol}`:"Backtest"}),h.jsx("span",{className:"text text--muted",children:V.ran_at?` — ${new Date(V.ran_at).toLocaleString()}`:""})]}),h.jsxs("div",{className:"backtest-console__history-metrics",children:[h.jsx("span",{children:Uu(V.pnl,ee)}),h.jsx("span",{children:vh(V.total_return)})]})]},`${V.ran_at||Z}-${Z}`))}),ke&&h.jsx("div",{className:"backtest-console__load-more",children:h.jsx("button",{type:"button",className:"button button--secondary",onClick:G,disabled:T==="loading",children:T==="loading"?"Chargement…":"Charger plus"})})]})]})}function bte({onSubmit:e,status:t,errorMessage:n}){const{t:r}=Co(),[i,a]=$.useState(5),[o,s]=$.useState("");async function l(u){u.preventDefault(),await e({rating:Number(i),comment:o.trim()})&&s("")}return h.jsxs("form",{className:"review-form",onSubmit:l,children:[h.jsx("h3",{className:"heading heading--sm",children:r("Partager un avis")}),h.jsxs("div",{className:"review-form__fields",children:[h.jsxs("label",{className:"review-form__field",children:[h.jsx("span",{className:"review-form__label",children:r("Note")}),h.jsx("select",{value:i,onChange:u=>a(u.target.value),className:"input",children:[1,2,3,4,5].map(u=>h.jsx("option",{value:u,children:r("{value} / 5",{value:u})},u))})]}),h.jsxs("label",{className:"review-form__field review-form__field--grow",children:[h.jsx("span",{className:"review-form__label",children:r("Commentaire")}),h.jsx("textarea",{value:o,onChange:u=>s(u.target.value),className:"input",rows:3,placeholder:r("Décrivez votre expérience")})]})]}),h.jsxs("div",{className:"review-form__actions",children:[h.jsx("button",{type:"submit",className:"button",disabled:t==="submitting",children:r(t==="submitting"?"Envoi…":"Envoyer")}),t==="success"&&h.jsx("span",{className:"text text--success",children:r("Avis enregistré")}),t==="error"&&h.jsx("span",{className:"text text--critical",children:n||r("Erreur lors de l'envoi")})]})]})}function wte(e,t,n){const r=Number(e||0)/100;try{return new Intl.NumberFormat(n,{style:"currency",currency:t}).format(r)}catch{return`${r.toFixed(2)} ${t}`}}function ZS(e,t){return e==null?t("ND"):Number.parseFloat(e).toFixed(1)}function xte({listing:e,reviewsEndpoint:t}){const{t:n,i18n:r}=Co(),[i,a]=$.useState(!1),[o,s]=$.useState(e),[l,u]=$.useState([]),[f,c]=$.useState("idle"),[d,p]=$.useState("idle"),[y,m]=$.useState(null);$.useEffect(()=>{s(e)},[e]);const b=$.useCallback(async()=>{c("loading");try{const _=await fetch(t,{headers:{Accept:"application/json"}});if(!_.ok)throw new Error(`HTTP ${_.status}`);const v=await _.json(),S=Array.isArray(v)?v:[];u(S);const O=S.reduce((j,A)=>j+Number(A.rating||0),0);s(j=>({...j,reviews_count:S.length,average_rating:S.length?Number((O/S.length).toFixed(2)):null})),c("ready")}catch(_){console.error("Impossible de charger les avis",_),c("error")}},[t]);$.useEffect(()=>{i&&(f==="idle"||f==="error")&&b()},[i,f,b]),$.useEffect(()=>{if(d==="success"){const _=setTimeout(()=>p("idle"),2e3);return()=>clearTimeout(_)}},[d]);const w=$.useMemo(()=>!o||o.average_rating===null||o.average_rating===void 0?n("Non notée"):n("{rating} / 5",{rating:Number.parseFloat(o.average_rating).toFixed(1)}),[o,n]),g=$.useCallback(async({rating:_,comment:v})=>{p("submitting"),m(null);try{const S=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({rating:_,comment:v||null})});if(!S.ok)throw new Error(`HTTP ${S.status}`);return await b(),p("success"),!0}catch(S){return console.error("Impossible d'enregistrer l'avis",S),p("error"),m(n("Impossible d'enregistrer l'avis")),!1}},[b,t,n]),x=r.language||"fr";return h.jsxs("article",{className:"marketplace-card",role:"listitem",children:[h.jsxs("header",{className:"marketplace-card__header",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"heading heading--md marketplace-card__title",children:o.strategy_name}),h.jsx("p",{className:"text text--muted marketplace-card__owner",children:n("Créateur #{ownerId}",{ownerId:o.owner_id})})]}),h.jsx("div",{className:"marketplace-card__price","aria-label":n("Prix"),children:wte(o.price_cents,o.currency,x)})]}),o.description&&h.jsx("p",{className:"text marketplace-card__description",children:o.description}),h.jsxs("dl",{className:"marketplace-card__metrics",children:[h.jsxs("div",{className:"marketplace-card__metric",children:[h.jsx("dt",{children:n("Performance")}),h.jsx("dd",{children:ZS(o.performance_score,n)})]}),h.jsxs("div",{className:"marketplace-card__metric",children:[h.jsx("dt",{children:n("Risque")}),h.jsx("dd",{children:ZS(o.risk_score,n)})]}),h.jsxs("div",{className:"marketplace-card__metric",children:[h.jsx("dt",{children:n("Notes")}),h.jsx("dd",{children:w})]}),h.jsxs("div",{className:"marketplace-card__metric",children:[h.jsx("dt",{children:n("Avis")}),h.jsx("dd",{children:o.reviews_count||0})]})]}),h.jsx("div",{className:"marketplace-card__actions",children:h.jsx("button",{type:"button",className:"button button--ghost",onClick:()=>a(_=>!_),children:n(i?"Masquer les détails":"Voir les détails")})}),i&&h.jsxs("div",{className:"marketplace-card__details",children:[h.jsxs("section",{className:"marketplace-card__reviews","aria-label":n("Avis des utilisateurs"),children:[f==="loading"&&h.jsx("p",{className:"text",children:n("Chargement des avis…")}),f==="error"&&h.jsx("p",{className:"text text--critical",children:n("Impossible de récupérer les avis pour le moment.")}),f==="ready"&&l.length===0&&h.jsx("p",{className:"text text--muted",children:n("Aucun avis pour le moment.")}),f==="ready"&&l.length>0&&h.jsx("ul",{className:"reviews",role:"list",children:l.map(_=>h.jsxs("li",{className:"reviews__item",role:"listitem",children:[h.jsxs("div",{className:"reviews__header",children:[h.jsx("span",{className:"reviews__rating",children:n("{rating} / 5",{rating:_.rating})}),h.jsx("time",{dateTime:_.created_at,className:"text text--muted",children:new Intl.DateTimeFormat(x).format(new Date(_.created_at))})]}),_.comment&&h.jsx("p",{className:"text reviews__comment",children:_.comment})]},_.id))})]}),h.jsx(bte,{onSubmit:g,status:d,errorMessage:y})]})]})}function Ste(e){const t=new URLSearchParams;return e.search&&t.set("search",e.search),e.minPerformance&&t.set("min_performance",e.minPerformance),e.maxRisk&&t.set("max_risk",e.maxRisk),e.maxPrice&&t.set("max_price",e.maxPrice),e.sort&&t.set("sort",e.sort),t.toString()}function _te({listingsEndpoint:e,reviewsEndpointTemplate:t}){const{t:n}=Co(),[r,i]=$.useState({search:"",minPerformance:"",maxRisk:"",maxPrice:"",sort:"created_desc"}),[a,o]=$.useState({status:"idle",items:[],error:null}),s=$.useMemo(()=>[{value:"created_desc",label:n("Plus récents")},{value:"price_asc",label:n("Prix croissant")},{value:"price_desc",label:n("Prix décroissant")},{value:"performance_desc",label:n("Performance décroissante")},{value:"performance_asc",label:n("Performance croissante")},{value:"risk_asc",label:n("Risque croissant")},{value:"risk_desc",label:n("Risque décroissant")},{value:"rating_desc",label:n("Mieux notées")}],[n]);$.useEffect(()=>{const c=new AbortController;async function d(){o(p=>({...p,status:"loading",error:null}));try{const p=Ste(r),y=await fetch(p?`${e}?${p}`:e,{headers:{Accept:"application/json"},signal:c.signal});if(!y.ok)throw new Error(`HTTP ${y.status}`);const m=await y.json();c.signal.aborted||o({status:"ready",items:m||[],error:null})}catch(p){c.signal.aborted||(console.error("Impossible de charger les listings",p),o({status:"error",items:[],error:p}))}}return d(),()=>c.abort()},[r,e]);const l=$.useMemo(()=>!!(r.search||r.minPerformance||r.maxRisk||r.maxPrice||r.sort!=="created_desc"),[r]);function u(c){const{name:d,value:p}=c.target;i(y=>({...y,[d]:p}))}function f(){i({search:"",minPerformance:"",maxRisk:"",maxPrice:"",sort:"created_desc"})}return h.jsxs("div",{className:"marketplace",children:[h.jsxs("header",{className:"marketplace__header",children:[h.jsx("h1",{className:"heading heading--xl",children:n("Marketplace de stratégies")}),h.jsx("p",{className:"text text--muted",children:n("Comparez les stratégies publiées selon la performance, le profil de risque et le budget.")})]}),h.jsx("section",{className:"marketplace__filters","aria-label":n("Filtres de recherche"),children:h.jsxs("form",{className:"marketplace-filters",onSubmit:c=>{c.preventDefault()},children:[h.jsxs("div",{className:"marketplace-filters__row",children:[h.jsxs("label",{className:"marketplace-filters__field",children:[h.jsx("span",{className:"marketplace-filters__label",children:n("Rechercher")}),h.jsx("input",{type:"search",name:"search",value:r.search,onChange:u,placeholder:n("Nom de stratégie"),className:"input"})]}),h.jsxs("label",{className:"marketplace-filters__field",children:[h.jsx("span",{className:"marketplace-filters__label",children:n("Performance min.")}),h.jsx("input",{type:"number",step:"0.1",min:"0",name:"minPerformance",value:r.minPerformance,onChange:u,className:"input"})]}),h.jsxs("label",{className:"marketplace-filters__field",children:[h.jsx("span",{className:"marketplace-filters__label",children:n("Risque max.")}),h.jsx("input",{type:"number",step:"0.1",min:"0",name:"maxRisk",value:r.maxRisk,onChange:u,className:"input"})]}),h.jsxs("label",{className:"marketplace-filters__field",children:[h.jsx("span",{className:"marketplace-filters__label",children:n("Prix max. (USD)")}),h.jsx("input",{type:"number",min:"0",name:"maxPrice",value:r.maxPrice,onChange:u,className:"input"})]}),h.jsxs("label",{className:"marketplace-filters__field",children:[h.jsx("span",{className:"marketplace-filters__label",children:n("Tri")}),h.jsx("select",{name:"sort",value:r.sort,onChange:u,className:"input",children:s.map(c=>h.jsx("option",{value:c.value,children:c.label},c.value))})]})]}),h.jsx("div",{className:"marketplace-filters__actions",children:h.jsx("button",{type:"button",className:"button button--ghost",onClick:f,disabled:!l,children:n("Réinitialiser")})})]})}),h.jsxs("section",{className:"marketplace__results","aria-live":"polite",children:[a.status==="loading"&&h.jsx("p",{className:"text",children:n("Chargement des listings…")}),a.status==="error"&&h.jsx("p",{className:"text text--critical",children:n("Impossible de récupérer les listings pour le moment.")}),a.status==="ready"&&a.items.length===0&&h.jsx("p",{className:"text text--muted",children:n("Aucune stratégie ne correspond à vos filtres.")}),a.status==="ready"&&a.items.length>0&&h.jsx("div",{className:"marketplace-grid",role:"list",children:a.items.map(c=>h.jsx(xte,{listing:c,reviewsEndpoint:t.replace("__id__",String(c.id))},c.id))})]})]})}function Ote({label:e,children:t}){const n=$.useId(),[r,i]=$.useState(!1);return h.jsxs("span",{className:`tooltip${r?" tooltip--open":""}`,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onFocus:()=>i(!0),onBlur:()=>i(!1),children:[h.jsx("button",{type:"button",className:"tooltip__trigger","aria-describedby":n,children:t}),h.jsx("span",{role:"tooltip",id:n,className:"tooltip__panel",children:e})]})}const ay=[{id:"connect-broker",title:"Connexion broker",description:"Renseignez les clés API ou OAuth pour relier votre compte broker et synchroniser vos portefeuilles.",tooltip:"Une connexion réussie permet de récupérer automatiquement soldes, positions et historique d'ordres.",videoUrl:"https://www.youtube-nocookie.com/embed/ysz5S6PUM-U",videoTitle:"Connecter un broker"},{id:"create-strategy",title:"Créer une stratégie",description:"Assemblez vos indicateurs, conditions d'entrée/sortie et règles de gestion du risque pour générer un plan trading.",tooltip:"Utilisez l'assistant IA ou le designer visuel pour accélérer la mise en place tout en gardant la main sur les paramètres.",videoUrl:"https://www.youtube-nocookie.com/embed/2alg7MQ6_sI",videoTitle:"Composer une stratégie"},{id:"run-first-test",title:"Premier backtest",description:"Lancez un backtest rapide sur données historiques afin de vérifier la robustesse avant un déploiement live.",tooltip:"Analysez la courbe d'équité, le drawdown et les principaux ratios pour décider d'un passage en production.",videoUrl:"https://www.youtube-nocookie.com/embed/_OBlgSz8sSM",videoTitle:"Réaliser un backtest"}];ay.map(e=>e.id);function jte(e=[]){if(!Array.isArray(e)||!e.length)return ay;const t=new Map(ay.map(n=>[n.id,n]));return e.map(n=>{if(!n||typeof n!="object")return null;const r=t.get(n.id)||{};return{...r,...n,tooltip:n.tooltip??r.tooltip,videoUrl:n.videoUrl??r.videoUrl,videoTitle:n.videoTitle??r.videoTitle??n.title}}).filter(Boolean)}function wh(e){var l;const t=jte(e==null?void 0:e.steps),n=Array.isArray(e==null?void 0:e.completed_steps)?e.completed_steps.filter(u=>t.some(f=>f.id===u)):[],r=[];n.forEach(u=>{r.includes(u)||r.push(u)});const i=(e==null?void 0:e.is_complete)??r.length>=t.length,a=e==null?void 0:e.current_step,o=t.find(u=>!r.includes(u.id)),s=i?null:((l=t.find(u=>u.id===a))==null?void 0:l.id)||(o==null?void 0:o.id)||null;return{userId:(e==null?void 0:e.user_id)??null,steps:t,completedSteps:r,currentStepId:s,isComplete:i,updatedAt:(e==null?void 0:e.updated_at)??null,restartedAt:(e==null?void 0:e.restarted_at)??null}}function Ate(e,t){return!e||!t?null:e.replace("__STEP__",encodeURIComponent(t))}function Pte({progressEndpoint:e,stepTemplate:t,resetEndpoint:n,userId:r}){var j,A;const{t:i,i18n:a}=Co(),[o,s]=$.useState(null),[l,u]=$.useState(!0),[f,c]=$.useState(null),[d,p]=$.useState(null),[y,m]=$.useState(!1),b=$.useMemo(()=>{const k={Accept:"application/json"};return r&&(k["X-User-Id"]=r),k},[r]),w=$.useCallback(async()=>{if(!e){c(i("Point d'accès onboarding non configuré.")),s(null),u(!1);return}u(!0),c(null);try{const k=await fetch(e,{method:"GET",headers:{...b},credentials:"same-origin"});if(!k.ok)throw new Error(`HTTP ${k.status}`);const T=await k.json();s(wh(T))}catch(k){console.error("Impossible de charger la progression d'onboarding",k),c(i("Impossible de récupérer la progression pour le moment.")),s(null)}finally{u(!1)}},[e,b,i]),g=$.useCallback(async k=>{const T=Ate(t,k);if(!T){c(i("Impossible de déterminer l'étape à enregistrer."));return}p(k),c(null);try{const P=await fetch(T,{method:"POST",headers:{...b},credentials:"same-origin"});if(!P.ok)throw new Error(`HTTP ${P.status}`);const E=await P.json();s(wh(E))}catch(P){console.error("Impossible de marquer l'étape d'onboarding",P),c(i("Enregistrement de l'étape impossible. Réessayez."))}finally{p(null)}},[b,t,i]),x=$.useCallback(async()=>{if(!n){c(i("Point d'accès de réinitialisation manquant."));return}m(!0),c(null);try{const k=await fetch(n,{method:"POST",headers:{...b},credentials:"same-origin"});if(!k.ok)throw new Error(`HTTP ${k.status}`);const T=await k.json();s(wh(T))}catch(k){console.error("Impossible de réinitialiser le tutoriel",k),c(i("Réinitialisation impossible. Merci de réessayer."))}finally{m(!1)}},[b,n,i]);$.useEffect(()=>{w()},[w]);const _=((j=o==null?void 0:o.steps)==null?void 0:j.length)??0,v=((A=o==null?void 0:o.completedSteps)==null?void 0:A.length)??0,S=$.useMemo(()=>a.language||"fr",[a.language]),O=_?o!=null&&o.isComplete?i("{completed} / {total} étapes complétées – Parcours terminé !",{completed:v,total:_}):i("{completed} / {total} étapes complétées",{completed:v,total:_}):i("Chargement du parcours d'onboarding");return h.jsxs("section",{className:"onboarding__container","aria-busy":l||!!d||y,children:[h.jsxs("header",{className:"onboarding__header",children:[h.jsx("p",{className:"onboarding__summary",role:"status","aria-live":"polite",children:O}),h.jsx("button",{type:"button",className:"onboarding__restart",onClick:x,disabled:y||l||!o,children:i(y?"Réinitialisation…":"Relancer le tutoriel")})]}),f?h.jsx("p",{className:"onboarding__error",role:"alert",children:f}):null,l&&!o?h.jsx("p",{className:"onboarding__loading",role:"status",children:i("Chargement du tutoriel…")}):null,o&&_?h.jsxs(h.Fragment,{children:[h.jsx("ol",{className:"onboarding__steps",role:"list","aria-labelledby":"onboarding-title",children:o.steps.map((k,T)=>{const P=o.completedSteps.includes(k.id),E=!P&&(o.currentStepId===k.id||!o.currentStepId&&!o.isComplete&&T===v),N=i(P?"Terminée":E?"Étape en cours":"À faire");return h.jsxs("li",{className:`onboarding-step${P?" onboarding-step--completed":""}${E?" onboarding-step--current":""}`,role:"listitem",children:[h.jsxs("div",{className:"onboarding-step__header",children:[h.jsxs("h3",{className:"onboarding-step__title",children:[k.title,k.tooltip?h.jsxs(Ote,{label:k.tooltip,children:[h.jsx("span",{"aria-hidden":"true",children:"?"}),h.jsx("span",{className:"sr-only",children:i("Aide sur {title}",{title:k.title})})]}):null]}),h.jsx("span",{className:`badge onboarding-step__status${P?" badge--success":E?" badge--info":" badge--neutral"}`,children:N})]}),h.jsx("p",{className:"onboarding-step__description",children:k.description}),k.videoUrl?h.jsxs("details",{className:"onboarding-step__video",children:[h.jsx("summary",{children:i("Voir la vidéo d'accompagnement")}),h.jsx("div",{className:"onboarding-step__video-frame",children:h.jsx("iframe",{src:k.videoUrl,title:k.videoTitle||k.title,allow:"accelerometer; autoplay; encrypted-media",allowFullScreen:!0})})]}):null,h.jsx("div",{className:"onboarding-step__actions",children:h.jsx("button",{type:"button",className:"onboarding-step__action",onClick:()=>g(k.id),disabled:P||d===k.id||l,children:d===k.id?i("Enregistrement…"):i('Marquer "{title}" comme terminé',{title:k.title})})})]},k.id)})}),h.jsx("p",{className:"onboarding__footnote text text--muted",children:o.updatedAt?i("Dernière mise à jour : {timestamp}",{timestamp:new Intl.DateTimeFormat(S,{dateStyle:"short",timeStyle:"short"}).format(new Date(o.updatedAt))}):i("Suivez les étapes pour débloquer l'ensemble des fonctionnalités.")})]}):null]})}const ae=e=>typeof e=="string",as=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},e_=e=>e==null?"":""+e,kte=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},$te=/###/g,t_=e=>e&&e.indexOf("###")>-1?e.replace($te,"."):e,n_=e=>!e||ae(e),ks=(e,t,n)=>{const r=ae(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(n_(e))return{};const a=t_(r[i]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++i}return n_(e)?{}:{obj:e,k:t_(r[i])}},r_=(e,t,n)=>{const{obj:r,k:i}=ks(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let a=t[t.length-1],o=t.slice(0,t.length-1),s=ks(e,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=ks(e,o,Object),s!=null&&s.obj&&typeof s.obj[`${s.k}.${a}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=n},Ete=(e,t,n,r)=>{const{obj:i,k:a}=ks(e,t,Object);i[a]=i[a]||[],i[a].push(n)},Bf=(e,t)=>{const{obj:n,k:r}=ks(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Tte=(e,t,n)=>{const r=Bf(e,n);return r!==void 0?r:Bf(t,n)},aE=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?ae(e[r])||e[r]instanceof String||ae(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):aE(e[r],t[r],n):e[r]=t[r]);return e},aa=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Nte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Cte=e=>ae(e)?e.replace(/[&<>"'\/]/g,t=>Nte[t]):e;class Ite{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Mte=[" ",",","?","!",";"],Lte=new Ite(20),Dte=(e,t,n)=>{t=t||"",n=n||"";const r=Mte.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=Lte.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(e);if(!a){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a},oy=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<r.length;++l)if(l!==a&&(s+=n),s+=r[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=o}return i},Tl=e=>e==null?void 0:e.replace("_","-"),Rte={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class Ff{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Rte,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(ae(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Ff(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Ff(this.logger,t)}}var zn=new Ff;class op{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[t,...n])})}}class i_ extends op{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,i={}){var u,f;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,n],r&&(Array.isArray(r)?s.push(...r):ae(r)&&a?s.push(...r.split(a)):s.push(r)));const l=Bf(this.data,s);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=s[0],n=s[1],r=s.slice(2).join(".")),l||!o||!ae(r)?l:oy((f=(u=this.data)==null?void 0:u[t])==null?void 0:f[n],r,a)}addResource(t,n,r,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(s=t.split("."),i=n,n=s[1]),this.addNamespaces(n),r_(this.data,s,i),a.silent||this.emit("added",t,n,r,i)}addResources(t,n,r,i={silent:!1}){for(const a in r)(ae(r[a])||Array.isArray(r[a]))&&this.addResource(t,n,a,r[a],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,a,o={silent:!1,skipCopy:!1}){let s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=Bf(this.data,s)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?aE(l,r,a):l={...l,...r},r_(this.data,s,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var oE={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(a=>{var o;t=((o=this.processors[a])==null?void 0:o.process(t,n,r,i))??t}),t}};const sE=Symbol("i18next/PATH_KEY");function Bte(){const e=[],t=Object.create(null);let n;return t.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===sE?e:(e.push(i),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function sy(e,t){const{[sE]:n}=e(Bte());return n.join((t==null?void 0:t.keySeparator)??".")}const a_={},o_=e=>!ae(e)&&typeof e!="boolean"&&typeof e!="number";class zf extends op{constructor(t,n={}){super(),kte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const i=this.resolve(t,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Dte(t,r,i);if(o&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:ae(a)?[a]:a};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),t=u.join(i)}return{key:t,namespaces:ae(a)?[a]:a}}translate(t,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=sy(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(t[t.length-1],i),u=l[l.length-1];let f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const c=i.lng||this.language,d=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode")return d?a?{res:`${u}${f}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${f}${s}`:a?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:s;const p=this.resolve(t,i);let y=p==null?void 0:p.res;const m=(p==null?void 0:p.usedKey)||s,b=(p==null?void 0:p.exactUsedKey)||s,w=["[object Number]","[object Function]","[object RegExp]"],g=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,_=i.count!==void 0&&!ae(i.count),v=zf.hasDefaultValue(i),S=_?this.pluralResolver.getSuffix(c,i.count,i):"",O=i.ordinal&&_?this.pluralResolver.getSuffix(c,i.count,{ordinal:!1}):"",j=_&&!i.ordinal&&i.count===0,A=j&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${S}`]||i[`defaultValue${O}`]||i.defaultValue;let k=y;x&&!y&&v&&(k=A);const T=o_(k),P=Object.prototype.toString.apply(k);if(x&&k&&T&&w.indexOf(P)<0&&!(ae(g)&&Array.isArray(k))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,k,{...i,ns:l}):`key '${s} (${this.language})' returned an object instead of string.`;return a?(p.res=E,p.usedParams=this.getUsedParamsDetails(i),p):E}if(o){const E=Array.isArray(k),N=E?[]:{},I=E?b:m;for(const M in k)if(Object.prototype.hasOwnProperty.call(k,M)){const L=`${I}${o}${M}`;v&&!y?N[M]=this.translate(L,{...i,defaultValue:o_(A)?A[M]:void 0,joinArrays:!1,ns:l}):N[M]=this.translate(L,{...i,joinArrays:!1,ns:l}),N[M]===L&&(N[M]=k[M])}y=N}}else if(x&&ae(g)&&Array.isArray(y))y=y.join(g),y&&(y=this.extendTranslation(y,t,i,r));else{let E=!1,N=!1;!this.isValidLookup(y)&&v&&(E=!0,y=A),this.isValidLookup(y)||(N=!0,y=s);const M=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:y,L=v&&A!==y&&this.options.updateMissing;if(N||E||L){if(this.logger.log(L?"updateKey":"missingKey",c,u,s,L?A:y),o){const K=this.resolve(s,{...i,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let C=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let K=0;K<D.length;K++)C.push(D[K]);else this.options.saveMissingTo==="all"?C=this.languageUtils.toResolveHierarchy(i.lng||this.language):C.push(i.lng||this.language);const B=(K,z,Y)=>{var ue;const ee=v&&Y!==y?Y:M;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,z,ee,L,i):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(K,u,z,ee,L,i),this.emit("missingKey",K,u,z,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?C.forEach(K=>{const z=this.pluralResolver.getSuffixes(K,i);j&&i[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(Y=>{B([K],s+Y,i[`defaultValue${Y}`]||A)})}):B(C,s,A))}y=this.extendTranslation(y,t,i,p,r),N&&y===s&&this.options.appendNamespaceToMissingKey&&(y=`${u}${f}${s}`),(N||E)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${f}${s}`:s,E?y:void 0,i))}return a?(p.res=y,p.usedParams=this.getUsedParamsDetails(i),p):y}extendTranslation(t,n,r,i,a){var l,u;if((l=this.i18nFormat)!=null&&l.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=ae(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(f){const p=t.match(this.interpolator.nestingRegexp);c=p&&p.length}let d=r.replace&&!ae(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),t=this.interpolator.interpolate(t,d,r.lng||this.language||i.usedLng,r),f){const p=t.match(this.interpolator.nestingRegexp),y=p&&p.length;c<y&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,s=ae(o)?[o]:o;return t!=null&&(s!=null&&s.length)&&r.applyPostProcessor!==!1&&(t=oE.handle(s,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,i,a,o,s;return ae(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),f=u.key;i=f;let c=u.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=n.count!==void 0&&!ae(n.count),p=d&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(ae(n.context)||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);c.forEach(b=>{var w,g;this.isValidLookup(r)||(s=b,!a_[`${m[0]}-${b}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((g=this.utils)!=null&&g.hasLoadedNamespace(s))&&(a_[`${m[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(x=>{var S;if(this.isValidLookup(r))return;o=x;const _=[f];if((S=this.i18nFormat)!=null&&S.addLookupKeys)this.i18nFormat.addLookupKeys(_,f,x,b,n);else{let O;d&&(O=this.pluralResolver.getSuffix(x,n.count,n));const j=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(n.ordinal&&O.indexOf(A)===0&&_.push(f+O.replace(A,this.options.pluralSeparator)),_.push(f+O),p&&_.push(f+j)),y){const k=`${f}${this.options.contextSeparator||"_"}${n.context}`;_.push(k),d&&(n.ordinal&&O.indexOf(A)===0&&_.push(k+O.replace(A,this.options.pluralSeparator)),_.push(k+O),p&&_.push(k+j))}}let v;for(;v=_.pop();)this.isValidLookup(r)||(a=v,r=this.getResource(x,b,v,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!ae(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class s_{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zn.create("languageUtils")}getScriptPartFromCode(t){if(t=Tl(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Tl(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ae(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ae(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ae(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):ae(t)&&a(this.formatLanguageCode(t)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const l_={zero:0,one:1,two:2,few:3,many:4,other:5},u_={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Fte{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=zn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Tl(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),u_;if(!t.match(/-|_/))return u_;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,n)}return this.pluralRulesCache[a]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>l_[i]-l_[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,r={}){const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const c_=(e,t,n,r=".",i=!0)=>{let a=Tte(e,t,n);return!a&&i&&ae(n)&&(a=oy(e,n,r),a===void 0&&(a=oy(t,n,r))),a},xh=e=>e.replace(/\$/g,"$$$$");class zte{constructor(t={}){var n;this.logger=zn.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:m,nestingOptionsSeparator:b,maxReplaces:w,alwaysFormat:g}=t.interpolation;this.escape=n!==void 0?n:Cte,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?aa(a):o||"{{",this.suffix=s?aa(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=d?aa(d):p||aa("$t("),this.nestingSuffix=y?aa(y):m||aa(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=w||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,i){var p;let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=y=>{if(y.indexOf(this.formatSeparator)<0){const g=c_(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,r,{...i,...n,interpolationkey:y}):g}const m=y.split(this.formatSeparator),b=m.shift().trim(),w=m.join(this.formatSeparator).trim();return this.format(c_(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const f=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,c=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>xh(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?xh(this.escape(y)):xh(y)}].forEach(y=>{for(s=0;a=y.regex.exec(t);){const m=a[1].trim();if(o=u(m),o===void 0)if(typeof f=="function"){const w=f(t,a,i);o=ae(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(c){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${t}`),o="";else!ae(o)&&!this.useRawValueToEscape&&(o=e_(o));const b=y.safeValue(o);if(t=t.replace(a[0],b),c?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=a[0].length):y.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,n,r={}){let i,a,o;const s=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const c=l.split(new RegExp(`${f}[ ]*{`));let d=`{${c[1]}`;l=c[0],d=this.interpolate(d,o);const p=d.match(/'/g),y=d.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!y||y.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${f}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&!ae(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(l=i[1].slice(u).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),a=n(s.call(this,i[1].trim(),o),o),a&&i[0]===t&&!ae(a))return a;ae(a)||(a=e_(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),l.length&&(a=l.reduce((f,c)=>this.format(f,c,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}const Ute=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=s.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},f_=e=>{const t={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=r+JSON.stringify(a);let s=t[o];return s||(s=e(Tl(r),i),t[o]=s),s(n)}},Kte=e=>(t,n,r)=>e(Tl(n),r)(t);class Vte{constructor(t={}){this.logger=zn.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?f_:Kte;this.formats={number:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return s=>o.format(s)}),currency:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return s=>o.format(s)}),datetime:r((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return s=>o.format(s)}),relativetime:r((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return s=>o.format(s,a.range||"day")}),list:r((i,a)=>{const o=new Intl.ListFormat(i,{...a});return s=>o.format(s)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=f_(n)}format(t,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{var c;const{formatName:u,formatOptions:f}=Ute(l);if(this.formats[u]){let d=s;try{const p=((c=i==null?void 0:i.formatParams)==null?void 0:c[i.interpolationkey])||{},y=p.locale||p.lng||i.locale||i.lng||r;d=this.formats[u](s,y,{...f,...i,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${u}`);return s},t)}}const qte=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Wte extends op{constructor(t,n,r,i={}){var a,o;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=zn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,r,i.backend,i)}queueLoad(t,n,r,i){const a={},o={},s={},l={};return t.forEach(u=>{let f=!0;n.forEach(c=>{const d=`${u}|${c}`;!r.reload&&this.store.hasResourceBundle(u,c)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,f=!1,o[d]===void 0&&(o[d]=!0),a[d]===void 0&&(a[d]=!0),l[c]===void 0&&(l[c]=!0)))}),f||(s[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),!n&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const s={};this.queue.forEach(l=>{Ete(l.loaded,[a],o),qte(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const f=l.loaded[u];f.length&&f.forEach(c=>{s[u][c]===void 0&&(s[u][c]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,i=0,a=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(u&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,a*2,o)},a);return}o(u,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(f=>s(null,f)).catch(s):s(null,u)}catch(u){s(u)}return}return l(t,n,s)}prepareLoading(t,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ae(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ae(n)&&(n=[n]);const a=this.queueLoad(t,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,s),this.loaded(t,o,s)})}saveMissing(t,n,r,i,a,o={},s=()=>{}){var l,u,f,c,d;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((c=(f=this.services)==null?void 0:f.utils)!=null&&c.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((d=this.backend)!=null&&d.create){const p={...o,isUpdate:a},y=this.backend.create.bind(this.backend);if(y.length<6)try{let m;y.length===5?m=y(t,n,r,i,p):m=y(t,n,r,i),m&&typeof m.then=="function"?m.then(b=>s(null,b)).catch(s):s(null,m)}catch(m){s(m)}else y(t,n,r,i,s,p)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const d_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ae(e[1])&&(t.defaultValue=e[1]),ae(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),p_=e=>{var t,n;return ae(e.ns)&&(e.ns=[e.ns]),ae(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ae(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ku=()=>{},Hte=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Nl extends op{constructor(t={},n){if(super(),this.options=p_(t),this.services={},this.logger=zn,this.modules={external:[]},Hte(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ae(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=d_();this.options={...r,...this.options,...p_(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?zn.init(i(this.modules.logger),this.options):zn.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Vte;const f=new s_(this.options);this.store=new i_(this.options.resources,this.options);const c=this.services;c.logger=zn,c.resourceStore=this.store,c.languageUtils=f,c.pluralResolver=new Fte(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(c.formatter=i(u),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new zte(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new Wte(i(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.languageDetector&&(c.languageDetector=i(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=i(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new zf(this.services,this.options),this.translator.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ku),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...f)=>this.store[u](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...f)=>(this.store[u](...f),this)});const s=as(),l=()=>{const u=(f,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(c),n(f,c)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),s}loadResources(t,n=Ku){var a,o;let r=n;const i=ae(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,u=>l(u)),this.services.backendConnector.load(s,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const i=as();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Ku),this.services.backendConnector.reload(t,n,a=>{i.resolve(),r(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&oE.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=as();this.emit("languageChanging",t);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},a=(s,l)=>{l?this.isLanguageChangingTo===t&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(s,(...u)=>this.t(...u))},o=s=>{var f,c;!t&&!s&&this.services.languageDetector&&(s=[]);const l=ae(s)?s:s&&s[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ae(s)?[s]:s);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(c=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||c.call(f,u)),this.loadResources(u,d=>{a(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const i=(a,o,...s)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([a,o].concat(s)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(a)?f=a.map(c=>(typeof c=="function"&&(c=sy(c,{...this.options,...o})),`${l.keyPrefix}${u}${c}`)):(typeof a=="function"&&(a=sy(a,{...this.options,...o})),f=l.keyPrefix?`${l.keyPrefix}${u}${a}`:a),this.t(f,l)};return ae(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const u=this.services.backendConnector.state[`${s}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const s=n.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!i||o(a,t)))}loadNamespaces(t,n){const r=as();return this.options.ns?(ae(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=as();ae(t)&&(t=[t]);const i=this.options.preload||[],a=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){var i,a;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const s=o.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new s_(d_());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new Nl(t,n)}cloneInstance(t={},n=Ku){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new Nl(i);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const s=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((f,c)=>(f[c]={...l[u][c]},f),l[u]),l),{});a.store=new i_(s,i),a.services.resourceStore=a.store}return a.translator=new zf(a.services,i),a.translator.on("*",(s,...l)=>{a.emit(s,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const at=Nl.createInstance();at.createInstance=Nl.createInstance;at.createInstance;at.dir;at.init;at.loadResources;at.reloadResources;at.use;at.changeLanguage;at.getFixedT;at.t;at.exists;at.setDefaultNamespace;at.hasLoadedNamespace;at.loadNamespaces;at.loadLanguages;function Gte(){const e=document.getElementById("i18n-bootstrap");if(!e||!e.textContent)return{language:"fr",resources:{},languages:["fr","en"]};try{const t=JSON.parse(e.textContent);return!t||typeof t!="object"?{language:"fr",resources:{},languages:["fr","en"]}:{language:t.language||"fr",resources:t.translations||{},languages:Array.isArray(t.languages)&&t.languages.length?t.languages:["fr","en"]}}catch{return{language:"fr",resources:{},languages:["fr","en"]}}}const $b=Gte(),Yte=Object.fromEntries(Object.entries($b.resources).map(([e,t])=>[e,{translation:t}]));at.isInitialized||at.use(GJ).init({resources:Yte,lng:$b.language,fallbackLng:"fr",interpolation:{escapeValue:!1}});$b.languages;function Xte(){const e=document.getElementById("dashboard-bootstrap");if(!e||!e.textContent)return{};try{return JSON.parse(e.textContent)}catch(t){return console.error("Impossible de parser la configuration du tableau de bord",t),{}}}function Qte({endpoint:e,currency:t}){const{t:n}=Co(),[r,i]=$.useState({status:"loading",items:[],currency:t});return $.useEffect(()=>{let a=!1;async function o(){i(s=>({...s,status:"loading"}));try{const s=await fetch(e,{headers:{Accept:"application/json"}});if(!s.ok)throw new Error(`HTTP ${s.status}`);const l=await s.json();if(a)return;const u=Array.isArray(l.items)?l.items:[];i({status:"ready",items:u,currency:l.currency||t})}catch(s){a||(console.error("Impossible de récupérer l'historique des portefeuilles",s),i(l=>({...l,status:"error",error:s})))}}return o(),()=>{a=!0}},[e,t]),r.status==="loading"?h.jsx("div",{className:"chart-container__status",role:"status",children:n("Chargement des données historiques…")}):r.status==="error"?h.jsx("div",{className:"chart-container__status",role:"alert",children:n("Impossible de charger l'historique pour le moment.")}):h.jsx(PJ,{history:r.items,currency:r.currency||t})}const Vu=Xte();function Or(e,t){e.render(h.jsx($.StrictMode,{children:h.jsx(JJ,{i18n:at,children:t})}))}const qu=document.getElementById("reports-center");if(qu){let e=[];const t=qu.dataset.reports||"[]";try{e=JSON.parse(t)}catch(i){console.error("Impossible de parser la liste des rapports",i)}const n=Number.parseInt(qu.dataset.pageSize||"5",10),r=Xn(qu);Or(r,h.jsx(oZ,{reports:e,pageSize:Number.isNaN(n)?5:n}))}const Wu=document.getElementById("portfolio-chart");if(Wu){const e=Wu.dataset.endpoint||"/portfolios/history",t=Wu.dataset.currency||"$",n=Xn(Wu);Or(n,h.jsx(Qte,{endpoint:e,currency:t}))}const Sh=document.getElementById("alerts-manager");if(Sh){const e=Sh.dataset||{},t=e.endpoint||"/alerts",n=e.authToken||"",r=(Vu&&Vu.context&&Array.isArray(Vu.context.alerts)?Vu.context.alerts:[])||[],i=Xn(Sh);Or(i,h.jsx(LJ,{initialAlerts:r,endpoint:t,authToken:n}))}const _h=document.getElementById("alerts-history");if(_h){const t=(_h.dataset||{}).endpoint||"/alerts/history",n=Xn(_h);Or(n,h.jsx(eZ,{endpoint:t}))}const Oh=document.getElementById("strategy-designer-root");if(Oh){const e=Oh.dataset||{},t=e.saveEndpoint||"/strategies/save",n=e.defaultName||"Nouvelle stratégie";let i=e.defaultFormat||"yaml";i!=="python"&&(i="yaml");let a=Ab;if(e.presets)try{const l=JSON.parse(e.presets);Array.isArray(l)&&l.length&&(a=l)}catch(l){console.error("Impossible de parser les modèles de stratégies",l)}let o=null;if(e.initialStrategy)try{const l=JSON.parse(e.initialStrategy);l&&typeof l=="object"&&(o=l)}catch(l){console.error("Impossible de parser la stratégie initiale",l)}const s=Xn(Oh);Or(s,h.jsx(pte,{saveEndpoint:t,defaultName:n,defaultFormat:i,presets:a,initialStrategy:o}))}const jh=document.getElementById("marketplace-root");if(jh){const e=jh.dataset||{},t=Xn(jh);Or(t,h.jsx(_te,{listingsEndpoint:e.endpoint||"/marketplace/listings",reviewsEndpointTemplate:e.reviewsEndpointTemplate||"/marketplace/listings/__id__/reviews"}))}const Ah=document.getElementById("ai-strategy-assistant-root");if(Ah){const e=Ah.dataset||{},t=e.generateEndpoint||"/strategies/generate",n=e.importEndpoint||"/strategies/import",r=Xn(Ah);Or(r,h.jsx(a$,{generateEndpoint:t,importEndpoint:n}))}const Ph=document.getElementById("strategy-backtest-root");if(Ph){const e=Ph.dataset||{},t=Number.parseInt(e.historyPageSize||"5",10),n=Xn(Ph);Or(n,h.jsx(vte,{strategiesEndpoint:e.strategiesEndpoint||"/api/strategies",runEndpointTemplate:e.runEndpointTemplate||"/api/strategies/__id__/backtest",uiEndpointTemplate:e.uiEndpointTemplate||"/api/strategies/__id__/backtest/ui",historyEndpointTemplate:e.historyEndpointTemplate||"/api/strategies/__id__/backtests",defaultStrategyId:e.defaultStrategyId||"",defaultSymbol:e.defaultSymbol||"BTCUSDT",historyPageSize:Number.isNaN(t)?5:t,tradingViewConfigEndpoint:e.tradingviewConfigEndpoint||"/config/tradingview",tradingViewUpdateEndpoint:e.tradingviewUpdateEndpoint||"/config/tradingview"}))}const kh=document.getElementById("onboarding-root");if(kh){const e=kh.dataset||{},t=Xn(kh);Or(t,h.jsx(Pte,{progressEndpoint:e.progressEndpoint||"",stepTemplate:e.stepTemplate||"",resetEndpoint:e.resetEndpoint||"",userId:e.userId||""}))}function Jte(){const e=document.querySelector("[data-language-selector]");e&&e.addEventListener("change",t=>{const{value:n}=t.target;if(!n)return;at.changeLanguage(n),document.documentElement.setAttribute("lang",n);const r=`dashboard_lang=${n};path=/;max-age=${60*60*24*365}`;document.cookie=r;const i=new URL(window.location.href);i.searchParams.set("lang",n),window.location.assign(i.toString())})}Jte();
          side: all
metadata:
  preset: mean_reversion
`},{id:"range_scalp",label:"Scalping de range",description:"Combine un signal RSI court terme et un volume faible pour capter les oscillations rapides.",format:"yaml",content:`name: Scalp Range
rules:
  - when:
      any:
        - field: RSI(close, 7)
          operator: lt
          value: 30
        - field: RSI(close, 7)
          operator: gt
          value: 70
    signal:
      action: buy
      size: 1
      steps:
        - type: order
          action: buy
          size: 1
        - type: alert
          channel: discord
          message: "Scalp déclenché"
metadata:
  preset: range_scalp
`}];function NZ(e){return Kv.find(t=>t.id===e)||null}const Ki=new Set(Object.keys(ft).filter(e=>e.startsWith("indicator"))),mS={gt:">",gte:"≥",lt:"<",lte:"≤",eq:"=",neq:"≠"};function da(e){if(e==null||e==="")return null;const t=Number(e);return Number.isNaN(t)?null:t}function Hv(e,t,n,r){const i=(t==null?void 0:t.validation)||{},a=(e==null?void 0:e.config)||{},o=Array.isArray(e==null?void 0:e.children)?e.children:[],s=Array.isArray(i.required)?i.required:[];for(const l of s){const u=typeof l=="string"?l:l.field,f=typeof l=="string"?l:l.label||l.field||l.toString(),c=a[u];(c==null||typeof c=="string"&&c.trim()==="")&&r.push(`${n} — ${t.label}: le champ « ${f} » est requis.`)}return typeof i.minChildren=="number"&&o.length<i.minChildren&&r.push(`${n} — ${t.label}: au moins ${i.minChildren} bloc(s) enfant sont requis.`),typeof i.maxChildren=="number"&&o.length>i.maxChildren&&r.push(`${n} — ${t.label}: maximum ${i.maxChildren} bloc(s) enfant autorisés.`),Array.isArray(t.accepts)&&(t.accepts.length===0&&o.length?r.push(`${n} — ${t.label}: n'accepte pas de bloc enfant.`):t.accepts.length>0&&o.forEach((l,u)=>{var f;if(!t.accepts.includes(l.type)){const c=((f=ft[l.type])==null?void 0:f.label)||l.type;r.push(`${n} — ${t.label}: le bloc enfant #${u+1} (${c}) est incompatible.`)}})),o}function Su(e,t,n){const r=ft[e.type];if(!r)return n.push(`${t}: type d'indicateur inconnu (${e.type}).`),null;Hv(e,r,t,n);const i=e.config||{};switch(e.type){case"indicator":{const a=(i.kind||"sma").toUpperCase(),o=i.source||"source",s=i.period||"?";return`${a}(${o}, ${s})`}case"indicator_macd":return`MACD(${i.source||"source"}, ${i.fastPeriod||"?"}, ${i.slowPeriod||"?"}, ${i.signalPeriod||"?"})`;case"indicator_bollinger":return`BOLL(${i.source||"source"}, ${i.period||"?"}, ${i.deviation||"?"})`;case"indicator_atr":return`ATR(${i.source||"hlc3"}, ${i.period||"?"}, ${i.smoothing||"?"})`;default:return n.push(`${t}: type d'indicateur non géré (${e.type}).`),null}}function Ku(e,t,n){var o,s;const r=ft[e.type];if(!r)return n.push(`${t}: type de condition inconnu (${e.type}).`),null;const i=Hv(e,r,t,n),a=e.config||{};switch(e.type){case"condition":{let l=a.field||"champ";const u=i.find(d=>Ki.has(d.type));if(u){const d=Su(u,`${t} > ${((o=ft[u.type])==null?void 0:o.label)||u.type}`,n);d&&(l=d)}const f=mS[a.operator]||a.operator||"?",c=a.value??"?";return`${l} ${f} ${c}`}case"market_cross":{const l=da(a.lookback);(l===null||l<=0)&&n.push(`${t} — ${r.label}: la fenêtre d'observation doit être un entier positif.`);const[u,f]=i;u&&!Ki.has(u.type)&&n.push(`${t} — ${r.label}: seuls des indicateurs peuvent être utilisés.`),f&&!Ki.has(f.type)&&n.push(`${t} — ${r.label}: seuls des indicateurs peuvent être utilisés.`);const c=u&&Ki.has(u.type)?Su(u,`${t} > Indicateur #1`,n):null,d=f&&Ki.has(f.type)?Su(f,`${t} > Indicateur #2`,n):null;if(!c||!d)return null;const p=a.direction==="below"?"croise sous":"croise au-dessus",y=a.lookback?` (fenêtre ${a.lookback})`:"";return`${c} ${p} ${d}${y}`}case"market_volume":{const l=da(a.value);(l===null||l<0)&&n.push(`${t} — ${r.label}: le seuil de volume doit être un nombre positif.`);const u=mS[a.operator]||a.operator||"?",f=a.timeframe?` (${a.timeframe})`:"";return`Volume ${u} ${a.value??"?"}${f}`}case"logic":{const l=a.mode==="any"?" OU ":" ET ",u=i.map((f,c)=>Ku(f,`${t} > Bloc ${c+1}`,n)).filter(Boolean);return u.length?u.map(f=>`(${f})`).join(l):null}case"negation":{const[l]=i;if(!l)return null;const u=Ku(l,`${t} > ${((s=ft[l.type])==null?void 0:s.label)||l.type}`,n);return u?`NON (${u})`:null}case"group":{const l=i.map((u,f)=>Ku(u,`${t} > Bloc ${f+1}`,n)).filter(Boolean);return l.length?`(${l.join(" ET ")})`:null}default:return Ki.has(e.type)?Su(e,t,n):(n.push(`${t}: type de condition non géré (${e.type}).`),null)}}function MZ(e,t,n,r){const i=ft[e.type];if(!i)return n.push(`${t}: type d'action inconnu (${e.type}).`),null;Hv(e,i,t,n).length&&r.push(`${t} — ${i.label}: les blocs enfants seront ignorés lors de l'exécution.`);const o=e.config||{};switch(e.type){case"action":return`${(o.action||"").toUpperCase()||"ACTION"} x${o.size||"?"}`;case"take_profit":{const s=da(o.value);if((s===null||s<=0)&&n.push(`${t} — ${i.label}: renseignez une valeur numérique strictement positive.`),o.size==="custom"){const f=da(o.customSize);(f===null||f<=0)&&n.push(`${t} — ${i.label}: la taille personnalisée doit être un nombre positif.`)}const l=o.mode==="price"?" (prix)":"%";let u="";return o.size==="half"?u=" (50 %)":o.size==="custom"?u=` (${o.customSize||"?"})`:u=" (100 %)",`Take-profit ${o.value||"?"}${l}${u}`}case"stop_loss":{const s=da(o.value);(s===null||s<=0)&&n.push(`${t} — ${i.label}: renseignez une valeur numérique strictement positive.`);const l=o.mode==="price"?" (prix)":"%",u=o.trailing?" (trailing)":"";return`Stop-loss ${o.value||"?"}${l}${u}`}case"close_position":return{all:"Fermer toutes les positions",long:"Fermer les positions longues",short:"Fermer les positions courtes"}[o.side]||`Fermer (${o.side||"?"})`;case"alert":return`Alerte ${o.channel||"?"}: ${o.message||"?"}`;case"delay":{const s=da(o.seconds);return(s===null||s<0)&&n.push(`${t} — ${i.label}: le délai doit être un nombre positif.`),`Attendre ${o.seconds||"?"}s`}default:return n.push(`${t}: type d'action non géré (${e.type}).`),null}}function IZ(e,t){const n=[],r=[],i=[];!e||!e.length?n.push("Ajoutez au moins une condition."):e.forEach((u,f)=>{const c=Ku(u,`Condition #${f+1}`,n);c&&i.push(c)});const a=[];!t||!t.length?n.push("Ajoutez au moins une action."):t.forEach((u,f)=>{const c=MZ(u,`Action #${f+1}`,n,r);c&&a.push(c)});const o=i.length===0?null:i.length===1?i[0]:i.map(u=>`(${u})`).join(" ET "),s=a.length===0?null:a.join(" puis "),l=o&&s?`${o} ⇒ ${s}`:null;return{errors:n,warnings:r,conditionExpression:o,actionSummary:s,rule:l,isValid:n.length===0}}function DZ(e,t){const n=ft[e];return{id:`node-${t.current++}`,type:e,label:n?n.label:e,config:_d(e),children:[]}}function Vv(e){return{type:e.type,config:e.config,children:Array.isArray(e.children)?e.children.map(t=>Vv(t)):[]}}function Oy(e,t){const n=ft[e.type];return{id:`node-${t.current++}`,type:e.type,label:n?n.label:e.type,config:e.config?{...e.config}:_d(e.type),children:Array.isArray(e.children)?e.children.map(r=>Oy(r,t)):[]}}function Oa(e,t){for(const n of e){if(n.id===t)return n;const r=Oa(n.children||[],t);if(r)return r}return null}function Ay(e,t,n){if(!t)return[...e,n];let r=!1;const i=e.map(a=>{if(a.id===t){r=!0;const o=Array.isArray(a.children)?[...a.children,n]:[n];return{...a,children:o}}if(a.children&&a.children.length){const o=Ay(a.children,t,n);if(o!==a.children)return r=!0,{...a,children:o}}return a});return r?i:e}function ej(e,t,n){let r=!1;const i=e.map(a=>{if(a.id===t)return r=!0,n(a);if(a.children&&a.children.length){const o=ej(a.children,t,n);if(o!==a.children)return r=!0,{...a,children:o}}return a});return r?i:e}function tj(e,t){let n=!1;const r=[];for(const i of e){if(i.id===t){n=!0;continue}let a=i;if(i.children&&i.children.length){const o=tj(i.children,t);o!==i.children&&(a={...i,children:o},n=!0)}r.push(a)}return n?r:e}function nj(e,t,n){const r=e.findIndex(o=>o.id===t);if(r!==-1){const o=e.slice();return o.splice(r+1,0,n),o}let i=!1;const a=e.map(o=>{if(o.children&&o.children.length){const s=nj(o.children,t,n);if(s!==o.children)return i=!0,{...o,children:s}}return o});return i?a:e}function Py(e,t=0,n=1,r={}){let i=n;return e.forEach(a=>{r[a.id]={row:i,column:t},i+=1,a.children&&a.children.length&&(i=Py(a.children,t+1,i,r).nextRow)}),{map:r,nextRow:i}}function _u(e,t){if(!t)return null;const n=e[t.section];return n?t.nodeId?Oa(n,t.nodeId)?t:null:t:null}function LZ(e,t){const n=JSON.stringify(e.present),r=JSON.stringify(t);return n===r?e:{past:[...e.past,e.present],present:t,future:[]}}function RZ(e){if(!e.past.length)return e;const t=e.past[e.past.length-1];return{past:e.past.slice(0,-1),present:t,future:[e.present,...e.future]}}function BZ(e){if(!e.future.length)return e;const[t,...n]=e.future;return{past:[...e.past,e.present],present:t,future:n}}const FZ={past:[],present:{conditions:[],actions:[]},future:[]};function zZ(e,t){var n;switch(t.type){case"APPLY":{const r=t.updater(e.history.present),i=LZ(e.history,r);return i===e.history?e:{...e,history:i,selection:_u(i.present,e.selection)}}case"SET_PRESENT":{const r={past:t.resetHistory?[]:e.history.past,present:t.present,future:[]};return{...e,history:r,selection:_u(t.present,e.selection)}}case"UNDO":{const r=RZ(e.history);return r===e.history?e:{...e,history:r,selection:_u(r.present,e.selection)}}case"REDO":{const r=BZ(e.history);return r===e.history?e:{...e,history:r,selection:_u(r.present,e.selection)}}case"SELECT":return{...e,selection:t.selection};case"CLEAR_SELECTION":return{...e,selection:null};case"COPY":{if(!((n=e.selection)!=null&&n.nodeId))return e;const r=e.history.present[e.selection.section],i=Oa(r,e.selection.nodeId);return i?{...e,clipboard:JSON.stringify(Vv(i))}:e}case"CLEAR_CLIPBOARD":return{...e,clipboard:null};case"SET_CLIPBOARD":return{...e,clipboard:t.clipboard};default:return e}}function UZ({presets:e,onApply:t}){return!Array.isArray(e)||e.length===0?null:w.jsxs("section",{className:"designer-panel designer-panel--presets","aria-labelledby":"presets-title",children:[w.jsxs("div",{className:"designer-panel__header",children:[w.jsx("h2",{id:"presets-title",className:"heading heading--md",children:"Modèles rapides"}),w.jsx("p",{className:"text text--muted",children:"Chargez une base préconfigurée puis personnalisez-la dans la composition."})]}),w.jsx("div",{className:"designer-panel__body",role:"list","aria-label":"Modèles de stratégies",children:e.map(n=>w.jsxs("article",{className:"palette-item palette-item--preset",role:"listitem",children:[w.jsxs("header",{className:"palette-item__header",children:[w.jsx("div",{children:w.jsx("span",{className:"palette-item__title heading heading--sm",children:n.label})}),w.jsx("button",{type:"button",className:"button button--ghost",onClick:()=>t==null?void 0:t(n.id),"data-testid":`preset-apply-${n.id}`,children:"Charger"})]}),w.jsx("p",{className:"palette-item__description text",children:n.description})]},n.id))})]})}function WZ({saveEndpoint:e="/strategies/save",defaultName:t="Nouvelle stratégie",defaultFormat:n="yaml",presets:r=Kv}){const i=k.useRef(1),[a,o]=k.useState(t),[s,l]=k.useState(n==="python"?"python":"yaml"),[u,f]=k.useState({type:"idle",message:null}),[c,d]=k.useState(null),[p,y]=k.useReducer(zZ,{history:FZ,selection:null,clipboard:null}),{conditions:h,actions:g}=p.history.present,{selection:m,clipboard:b}=p,v=k.useMemo(()=>CZ(a,h,g),[a,h,g]),_=k.useMemo(()=>IZ(h,g),[h,g]),x=k.useMemo(()=>Array.isArray(r)?r:[],[r]),S=k.useRef(null),O=()=>`node-${i.current++}`,A=k.useCallback(F=>{y({type:"APPLY",updater:V=>{const Z=F(V);if(!Z)return V;const ne=Array.isArray(Z.conditions)?Z.conditions:V.conditions,ce=Array.isArray(Z.actions)?Z.actions:V.actions;return ne===V.conditions&&ce===V.actions?V:{conditions:ne,actions:ce}}})},[y]),P=k.useCallback((F,{resetHistory:V=!1}={})=>{y({type:"SET_PRESENT",present:F,resetHistory:V})},[y]),$=k.useCallback(()=>{y({type:"CLEAR_SELECTION"}),y({type:"CLEAR_CLIPBOARD"})},[y]),E=k.useCallback((F,V,Z="")=>{var $e;if(!F||Array.isArray(F.errors)&&F.errors.length>0){const Le=($e=F==null?void 0:F.errors)!=null&&$e.length?F.errors.join(" "):"Impossible d'importer la stratégie fournie.";return f({type:"error",message:Le}),!1}const ce={conditions:Array.isArray(F.conditions)?F.conditions:[],actions:Array.isArray(F.actions)?F.actions:[]};P(ce,{resetHistory:!0}),l(F.format==="python"?"python":"yaml");const ye=(F.name||"").trim()||(Z||"").trim();return ye&&o(ye),d(null),f({type:"success",message:V}),$(),!0},[$,P]),j=k.useCallback(F=>{const V=x.find(ne=>ne.id===F)||NZ(F);if(!V){f({type:"error",message:"Modèle introuvable."});return}const Z=hS({code:V.content,format:V.format,createId:O});E(Z,`Modèle « ${V.label} » chargé.`,V.label)},[E,x]),N=()=>{var F;(F=S.current)==null||F.click()},D=async F=>{var ye;const{files:V}=F.target,Z=V&&V[0];if(!Z)return;const ne=(ye=Z.name.split(".").pop())==null?void 0:ye.toLowerCase();let ce="yaml";ne==="py"||Z.type.includes("python")?ce="python":(ne==="yaml"||ne==="yml")&&(ce="yaml");try{const $e=await Z.text(),Le=hS({code:$e,format:ce,createId:O}),Xe=Z.name.replace(/\.[^.]+$/,"").trim();E(Le,`Fichier « ${Z.name} » importé.`,Xe)}catch{f({type:"error",message:"Impossible de lire le fichier sélectionné."})}finally{F.target&&(F.target.value="")}},M=k.useCallback(F=>{y(F?{type:"SELECT",selection:F}:{type:"CLEAR_SELECTION"})},[y]),I=k.useCallback(({section:F,targetId:V,type:Z})=>{var Le,Xe;const ne=ft[Z];if(!ne){f({type:"error",message:"Type de bloc inconnu."});return}if(F==="conditions"&&ne.category!=="conditions"){f({type:"error",message:"Ce bloc ne peut pas être utilisé dans les conditions."});return}if(F==="actions"&&ne.category!=="actions"){f({type:"error",message:"Ce bloc ne peut pas être utilisé dans les actions."});return}const ye=V?Oa(F==="conditions"?h:g,V):null;if(V&&(!ye||!((Xe=(Le=ft[ye.type])==null?void 0:Le.accepts)!=null&&Xe.includes(Z)))){f({type:"error",message:"La cible ne peut pas contenir ce type de bloc."});return}const $e=DZ(Z,i);A(Et=>({...Et,[F]:Ay(Et[F],V,$e)})),M({section:F,nodeId:$e.id}),f({type:"idle",message:null})},[g,A,h,M]),B=({section:F,type:V})=>{I({section:F,targetId:null,type:V})},C=k.useCallback(({section:F,nodeId:V,config:Z})=>{A(ne=>({...ne,[F]:ej(ne[F],V,ce=>({...ce,config:Z}))})),f({type:"idle",message:null})},[A]),L=k.useCallback(({section:F,nodeId:V})=>{A(Z=>({...Z,[F]:tj(Z[F],V)})),f({type:"idle",message:null})},[A]),U=k.useCallback(F=>{F&&M(F);const V=F||m;V!=null&&V.nodeId&&(y({type:"COPY"}),f({type:"idle",message:null}))},[y,M,m]),H=k.useCallback(()=>{if(!b)return null;try{return JSON.parse(b)}catch{return null}},[b]),W=k.useCallback(({section:F,nodeId:V}={})=>{const Z=H();if(!Z){f({type:"error",message:"Presse-papiers vide ou invalide."});return}const ne=F?{section:F,nodeId:V}:m||{section:"conditions",nodeId:null},ce=ne.section||"conditions",ye=ft[Z.type];if(!ye){f({type:"error",message:"Bloc inconnu dans le presse-papiers."});return}if(ce==="conditions"&&ye.category!=="conditions"){f({type:"error",message:"Ce bloc ne peut pas être collé dans les conditions."});return}if(ce==="actions"&&ye.category!=="actions"){f({type:"error",message:"Ce bloc ne peut pas être collé dans les actions."});return}let $e=null,Le=!1;const Xe=()=>($e||($e=Oy(Z,i)),$e);A(Et=>{var Gv;const Wn=Et[ce]||[];if(ne.nodeId){const Dl=Oa(Wn,ne.nodeId),rj=((Gv=ft[Dl==null?void 0:Dl.type])==null?void 0:Gv.accepts)||[];if(Dl&&rj.includes(Z.type)){Le=!0;const ij=Xe();return{...Et,[ce]:Ay(Wn,ne.nodeId,ij)}}}Le=!0;const Il=Xe();return{...Et,[ce]:[...Wn,Il]}}),$e&&Le?(M({section:ce,nodeId:$e.id}),f({type:"idle",message:null})):Le||f({type:"error",message:"Impossible de coller le bloc ici."})},[A,M,H,m]),J=k.useCallback(({section:F,nodeId:V})=>{const ne=Oa(F==="actions"?g:h,V);if(!ne)return;const ce=Vv(ne);let ye=null,$e=!1;A(Le=>{const Xe=Le[F]||[],Et=Oy(ce,i);ye=Et;const Wn=nj(Xe,V,Et);return Wn!==Xe?($e=!0,{...Le,[F]:Wn}):($e=!0,{...Le,[F]:[...Xe,Et]})}),ye&&$e&&(M({section:F,nodeId:ye.id}),y({type:"SET_CLIPBOARD",clipboard:JSON.stringify(ce)}),f({type:"idle",message:null}))},[g,A,h,y,M]),ae=k.useCallback(F=>{M({section:F,nodeId:null})},[M]),xe=k.useCallback(()=>{y({type:"CLEAR_SELECTION"})},[y]),Y=p.history.past.length>0,he=p.history.future.length>0,me=!!b,K=k.useCallback(()=>{Y&&y({type:"UNDO"})},[Y,y]),ee=k.useCallback(()=>{he&&y({type:"REDO"})},[he,y]);k.useEffect(()=>{const F=V=>{if(!(V.metaKey||V.ctrlKey))return;const ne=V.key.toLowerCase();if(ne==="z"){V.preventDefault(),V.shiftKey?ee():K();return}if(ne==="y"){V.preventDefault(),ee();return}if(ne==="c"){m!=null&&m.nodeId&&(V.preventDefault(),U());return}if(ne==="v"){me&&(V.preventDefault(),W());return}ne==="d"&&m!=null&&m.nodeId&&(V.preventDefault(),J(m))};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[U,J,W,ee,K,me,m]);const re=k.useMemo(()=>{const F=Py(h);return Py(g,0,F.nextRow,F.map).map},[g,h]),z=_.errors.length?"error":_.warnings.length?"warning":"success",_e=async F=>{if(F.preventDefault(),!_.isValid){f({type:"error",message:"Corrigez la configuration avant d'enregistrer."});return}f({type:"saving",message:"Enregistrement en cours…"}),d(null);const V={name:a.trim(),format:s,code:s==="python"?v.python:v.yaml};try{const Z=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!Z.ok){let ce=`Échec de l'enregistrement (HTTP ${Z.status}).`;try{const ye=await Z.json();ye&&ye.detail&&(ce=Array.isArray(ye.detail)?ye.detail.map($e=>$e.msg||$e.detail).join("; "):typeof ye.detail=="string"?ye.detail:JSON.stringify(ye.detail))}catch{}f({type:"error",message:ce});return}let ne=null;try{ne=await Z.json()}catch{ne=null}d(ne),f({type:"success",message:"Stratégie enregistrée avec succès."})}catch{f({type:"error",message:"Impossible de contacter le service de sauvegarde des stratégies."})}};return w.jsxs("form",{className:"strategy-designer",onSubmit:_e,"aria-labelledby":"designer-title",children:[w.jsxs("header",{className:"strategy-designer__header",children:[w.jsxs("div",{children:[w.jsx("h1",{id:"designer-title",className:"heading heading--lg",children:"Éditeur de stratégies"}),w.jsx("p",{className:"text text--muted",children:"Composez vos règles en glissant-déposant des blocs puis exportez-les vers l'algo-engine."})]}),w.jsxs("div",{className:"strategy-designer__actions",children:[w.jsxs("label",{className:"designer-field strategy-designer__name-field",children:[w.jsx("span",{className:"designer-field__label text text--muted",children:"Nom de la stratégie"}),w.jsx("input",{type:"text",value:a,onChange:F=>o(F.target.value),required:!0})]}),w.jsxs("label",{className:"designer-field strategy-designer__format-field",children:[w.jsx("span",{className:"designer-field__label text text--muted",children:"Format d'export"}),w.jsxs("select",{value:s,onChange:F=>l(F.target.value),children:[w.jsx("option",{value:"yaml",children:"YAML"}),w.jsx("option",{value:"python",children:"Python"})]})]}),w.jsx("button",{type:"button",className:"button button--ghost",onClick:N,"data-testid":"designer-import-button",children:"Importer un fichier"}),w.jsx("input",{ref:S,type:"file",accept:".yaml,.yml,.py,.json,.txt",style:{display:"none"},onChange:D,"data-testid":"designer-file-input"}),w.jsx("button",{type:"button",className:"button button--ghost",onClick:K,disabled:!Y,"data-testid":"designer-undo-button",children:"Annuler"}),w.jsx("button",{type:"button",className:"button button--ghost",onClick:ee,disabled:!he,"data-testid":"designer-redo-button",children:"Rétablir"}),w.jsx("button",{type:"button",className:"button button--ghost",onClick:()=>W(),disabled:!me,"data-testid":"designer-paste-button",children:"Coller"}),w.jsx("button",{type:"submit",className:"button button--primary",children:"Enregistrer la stratégie"})]})]}),u.message?w.jsx("div",{className:`designer-status designer-status--${u.type}`,role:u.type==="error"?"alert":"status","aria-live":"polite",children:u.message}):null,w.jsxs("div",{className:"strategy-designer__layout",children:[w.jsxs("div",{className:"designer-sidebar",children:[w.jsx(UZ,{presets:x,onApply:j}),w.jsx(zQ,{onAdd:B})]}),w.jsx(aJ,{conditions:h,actions:g,layout:re,selection:m,clipboardAvailable:me,onDrop:I,onConfigChange:C,onRemove:L,onSelect:M,onSectionFocus:ae,onCopy:U,onPaste:W,onDuplicate:J,onClearSelection:xe}),w.jsxs("section",{className:"designer-panel designer-panel--validation","aria-labelledby":"validation-title",children:[w.jsxs("div",{className:"designer-panel__header",children:[w.jsx("h2",{id:"validation-title",className:"heading heading--md",children:"Validation temps réel"}),w.jsx("p",{className:"text text--muted",children:"Contrôlez la cohérence de la règle lors de la composition."})]}),w.jsx("div",{className:"designer-panel__body",children:w.jsx("div",{className:`designer-validation designer-validation--${z}`,"data-testid":"designer-validation",role:"region","aria-live":"polite",children:_.errors.length?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"heading heading--sm",children:"Erreurs de configuration"}),w.jsx("ul",{children:_.errors.map((F,V)=>w.jsx("li",{children:F},V))}),_.warnings.length?w.jsxs(w.Fragment,{children:[w.jsx("h4",{className:"heading heading--xs",children:"Avertissements"}),w.jsx("ul",{children:_.warnings.map((F,V)=>w.jsx("li",{children:F},`warning-${V}`))})]}):null]}):w.jsxs(w.Fragment,{children:[w.jsx("p",{className:"text",children:"Règle valide : vous pouvez sauvegarder ou exporter la stratégie."}),_.rule?w.jsx("p",{className:"text text--muted designer-validation__rule",children:_.rule}):null,_.warnings.length?w.jsxs(w.Fragment,{children:[w.jsx("h4",{className:"heading heading--xs",children:"Avertissements"}),w.jsx("ul",{children:_.warnings.map((F,V)=>w.jsx("li",{children:F},`warning-${V}`))})]}):null]})})})]}),w.jsxs("section",{className:"designer-panel designer-panel--preview","aria-labelledby":"preview-title",children:[w.jsxs("div",{className:"designer-panel__header",children:[w.jsx("h2",{id:"preview-title",className:"heading heading--md",children:"Aperçu du code"}),w.jsx("p",{className:"text text--muted",children:"Utilisez les onglets YAML / Python pour vérifier le rendu avant sauvegarde."})]}),w.jsxs("div",{className:"designer-panel__body",children:[w.jsx("textarea",{className:"designer-preview",readOnly:!0,value:s==="python"?v.python:v.yaml,"data-testid":"strategy-preview","aria-label":`Aperçu ${s}`}),c?w.jsxs("details",{className:"designer-response",children:[w.jsx("summary",{children:"Réponse du moteur"}),w.jsx("pre",{children:JSON.stringify(c,null,2)})]}):null]})]})]})]})}const qZ=[{value:"15m",label:"15 minutes"},{value:"1h",label:"1 heure"},{value:"4h",label:"4 heures"},{value:"1d",label:"1 jour"}];function Hp(e){if(!e||typeof e!="object")return null;const t=Array.isArray(e.equity_curve)?e.equity_curve:[],n=typeof e.pnl=="number"?e.pnl:typeof e.profit_loss=="number"?e.profit_loss:0,r=typeof e.drawdown=="number"?e.drawdown:typeof e.max_drawdown=="number"?e.max_drawdown:0,i=typeof e.total_return=="number"?e.total_return:0,a=typeof e.initial_balance=="number"?e.initial_balance:0;return{...e,equity_curve:t,pnl:n,drawdown:r,total_return:i,initial_balance:a}}function Ou(e,t="USD"){try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:t,maximumFractionDigits:2}).format(e||0)}catch{return`${(e||0).toFixed(2)} ${t}`}}function Vp(e){return`${(typeof e=="number"?e*100:0).toFixed(2)} %`}function Gp(e,t){return!e||!t?"":e.replace("__id__",encodeURIComponent(t))}function KZ({strategiesEndpoint:e,runEndpointTemplate:t,uiEndpointTemplate:n,historyEndpointTemplate:r,defaultStrategyId:i="",defaultSymbol:a="BTCUSDT",historyPageSize:o=5}){const[s,l]=k.useState([]),[u,f]=k.useState("idle"),[c,d]=k.useState(i),[p,y]=k.useState(a),[h,g]=k.useState("1h"),[m,b]=k.useState(30),[v,_]=k.useState(1e4),[x,S]=k.useState(null),[O,A]=k.useState({items:[],total:0,page:1}),[P,$]=k.useState("idle"),[E,j]=k.useState("idle"),[N,D]=k.useState(""),[M,I]=k.useState(null),B=k.useCallback(async()=>{if(!e){l([]),f("ready");return}f("loading");try{const Y=await fetch(e,{headers:{Accept:"application/json"}});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const he=await Y.json(),me=Array.isArray(he.items)?he.items.filter(K=>K&&K.id):[];l(me),f("ready"),d(K=>{var ee;return K||(((ee=me[0])==null?void 0:ee.id)??"")})}catch(Y){console.error("Impossible de charger les stratégies",Y),l([]),f("error"),I(Y)}},[e]);k.useEffect(()=>{B()},[B]);const C=k.useCallback(async Y=>{if(!Y||!n){S(null);return}const he=Gp(n,Y);try{const me=await fetch(he,{headers:{Accept:"application/json"}});if(!me.ok)throw new Error(`HTTP ${me.status}`);const K=await me.json();S(Hp(K))}catch(me){console.error("Impossible de charger les métriques du backtest",me)}},[n]),L=k.useCallback(async(Y,he=1,me=!1)=>{if(!Y||!r){A({items:[],total:0,page:1});return}const K=Gp(r,Y);if(K){$("loading");try{const ee=new URL(K,window.location.origin);ee.searchParams.set("page",String(he)),ee.searchParams.set("page_size",String(o));const re=await fetch(ee.toString(),{headers:{Accept:"application/json"}});if(!re.ok)throw new Error(`HTTP ${re.status}`);const z=await re.json(),F=(Array.isArray(z.items)?z.items:[]).map(V=>Hp(V)).filter(Boolean);A(V=>({page:he,total:typeof z.total=="number"?z.total:F.length,items:me?[...V.items,...F]:F})),$("ready")}catch(ee){console.error("Impossible de charger l'historique des backtests",ee),$("error")}}},[r,o]);k.useEffect(()=>{if(!c){S(null),A({items:[],total:0,page:1});return}C(c),L(c,1,!1)},[c,C,L]);const U=k.useMemo(()=>!x||!Array.isArray(x.equity_curve)?[]:x.equity_curve.map((Y,he)=>({index:he,equity:typeof Y=="number"?Y:Number.parseFloat(Y)||0})),[x]),H=k.useMemo(()=>x&&x.metadata&&x.metadata.currency?x.metadata.currency:"USD",[x]),W=!!(c&&p.trim()),J=O.items.length<O.total,ae=k.useCallback(async Y=>{if(Y.preventDefault(),!c){I(new Error("Aucune stratégie sélectionnée."));return}const he=Gp(t,c);if(!he){I(new Error("Endpoint de backtest introuvable."));return}j("running"),D(""),I(null);const me={symbol:p.trim(),timeframe:h,lookback_days:m,initial_balance:v};try{const K=await fetch(he,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(me)});if(!K.ok){const z=await K.json().catch(()=>null),_e=z&&z.message?z.message:`HTTP ${K.status}`;throw new Error(_e)}const ee=await K.json(),re=Hp(ee);S(re),j("success"),D("Backtest exécuté avec succès."),await C(c),await L(c,1,!1)}catch(K){console.error("Échec de l'exécution du backtest",K),j("error"),I(K)}},[c,t,p,h,m,v,C,L]),xe=k.useCallback(()=>{c&&L(c,O.page+1,!0)},[c,O.page,L]);return w.jsxs("div",{className:"backtest-console",children:[w.jsxs("form",{className:"backtest-console__form",onSubmit:ae,children:[w.jsxs("div",{className:"backtest-console__fields",children:[w.jsxs("label",{className:"designer-field",children:[w.jsx("span",{className:"designer-field__label text text--muted",children:"Stratégie"}),w.jsxs("select",{value:c,onChange:Y=>d(Y.target.value),disabled:u==="loading",children:[s.length===0&&w.jsx("option",{value:"",disabled:!0,children:u==="loading"?"Chargement des stratégies…":"Aucune stratégie disponible"}),s.map(Y=>w.jsx("option",{value:Y.id,children:Y.name||Y.id},Y.id))]})]}),w.jsxs("label",{className:"designer-field",children:[w.jsx("span",{className:"designer-field__label text text--muted",children:"Actif"}),w.jsx("input",{type:"text",value:p,onChange:Y=>y(Y.target.value.toUpperCase()),placeholder:"BTCUSDT"})]}),w.jsxs("label",{className:"designer-field",children:[w.jsx("span",{className:"designer-field__label text text--muted",children:"Période"}),w.jsx("select",{value:h,onChange:Y=>g(Y.target.value),children:qZ.map(Y=>w.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),w.jsxs("label",{className:"designer-field",children:[w.jsx("span",{className:"designer-field__label text text--muted",children:"Fenêtre (jours)"}),w.jsx("input",{type:"number",min:"1",max:"180",value:m,onChange:Y=>b(Math.max(1,Number.parseInt(Y.target.value,10)||1))})]}),w.jsxs("label",{className:"designer-field",children:[w.jsx("span",{className:"designer-field__label text text--muted",children:"Capital initial"}),w.jsx("input",{type:"number",min:"100",step:"100",value:v,onChange:Y=>_(Math.max(100,Number.parseFloat(Y.target.value)||100))})]})]}),w.jsx("div",{className:"backtest-console__actions",children:w.jsx("button",{type:"submit",className:"button button--primary",disabled:!W||E==="running",children:E==="running"?"Backtest en cours…":"Lancer le backtest"})})]}),N&&w.jsx("div",{className:"backtest-console__message",role:"status",children:N}),M&&w.jsx("div",{className:"backtest-console__error",role:"alert",children:M.message||"Une erreur est survenue lors du backtest."}),w.jsxs("section",{className:"backtest-console__results","aria-labelledby":"backtest-results-title",children:[w.jsx("h3",{id:"backtest-results-title",className:"heading heading--md",children:"Résultat du dernier backtest"}),!x&&w.jsx("p",{className:"text text--muted",children:"Lancez un backtest pour visualiser l'équity et les indicateurs de performance."}),x&&w.jsxs(w.Fragment,{children:[w.jsxs("ul",{className:"backtest-console__metrics",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"P&L"}),w.jsx("span",{children:Ou(x.pnl,H)})]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Rendement"}),w.jsx("span",{children:Vp(x.total_return)})]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Max drawdown"}),w.jsx("span",{children:Vp(x.drawdown)})]})]}),U.length>0?w.jsx("div",{className:"backtest-console__chart",role:"img","aria-label":"Équity du backtest",children:w.jsx(qA,{width:"100%",height:240,children:w.jsxs(nE,{data:U,margin:{top:8,right:16,bottom:8,left:8},children:[w.jsx(Ev,{strokeDasharray:"3 3"}),w.jsx(kl,{dataKey:"index",tickFormatter:Y=>`#${Y}`}),w.jsx(Tl,{tickFormatter:Y=>Ou(Y,H)}),w.jsx(vn,{formatter:Y=>Ou(Y,H),labelFormatter:Y=>`Point ${Y}`}),w.jsx(bo,{type:"monotone",dataKey:"equity",stroke:"#2563eb",strokeWidth:2,dot:!1})]})})}):w.jsx("p",{className:"text text--muted",children:"Les données d'équity ne sont pas disponibles pour ce backtest."})]})]}),w.jsxs("section",{className:"backtest-console__history","aria-labelledby":"backtest-history-title",children:[w.jsx("h3",{id:"backtest-history-title",className:"heading heading--md",children:"Historique des backtests"}),P==="error"&&w.jsx("p",{className:"text text--muted",role:"alert",children:"Impossible de charger l'historique pour le moment."}),O.items.length===0&&P!=="error"?w.jsx("p",{className:"text text--muted",children:"Aucun backtest enregistré pour cette stratégie."}):w.jsx("ul",{className:"backtest-console__history-list","aria-live":"polite",children:O.items.map((Y,he)=>w.jsxs("li",{children:[w.jsxs("div",{children:[w.jsx("strong",{children:Y.metadata&&Y.metadata.symbol?`${Y.metadata.symbol}`:"Backtest"}),w.jsx("span",{className:"text text--muted",children:Y.ran_at?` — ${new Date(Y.ran_at).toLocaleString()}`:""})]}),w.jsxs("div",{className:"backtest-console__history-metrics",children:[w.jsx("span",{children:Ou(Y.pnl,H)}),w.jsx("span",{children:Vp(Y.total_return)})]})]},`${Y.ran_at||he}-${he}`))}),J&&w.jsx("div",{className:"backtest-console__load-more",children:w.jsx("button",{type:"button",className:"button button--secondary",onClick:xe,disabled:P==="loading",children:P==="loading"?"Chargement…":"Charger plus"})})]})]})}function HZ(){const e=document.getElementById("dashboard-bootstrap");if(!e||!e.textContent)return{};try{return JSON.parse(e.textContent)}catch(t){return console.error("Impossible de parser la configuration du tableau de bord",t),{}}}function VZ({endpoint:e,currency:t}){const[n,r]=k.useState({status:"loading",items:[],currency:t});return k.useEffect(()=>{let i=!1;async function a(){r(o=>({...o,status:"loading"}));try{const o=await fetch(e,{headers:{Accept:"application/json"}});if(!o.ok)throw new Error(`HTTP ${o.status}`);const s=await o.json();if(i)return;const l=Array.isArray(s.items)?s.items:[];r({status:"ready",items:l,currency:s.currency||t})}catch(o){i||(console.error("Impossible de récupérer l'historique des portefeuilles",o),r(s=>({...s,status:"error",error:o})))}}return a(),()=>{i=!0}},[e,t]),n.status==="loading"?w.jsx("div",{className:"chart-container__status",role:"status",children:"Chargement des données historiques…"}):n.status==="error"?w.jsx("div",{className:"chart-container__status",role:"alert",children:"Impossible de charger l'historique pour le moment."}):w.jsx(SQ,{history:n.items,currency:n.currency||t})}const Au=HZ(),Pu=document.getElementById("reports-center");if(Pu){let e=[];const t=Pu.dataset.reports||"[]";try{e=JSON.parse(t)}catch(i){console.error("Impossible de parser la liste des rapports",i)}const n=Number.parseInt(Pu.dataset.pageSize||"5",10);qr(Pu).render(w.jsx(k.StrictMode,{children:w.jsx(DQ,{reports:e,pageSize:Number.isNaN(n)?5:n})}))}const $u=document.getElementById("portfolio-chart");if($u){const e=$u.dataset.endpoint||"/portfolios/history",t=$u.dataset.currency||"$";qr($u).render(w.jsx(k.StrictMode,{children:w.jsx(VZ,{endpoint:e,currency:t})}))}const Yp=document.getElementById("alerts-manager");if(Yp){const e=Yp.dataset||{},t=e.endpoint||"/alerts",n=e.authToken||"",r=(Au&&Au.context&&Array.isArray(Au.context.alerts)?Au.context.alerts:[])||[];qr(Yp).render(w.jsx(k.StrictMode,{children:w.jsx(EQ,{initialAlerts:r,endpoint:t,authToken:n})}))}const Xp=document.getElementById("alerts-history");if(Xp){const t=(Xp.dataset||{}).endpoint||"/alerts/history";qr(Xp).render(w.jsx(k.StrictMode,{children:w.jsx(kQ,{endpoint:t})}))}const Qp=document.getElementById("strategy-designer-root");if(Qp){const e=Qp.dataset||{},t=e.saveEndpoint||"/strategies/save",n=e.defaultName||"Nouvelle stratégie";let i=e.defaultFormat||"yaml";i!=="python"&&(i="yaml");let a=Kv;if(e.presets)try{const s=JSON.parse(e.presets);Array.isArray(s)&&s.length&&(a=s)}catch(s){console.error("Impossible de parser les modèles de stratégies",s)}qr(Qp).render(w.jsx(k.StrictMode,{children:w.jsx(WZ,{saveEndpoint:t,defaultName:n,defaultFormat:i,presets:a})}))}const Jp=document.getElementById("ai-strategy-assistant-root");if(Jp){const e=Jp.dataset||{},t=e.generateEndpoint||"/strategies/generate",n=e.importEndpoint||"/strategies/import";qr(Jp).render(w.jsx(k.StrictMode,{children:w.jsx(rE,{generateEndpoint:t,importEndpoint:n})}))}const Zp=document.getElementById("strategy-backtest-root");if(Zp){const e=Zp.dataset||{},t=Number.parseInt(e.historyPageSize||"5",10);qr(Zp).render(w.jsx(k.StrictMode,{children:w.jsx(KZ,{strategiesEndpoint:e.strategiesEndpoint||"/api/strategies",runEndpointTemplate:e.runEndpointTemplate||"/api/strategies/__id__/backtest",uiEndpointTemplate:e.uiEndpointTemplate||"/api/strategies/__id__/backtest/ui",historyEndpointTemplate:e.historyEndpointTemplate||"/api/strategies/__id__/backtests",defaultStrategyId:e.defaultStrategyId||"",defaultSymbol:e.defaultSymbol||"BTCUSDT",historyPageSize:Number.isNaN(t)?5:t})}))}
