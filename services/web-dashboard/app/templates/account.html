<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Espace utilisateur &amp; API</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <header class="layout__header">
      <nav class="app-nav" aria-label="Navigation principale">
        <a
          href="{{ request.url_for('render_dashboard') }}"
          class="app-nav__link {{ 'app-nav__link--active' if active_page == 'dashboard' else '' }}"
          aria-current="{{ 'page' if active_page == 'dashboard' else 'false' }}"
        >
          Tableau de bord
        </a>
        <a
          href="{{ request.url_for('render_marketplace') }}"
          class="app-nav__link {{ 'app-nav__link--active' if active_page == 'marketplace' else '' }}"
          aria-current="{{ 'page' if active_page == 'marketplace' else 'false' }}"
        >
          Marketplace
        </a>
        <a
          href="{{ request.url_for('render_strategies') }}"
          class="app-nav__link {{ 'app-nav__link--active' if active_page == 'strategies' else '' }}"
          aria-current="{{ 'page' if active_page == 'strategies' else 'false' }}"
        >
          Stratégies
        </a>
        <a
          href="{{ request.url_for('render_strategy_documentation') }}"
          class="app-nav__link {{ 'app-nav__link--active' if active_page == 'strategy-docs' else '' }}"
          aria-current="{{ 'page' if active_page == 'strategy-docs' else 'false' }}"
        >
          Documentation stratégies
        </a>
        <a
          href="{{ request.url_for('render_account') }}"
          class="app-nav__link {{ 'app-nav__link--active' if active_page == 'account' else '' }}"
          aria-current="{{ 'page' if active_page == 'account' else 'false' }}"
        >
          Compte &amp; API
        </a>
      </nav>
      <h1 class="heading heading--xl">Gestion du compte &amp; des clés API</h1>
      <p class="text text--muted">
        Connectez-vous, gérez vos accès et configurez les identifiants d'exchanges à exposer au moteur de trading.
      </p>
    </header>
    <main class="layout__main layout__main--wide">
      <section class="card" aria-labelledby="login-title">
        <div class="card__header">
          <h2 id="login-title" class="heading heading--lg">Connexion</h2>
          <p class="text text--muted">Authentifiez-vous pour débloquer les fonctions de sauvegarde et d'orchestration.</p>
        </div>
        <div class="card__body">
          <form class="form-grid" action="#" method="post">
            <label class="designer-field">
              <span class="designer-field__label text text--muted">Adresse e-mail</span>
              <input type="email" name="email" autocomplete="email" required />
            </label>
            <label class="designer-field">
              <span class="designer-field__label text text--muted">Mot de passe</span>
              <input type="password" name="password" autocomplete="current-password" required />
            </label>
            <button type="submit" class="button button--primary">Se connecter</button>
          </form>
        </div>
      </section>

      <section class="card" aria-labelledby="api-keys-title">
        <div class="card__header">
          <h2 id="api-keys-title" class="heading heading--lg">Clés API exchanges</h2>
          <p class="text text--muted">
            Stockez vos identifiants chiffrés. Ils seront synchronisés avec l'orchestrateur lors des déploiements.
          </p>
        </div>
        <div class="card__body">
          <form class="form-grid" action="#" method="post">
            <label class="designer-field">
              <span class="designer-field__label text text--muted">Exchange</span>
              <select name="exchange">
                <option value="binance">Binance</option>
                <option value="ftx">FTX</option>
                <option value="kraken">Kraken</option>
                <option value="bitstamp">Bitstamp</option>
              </select>
            </label>
            <label class="designer-field">
              <span class="designer-field__label text text--muted">Clé publique</span>
              <input type="text" name="public" autocomplete="off" required />
            </label>
            <label class="designer-field">
              <span class="designer-field__label text text--muted">Clé secrète</span>
              <input type="password" name="secret" autocomplete="off" required />
            </label>
            <label class="designer-field">
              <span class="designer-field__label text text--muted">Passphrase</span>
              <input type="password" name="passphrase" autocomplete="off" />
            </label>
            <button type="submit" class="button button--secondary">Ajouter la clé</button>
          </form>
          <div class="api-keys-table" role="region" aria-live="polite">
            <table class="table" role="grid" aria-label="Clés API enregistrées">
              <thead>
                <tr>
                  <th scope="col">Exchange</th>
                  <th scope="col">Identifiant</th>
                  <th scope="col">Permissions</th>
                  <th scope="col">Dernière mise à jour</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td data-label="Exchange">Binance</td>
                  <td data-label="Identifiant">binance-001</td>
                  <td data-label="Permissions"><span class="badge badge--info">Trading</span></td>
                  <td data-label="Dernière mise à jour">02/05/2024</td>
                  <td data-label="Actions">
                    <button type="button" class="button button--ghost">Révoquer</button>
                  </td>
                </tr>
                <tr>
                  <td data-label="Exchange">Kraken</td>
                  <td data-label="Identifiant">kraken-pro</td>
                  <td data-label="Permissions"><span class="badge badge--success">Trading + Retraits</span></td>
                  <td data-label="Dernière mise à jour">15/04/2024</td>
                  <td data-label="Actions">
                    <button type="button" class="button button--ghost">Révoquer</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </main>
    <footer class="layout__footer">
      <p class="text text--muted">Les identifiants sont chiffrés avant synchronisation avec l'algo-engine.</p>
    </footer>
    <script type="module" src="/static/dist/portfolio-chart.js"></script>
  </body>
</html>
